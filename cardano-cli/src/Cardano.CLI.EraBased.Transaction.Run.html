<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE BlockArguments #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TupleSections #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.CLI.EraBased.Transaction.Run</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#partitionSomeWitnesses"><span class="hs-identifier">partitionSomeWitnesses</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCmds"><span class="hs-identifier">runTransactionCmds</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildCmd"><span class="hs-identifier">runTransactionBuildCmd</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildRawCmd"><span class="hs-identifier">runTransactionBuildRawCmd</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignCmd"><span class="hs-identifier">runTransactionSignCmd</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSubmitCmd"><span class="hs-identifier">runTransactionSubmitCmd</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinFeeCmd"><span class="hs-identifier">runTransactionCalculateMinFeeCmd</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinValueCmd"><span class="hs-identifier">runTransactionCalculateMinValueCmd</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionPolicyIdCmd"><span class="hs-identifier">runTransactionPolicyIdCmd</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionHashScriptDataCmd"><span class="hs-identifier">runTransactionHashScriptDataCmd</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionTxIdCmd"><span class="hs-identifier">runTransactionTxIdCmd</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionWitnessCmd"><span class="hs-identifier">runTransactionWitnessCmd</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignWitnessCmd"><span class="hs-identifier">runTransactionSignWitnessCmd</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">where</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">hiding</span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Certificate.Internal.html#Certificate"><span class="hs-identifier">Certificate</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#mkTxCertificates"><span class="hs-identifier">mkTxCertificates</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-consensus-0.28.0.0-d826e39f21dfff0a88314c6b5f7fe31d0f59b12be14d28c36ba2a4e8a260e3d7/share/doc/html/src/Ouroboros.Consensus.Ledger.SupportsMempool.html#txId"><span class="hs-identifier">txId</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#validateTxIns"><span class="hs-identifier">validateTxIns</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#validateTxInsCollateral"><span class="hs-identifier">validateTxInsCollateral</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Api</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Byron.html"><span class="hs-identifier">Cardano.Api.Byron</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Byron</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.html"><span class="hs-identifier">Cardano.Api.Experimental</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier">obtainCommonConstraints</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.html"><span class="hs-identifier">Cardano.Api.Experimental</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Exp</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Ledger.html"><span class="hs-identifier">Cardano.Api.Ledger</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.html"><span class="hs-identifier">Cardano.Api.Network</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Consensus</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.html"><span class="hs-identifier">Cardano.Api.Network</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Net.Tx</span></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-binary-1.7.2.0-579c4455999545449e0c3353d2e39fed055e9a4429df3cfba8bab4b9d5885bb8/share/doc/html/src/Cardano.Binary.html"><span class="hs-identifier">Cardano.Binary</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CBOR</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html"><span class="hs-identifier">Cardano.CLI.Compatible.Exception</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Transaction.TxOut.html"><span class="hs-identifier">Cardano.CLI.Compatible.Transaction.TxOut</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html"><span class="hs-identifier">Cardano.CLI.EraBased.Genesis.Internal.Common</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier">readProtocolParameters</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Certificate.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Certificate.Read</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Mint.Read</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Type.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Mint.Type</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Proposal.Read</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Type.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Proposal.Type</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Type.html#ProposalScriptWitness"><span class="hs-identifier">ProposalScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Read.Common.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Read.Common</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Spend.Read</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Type.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Spend.Type</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#SpendScriptWitness"><span class="hs-identifier">SpendScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Vote.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Vote.Read</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Vote.Type.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Vote.Type</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Withdrawal.Read</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Type.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Withdrawal.Type</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Type.html#WithdrawalScriptWitness"><span class="hs-identifier">WithdrawalScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html"><span class="hs-identifier">Cardano.CLI.EraBased.Transaction.Command</span></a></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html"><span class="hs-identifier">Cardano.CLI.EraBased.Transaction.Command</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Cmd</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html"><span class="hs-identifier">Cardano.CLI.EraBased.Transaction.Internal.HashCheck</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkCertificateHashes"><span class="hs-identifier">checkCertificateHashes</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkProposalHashes"><span class="hs-identifier">checkProposalHashes</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkVotingProcedureHashes"><span class="hs-identifier">checkVotingProcedureHashes</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Json.Encode.html"><span class="hs-identifier">Cardano.CLI.Json.Encode</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Json</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Orphan.html"><span class="hs-identifier">Cardano.CLI.Orphan</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html"><span class="hs-identifier">Cardano.CLI.Read</span></a></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html"><span class="hs-identifier">Cardano.CLI.Type.Common</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.NodeEraMismatchError.html"><span class="hs-identifier">Cardano.CLI.Type.Error.NodeEraMismatchError</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.ProtocolParamsError.html"><span class="hs-identifier">Cardano.CLI.Type.Error.ProtocolParamsError</span></a></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html"><span class="hs-identifier">Cardano.CLI.Type.Error.TxCmdError</span></a></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxValidationError.html"><span class="hs-identifier">Cardano.CLI.Type.Error.TxValidationError</span></a></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Output.html"><span class="hs-identifier">Cardano.CLI.Type.Output</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Output.html#renderScriptCostsWithScriptHashesMap"><span class="hs-identifier">renderScriptCostsWithScriptHashesMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-api-1.12.0.0-debb2522e367c226e9e97acb854a397b0528ff0ed8fbc858e1e6c286557bcfbf/share/doc/html/src/Cardano.Ledger.Api.html"><span class="hs-identifier">Cardano.Ledger.Api</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.html#allInputsTxBodyF"><span class="hs-identifier">allInputsTxBodyF</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.html#bodyTxL"><span class="hs-identifier">bodyTxL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Prelude</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">putLByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">RIO</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#toList"><span class="hs-identifier">toList</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(.=)</span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Encode.Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">encodePretty</span></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bytestring</span></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Char8.html"><span class="hs-identifier">Data.ByteString.Char8</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Lazy.Char8.html"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LBS</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Data.html"><span class="hs-identifier">Data.Data</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#%3A~%3A"><span class="hs-operator">(:~:)</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Foldable</span></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Map.Strict.html"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/text-2.1.1-inplace/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/text-2.1.1-inplace/src/Data.Text.IO.html"><span class="hs-identifier">Data.Text.IO</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html"><span class="hs-identifier">Data.Type.Equality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#TestEquality"><span class="hs-identifier">TestEquality</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-data-1.2.4.1-7be0edaf96cb35129f222e438cc5ac46ec62847404e4f58d96615e96ae9b353a/share/doc/html/src/Data.Universe.html"><span class="hs-identifier">Data.Universe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-data-1.2.4.1-7be0edaf96cb35129f222e438cc5ac46ec62847404e4f58d96615e96ae9b353a/share/doc/html/src/Data.Universe.html#Some"><span class="hs-identifier">Some</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Exts.html"><span class="hs-identifier">GHC.Exts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#IsList"><span class="hs-identifier">IsList</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/System.IO.html"><span class="hs-identifier">System.IO</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IO</span></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Vary</span></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span id="local-6989586621681529420"><span id="local-6989586621681529423"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCmds"><span class="hs-identifier hs-type">runTransactionCmds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529420"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCmds"><span class="hs-identifier hs-type">Cmd.TransactionCmds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529420"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529423"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-103"></span><span id="runTransactionCmds"><span class="annot"><span class="annottext">runTransactionCmds :: forall era e. IsEra era =&gt; TransactionCmds era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCmds"><span class="hs-identifier hs-var hs-var">runTransactionCmds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildCmd"><span class="hs-identifier hs-type">Cmd.TransactionBuildCmd</span></a></span><span> </span><span id="local-6989586621681530639"><span class="annot"><span class="annottext">TransactionBuildCmdArgs era
</span><a href="#local-6989586621681530639"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-105"></span><span>    </span><span class="annot"><span class="annottext">TransactionBuildCmdArgs era -&gt; CIO e ()
forall era e. IsEra era =&gt; TransactionBuildCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildCmd"><span class="hs-identifier hs-var">runTransactionBuildCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionBuildCmdArgs era
</span><a href="#local-6989586621681530639"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildEstimateCmd"><span class="hs-identifier hs-type">Cmd.TransactionBuildEstimateCmd</span></a></span><span> </span><span id="local-6989586621681530641"><span class="annot"><span class="annottext">TransactionBuildEstimateCmdArgs era
</span><a href="#local-6989586621681530641"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TransactionBuildEstimateCmdArgs era -&gt; CIO e ()
forall era e.
IsEra era =&gt;
TransactionBuildEstimateCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildEstimateCmd"><span class="hs-identifier hs-var">runTransactionBuildEstimateCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionBuildEstimateCmdArgs era
</span><a href="#local-6989586621681530641"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildRawCmd"><span class="hs-identifier hs-type">Cmd.TransactionBuildRawCmd</span></a></span><span> </span><span id="local-6989586621681530644"><span class="annot"><span class="annottext">TransactionBuildRawCmdArgs era
</span><a href="#local-6989586621681530644"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-108"></span><span>    </span><span class="annot"><span class="annottext">TransactionBuildRawCmdArgs era -&gt; CIO e ()
forall era e. TransactionBuildRawCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildRawCmd"><span class="hs-identifier hs-var">runTransactionBuildRawCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionBuildRawCmdArgs era
</span><a href="#local-6989586621681530644"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignCmd"><span class="hs-identifier hs-type">Cmd.TransactionSignCmd</span></a></span><span> </span><span id="local-6989586621681530646"><span class="annot"><span class="annottext">TransactionSignCmdArgs
</span><a href="#local-6989586621681530646"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSignCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignCmd"><span class="hs-identifier hs-var">runTransactionSignCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSignCmdArgs
</span><a href="#local-6989586621681530646"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSubmitCmd"><span class="hs-identifier hs-type">Cmd.TransactionSubmitCmd</span></a></span><span> </span><span id="local-6989586621681530649"><span class="annot"><span class="annottext">TransactionSubmitCmdArgs
</span><a href="#local-6989586621681530649"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSubmitCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSubmitCmd"><span class="hs-identifier hs-var">runTransactionSubmitCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSubmitCmdArgs
</span><a href="#local-6989586621681530649"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinFeeCmd"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinFeeCmd</span></a></span><span> </span><span id="local-6989586621681530651"><span class="annot"><span class="annottext">TransactionCalculateMinFeeCmdArgs
</span><a href="#local-6989586621681530651"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-112"></span><span>    </span><span class="annot"><span class="annottext">TransactionCalculateMinFeeCmdArgs -&gt; CIO e ()
forall e. TransactionCalculateMinFeeCmdArgs -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinFeeCmd"><span class="hs-identifier hs-var">runTransactionCalculateMinFeeCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionCalculateMinFeeCmdArgs
</span><a href="#local-6989586621681530651"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinValueCmd"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinValueCmd</span></a></span><span> </span><span id="local-6989586621681530653"><span class="annot"><span class="annottext">TransactionCalculateMinValueCmdArgs era
</span><a href="#local-6989586621681530653"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-114"></span><span>    </span><span class="annot"><span class="annottext">TransactionCalculateMinValueCmdArgs era -&gt; CIO e ()
forall era e. TransactionCalculateMinValueCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinValueCmd"><span class="hs-identifier hs-var">runTransactionCalculateMinValueCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionCalculateMinValueCmdArgs era
</span><a href="#local-6989586621681530653"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculatePlutusScriptCostCmd"><span class="hs-identifier hs-type">Cmd.TransactionCalculatePlutusScriptCostCmd</span></a></span><span> </span><span id="local-6989586621681530655"><span class="annot"><span class="annottext">TransactionCalculatePlutusScriptCostCmdArgs era
</span><a href="#local-6989586621681530655"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; ExceptT TxCmdError IO ()
forall era.
TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculatePlutusScriptCostCmd"><span class="hs-identifier hs-var">runTransactionCalculatePlutusScriptCostCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionCalculatePlutusScriptCostCmdArgs era
</span><a href="#local-6989586621681530655"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionHashScriptDataCmd"><span class="hs-identifier hs-type">Cmd.TransactionHashScriptDataCmd</span></a></span><span> </span><span id="local-6989586621681530658"><span class="annot"><span class="annottext">TransactionHashScriptDataCmdArgs
</span><a href="#local-6989586621681530658"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionHashScriptDataCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionHashScriptDataCmd"><span class="hs-identifier hs-var">runTransactionHashScriptDataCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionHashScriptDataCmdArgs
</span><a href="#local-6989586621681530658"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionTxIdCmd"><span class="hs-identifier hs-type">Cmd.TransactionTxIdCmd</span></a></span><span> </span><span id="local-6989586621681530660"><span class="annot"><span class="annottext">TransactionTxIdCmdArgs
</span><a href="#local-6989586621681530660"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionTxIdCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionTxIdCmd"><span class="hs-identifier hs-var">runTransactionTxIdCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionTxIdCmdArgs
</span><a href="#local-6989586621681530660"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionPolicyIdCmd"><span class="hs-identifier hs-type">Cmd.TransactionPolicyIdCmd</span></a></span><span> </span><span id="local-6989586621681530662"><span class="annot"><span class="annottext">TransactionPolicyIdCmdArgs
</span><a href="#local-6989586621681530662"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-119"></span><span>    </span><span class="annot"><span class="annottext">TransactionPolicyIdCmdArgs -&gt; CIO e ()
forall e. TransactionPolicyIdCmdArgs -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionPolicyIdCmd"><span class="hs-identifier hs-var">runTransactionPolicyIdCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionPolicyIdCmdArgs
</span><a href="#local-6989586621681530662"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionWitnessCmd"><span class="hs-identifier hs-type">Cmd.TransactionWitnessCmd</span></a></span><span> </span><span id="local-6989586621681530664"><span class="annot"><span class="annottext">TransactionWitnessCmdArgs
</span><a href="#local-6989586621681530664"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionWitnessCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionWitnessCmd"><span class="hs-identifier hs-var">runTransactionWitnessCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionWitnessCmdArgs
</span><a href="#local-6989586621681530664"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignWitnessCmd"><span class="hs-identifier hs-type">Cmd.TransactionSignWitnessCmd</span></a></span><span> </span><span id="local-6989586621681530666"><span class="annot"><span class="annottext">TransactionSignWitnessCmdArgs
</span><a href="#local-6989586621681530666"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSignWitnessCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignWitnessCmd"><span class="hs-identifier hs-var">runTransactionSignWitnessCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSignWitnessCmdArgs
</span><a href="#local-6989586621681530666"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- Building transactions</span><span>
</span><span id="line-125"></span><span class="hs-comment">--</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span id="local-6989586621681529432"><span id="local-6989586621681529433"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildCmd"><span class="hs-identifier hs-type">runTransactionBuildCmd</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529432"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529432"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529433"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-131"></span><span id="runTransactionBuildCmd"><span class="annot"><span class="annottext">runTransactionBuildCmd :: forall era e. IsEra era =&gt; TransactionBuildCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildCmd"><span class="hs-identifier hs-var hs-var">runTransactionBuildCmd</span></a></span></span><span>
</span><span id="line-132"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildCmdArgs</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681530867"><span class="annot"><span class="annottext">Era era
currentEra :: Era era
currentEra :: forall era. TransactionBuildCmdArgs era -&gt; Era era
</span><a href="#local-6989586621681530867"><span class="hs-identifier hs-var hs-var">currentEra</span></a></span></span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nodeConnInfo :: forall era. TransactionBuildCmdArgs era -&gt; LocalNodeConnectInfo
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#nodeConnInfo"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-135"></span><span>      </span><span id="local-6989586621681530870"><span class="annot"><span class="annottext">nodeConnInfo :: LocalNodeConnectInfo
</span><a href="#local-6989586621681530870"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#LocalNodeConnectInfo"><span class="hs-identifier hs-type">LocalNodeConnectInfo</span></a></span><span>
</span><span id="line-136"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">localNodeNetworkId :: LocalNodeConnectInfo -&gt; NetworkId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localNodeNetworkId"><span class="hs-identifier hs-var">localNodeNetworkId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681530873"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681530873"><span class="hs-identifier hs-var">networkId</span></a></span></span><span>
</span><span id="line-137"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">localNodeSocketPath :: LocalNodeConnectInfo -&gt; SocketPath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localNodeSocketPath"><span class="hs-identifier hs-var">localNodeSocketPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681530875"><span class="annot"><span class="annottext">SocketPath
</span><a href="#local-6989586621681530875"><span class="hs-identifier hs-var">nodeSocketPath</span></a></span></span><span>
</span><span id="line-138"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mScriptValidity :: forall era. TransactionBuildCmdArgs era -&gt; Maybe ScriptValidity
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mScriptValidity"><span class="hs-identifier hs-var">mScriptValidity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681530877"><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681530877"><span class="hs-identifier hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mOverrideWitnesses :: forall era. TransactionBuildCmdArgs era -&gt; Maybe Word
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mOverrideWitnesses"><span class="hs-identifier hs-var">mOverrideWitnesses</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681530879"><span class="annot"><span class="annottext">Maybe Word
</span><a href="#local-6989586621681530879"><span class="hs-identifier hs-var">mOverrideWitnesses</span></a></span></span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530880"><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txins :: [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txins :: forall era.
TransactionBuildCmdArgs era
-&gt; [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681530880"><span class="hs-identifier hs-var hs-var">txins</span></a></span></span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530882"><span class="annot"><span class="annottext">[TxIn]
readOnlyReferenceInputs :: [TxIn]
readOnlyReferenceInputs :: forall era. TransactionBuildCmdArgs era -&gt; [TxIn]
</span><a href="#local-6989586621681530882"><span class="hs-identifier hs-var hs-var">readOnlyReferenceInputs</span></a></span></span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">requiredSigners :: forall era. TransactionBuildCmdArgs era -&gt; [RequiredSigner]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#requiredSigners"><span class="hs-identifier hs-var">requiredSigners</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681530885"><span class="annot"><span class="annottext">[RequiredSigner]
</span><a href="#local-6989586621681530885"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530886"><span class="annot"><span class="annottext">[TxIn]
txinsc :: [TxIn]
txinsc :: forall era. TransactionBuildCmdArgs era -&gt; [TxIn]
</span><a href="#local-6989586621681530886"><span class="hs-identifier hs-var hs-var">txinsc</span></a></span></span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mReturnCollateral :: forall era.
TransactionBuildCmdArgs era -&gt; Maybe TxOutShelleyBasedEra
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mReturnCollateral"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681530889"><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
</span><a href="#local-6989586621681530889"><span class="hs-identifier hs-var">mReturnColl</span></a></span></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530890"><span class="annot"><span class="annottext">Maybe Lovelace
mTotalCollateral :: Maybe Lovelace
mTotalCollateral :: forall era. TransactionBuildCmdArgs era -&gt; Maybe Lovelace
</span><a href="#local-6989586621681530890"><span class="hs-identifier hs-var hs-var">mTotalCollateral</span></a></span></span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530892"><span class="annot"><span class="annottext">[TxOutAnyEra]
txouts :: [TxOutAnyEra]
txouts :: forall era. TransactionBuildCmdArgs era -&gt; [TxOutAnyEra]
</span><a href="#local-6989586621681530892"><span class="hs-identifier hs-var hs-var">txouts</span></a></span></span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530894"><span class="annot"><span class="annottext">TxOutChangeAddress
changeAddresses :: TxOutChangeAddress
changeAddresses :: forall era. TransactionBuildCmdArgs era -&gt; TxOutChangeAddress
</span><a href="#local-6989586621681530894"><span class="hs-identifier hs-var hs-var">changeAddresses</span></a></span></span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530896"><span class="annot"><span class="annottext">Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: forall era.
TransactionBuildCmdArgs era
-&gt; Maybe (MultiAsset, [ScriptRequirements 'MintItem])
</span><a href="#local-6989586621681530896"><span class="hs-identifier hs-var hs-var">mMintedAssets</span></a></span></span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530898"><span class="annot"><span class="annottext">Maybe SlotNo
mValidityLowerBound :: Maybe SlotNo
mValidityLowerBound :: forall era. TransactionBuildCmdArgs era -&gt; Maybe SlotNo
</span><a href="#local-6989586621681530898"><span class="hs-identifier hs-var hs-var">mValidityLowerBound</span></a></span></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530900"><span class="annot"><span class="annottext">TxValidityUpperBound era
mValidityUpperBound :: TxValidityUpperBound era
mValidityUpperBound :: forall era. TransactionBuildCmdArgs era -&gt; TxValidityUpperBound era
</span><a href="#local-6989586621681530900"><span class="hs-identifier hs-var hs-var">mValidityUpperBound</span></a></span></span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530902"><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: forall era.
TransactionBuildCmdArgs era
-&gt; [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
</span><a href="#local-6989586621681530902"><span class="hs-identifier hs-var hs-var">certificates</span></a></span></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530904"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: [(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: forall era.
TransactionBuildCmdArgs era
-&gt; [(StakeAddress, Lovelace,
     Maybe (ScriptRequirements 'WithdrawalItem))]
</span><a href="#local-6989586621681530904"><span class="hs-identifier hs-var hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530906"><span class="annot"><span class="annottext">TxMetadataJsonSchema
metadataSchema :: TxMetadataJsonSchema
metadataSchema :: forall era. TransactionBuildCmdArgs era -&gt; TxMetadataJsonSchema
</span><a href="#local-6989586621681530906"><span class="hs-identifier hs-var hs-var">metadataSchema</span></a></span></span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530908"><span class="annot"><span class="annottext">[ScriptFile]
scriptFiles :: [ScriptFile]
scriptFiles :: forall era. TransactionBuildCmdArgs era -&gt; [ScriptFile]
</span><a href="#local-6989586621681530908"><span class="hs-identifier hs-var hs-var">scriptFiles</span></a></span></span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530910"><span class="annot"><span class="annottext">[MetadataFile]
metadataFiles :: [MetadataFile]
metadataFiles :: forall era. TransactionBuildCmdArgs era -&gt; [MetadataFile]
</span><a href="#local-6989586621681530910"><span class="hs-identifier hs-var hs-var">metadataFiles</span></a></span></span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530912"><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
mUpdateProposalFile :: Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
mUpdateProposalFile :: forall era.
TransactionBuildCmdArgs era
-&gt; Maybe
     (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><a href="#local-6989586621681530912"><span class="hs-identifier hs-var hs-var">mUpdateProposalFile</span></a></span></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530914"><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: forall era.
TransactionBuildCmdArgs era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681530914"><span class="hs-identifier hs-var hs-var">voteFiles</span></a></span></span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530916"><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: forall era.
TransactionBuildCmdArgs era
-&gt; [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
</span><a href="#local-6989586621681530916"><span class="hs-identifier hs-var hs-var">proposalFiles</span></a></span></span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530918"><span class="annot"><span class="annottext">Maybe TxTreasuryDonation
treasuryDonation :: Maybe TxTreasuryDonation
treasuryDonation :: forall era. TransactionBuildCmdArgs era -&gt; Maybe TxTreasuryDonation
</span><a href="#local-6989586621681530918"><span class="hs-identifier hs-var hs-var">treasuryDonation</span></a></span></span><span> </span><span class="hs-comment">-- Maybe TxTreasuryDonation</span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530920"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: forall era. TransactionBuildCmdArgs era -&gt; TxCborFormat
</span><a href="#local-6989586621681530920"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530922"><span class="annot"><span class="annottext">TxBuildOutputOptions
buildOutputOptions :: TxBuildOutputOptions
buildOutputOptions :: forall era. TransactionBuildCmdArgs era -&gt; TxBuildOutputOptions
</span><a href="#local-6989586621681530922"><span class="hs-identifier hs-var hs-var">buildOutputOptions</span></a></span></span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681530924"><span class="annot"><span class="annottext">eon :: ShelleyBasedEra era
</span><a href="#local-6989586621681530924"><span class="hs-identifier hs-var hs-var">eon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681530867"><span class="hs-identifier hs-var">currentEra</span></a></span><span>
</span><span id="line-165"></span><span>        </span><span id="local-6989586621681530926"><span class="annot"><span class="annottext">era' :: CardanoEra era
</span><a href="#local-6989586621681530926"><span class="hs-identifier hs-var hs-var">era'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681530924"><span class="hs-identifier hs-var">eon</span></a></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span>    </span><span id="local-6989586621681530928"><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681530928"><span class="hs-identifier hs-var">txinsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-168"></span><span>      </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, Maybe (SpendScriptWitness era))]
forall era e.
IsEra era =&gt;
[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="Cardano.CLI.EraBased.Script.Spend.Read.html#readSpendScriptWitnesses"><span class="hs-identifier hs-var">readSpendScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681530880"><span class="hs-identifier hs-var">txins</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681530930"><span class="annot"><span class="annottext">spendingScriptWitnesses :: [ScriptWitness WitCtxTxIn era]
</span><a href="#local-6989586621681530930"><span class="hs-identifier hs-var hs-var">spendingScriptWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((TxIn, Maybe (SpendScriptWitness era))
 -&gt; Maybe (ScriptWitness WitCtxTxIn era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [ScriptWitness WitCtxTxIn era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era)
-&gt; Maybe (SpendScriptWitness era)
-&gt; Maybe (ScriptWitness WitCtxTxIn era)
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era
forall era. SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era
</span><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#sswScriptWitness"><span class="hs-identifier hs-var">sswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SpendScriptWitness era)
 -&gt; Maybe (ScriptWitness WitCtxTxIn era))
-&gt; ((TxIn, Maybe (SpendScriptWitness era))
    -&gt; Maybe (SpendScriptWitness era))
-&gt; (TxIn, Maybe (SpendScriptWitness era))
-&gt; Maybe (ScriptWitness WitCtxTxIn era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn, Maybe (SpendScriptWitness era))
-&gt; Maybe (SpendScriptWitness era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681530928"><span class="hs-identifier hs-var">txinsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span>    </span><span id="local-6989586621681530935"><span class="annot"><span class="annottext">[(CertificateFile, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681530935"><span class="hs-identifier hs-var">certFilesAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-173"></span><span>      </span><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
-&gt; CIO e [(CertificateFile, AnyWitness (LedgerEra era))]
forall era e.
IsEra era =&gt;
[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
-&gt; CIO e [(CertificateFile, AnyWitness (LedgerEra era))]
</span><a href="Cardano.CLI.EraBased.Script.Certificate.Read.html#readCertificateScriptWitnesses"><span class="hs-identifier hs-var">readCertificateScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
</span><a href="#local-6989586621681530902"><span class="hs-identifier hs-var">certificates</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-comment">-- TODO: Conway Era - How can we make this more composable?</span><span>
</span><span id="line-176"></span><span>    </span><span id="local-6989586621681530937"><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681530937"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-177"></span><span>      </span><span class="annot"><span class="annottext">[RIO e (Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; RIO
     e [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; [m a] -&gt; m [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#sequence"><span class="hs-identifier hs-var">sequence</span></a></span><span>
</span><span id="line-178"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681530939"><span class="hs-identifier hs-var">mSwit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>            </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era)
 -&gt; (Certificate (LedgerEra era), AnyWitness (LedgerEra era)))
-&gt; RIO e (Certificate (LedgerEra era))
-&gt; RIO e (Certificate (LedgerEra era), AnyWitness (LedgerEra era))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(Certificate era -&gt; Certificate (LedgerEra era))
-&gt; RIO e (Certificate era) -&gt; RIO e (Certificate (LedgerEra era))
forall a b. (a -&gt; b) -&gt; RIO e a -&gt; RIO e b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; Certificate era -&gt; Certificate (LedgerEra era)
forall era.
Era era -&gt; Certificate era -&gt; Certificate (LedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#convertToNewCertificate"><span class="hs-identifier hs-var">Exp.convertToNewCertificate</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RIO e (Certificate era) -&gt; RIO e (Certificate (LedgerEra era)))
-&gt; RIO e (Certificate era) -&gt; RIO e (Certificate (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-180"></span><span>                    </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Error.html#FileError"><span class="hs-identifier hs-type">FileError</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#TextEnvelopeError"><span class="hs-identifier hs-type">TextEnvelopeError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError TextEnvelopeError) (Certificate era))
 -&gt; RIO e (Certificate era))
-&gt; IO (Either (FileError TextEnvelopeError) (Certificate era))
-&gt; RIO e (Certificate era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-181"></span><span>                      </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt;
    IO (Either (FileError TextEnvelopeError) (Certificate era)))
-&gt; IO (Either (FileError TextEnvelopeError) (Certificate era))
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681530924"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt;
  IO (Either (FileError TextEnvelopeError) (Certificate era)))
 -&gt; IO (Either (FileError TextEnvelopeError) (Certificate era)))
-&gt; (ShelleyBasedEraConstraints era =&gt;
    IO (Either (FileError TextEnvelopeError) (Certificate era)))
-&gt; IO (Either (FileError TextEnvelopeError) (Certificate era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-182"></span><span>                        </span><span class="annot"><span class="annottext">File Any 'In
-&gt; IO (Either (FileError TextEnvelopeError) (Certificate era))
forall a content.
HasTextEnvelope a =&gt;
File content 'In -&gt; IO (Either (FileError TextEnvelopeError) a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#readFileTextEnvelope"><span class="hs-identifier hs-var">readFileTextEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; File Any 'In
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681530959"><span class="hs-identifier hs-var">certFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#CertificateFile"><span class="hs-identifier hs-type">CertificateFile</span></a></span><span> </span><span id="local-6989586621681530959"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681530959"><span class="hs-identifier hs-var">certFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530939"><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681530939"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(CertificateFile, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681530935"><span class="hs-identifier hs-var">certFilesAndMaybeScriptWits</span></a></span><span>
</span><span id="line-185"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span>    </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; ((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
    -&gt; RIO e ())
-&gt; RIO e ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#forM_"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681530937"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
    -&gt; ExceptT TxCmdError IO ())
-&gt; (Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; RIO e ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Certificate (LedgerEra era) -&gt; ExceptT TxCmdError IO ()
forall era.
IsEra era =&gt;
Certificate (LedgerEra era) -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkCertificateHashes"><span class="hs-identifier hs-var">checkCertificateHashes</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era) -&gt; ExceptT TxCmdError IO ())
-&gt; ((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
    -&gt; Certificate (LedgerEra era))
-&gt; (Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; ExceptT TxCmdError IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; Certificate (LedgerEra era)
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span>    </span><span id="local-6989586621681530963"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681530963"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><span class="annottext">((StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))
 -&gt; RIO
      e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era)))
-&gt; [(StakeAddress, Lovelace,
     Maybe (ScriptRequirements 'WithdrawalItem))]
-&gt; RIO
     e [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">(StakeAddress, Lovelace,
 Maybe (ScriptRequirements 'WithdrawalItem))
-&gt; RIO
     e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
(StakeAddress, Lovelace,
 Maybe (ScriptRequirements 'WithdrawalItem))
-&gt; CIO
     e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
forall era e.
IsEra era =&gt;
(StakeAddress, Lovelace,
 Maybe (ScriptRequirements 'WithdrawalItem))
-&gt; CIO
     e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
</span><a href="Cardano.CLI.EraBased.Script.Withdrawal.Read.html#readWithdrawalScriptWitness"><span class="hs-identifier hs-var">readWithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
</span><a href="#local-6989586621681530904"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-191"></span><span>    </span><span id="local-6989586621681530966"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681530966"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><span class="annottext">Era era
-&gt; TxMetadataJsonSchema
-&gt; [MetadataFile]
-&gt; CIO e (TxMetadataInEra era)
forall era e.
Era era
-&gt; TxMetadataJsonSchema
-&gt; [MetadataFile]
-&gt; CIO e (TxMetadataInEra era)
</span><a href="Cardano.CLI.Read.html#readTxMetadata"><span class="hs-identifier hs-var">readTxMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681530867"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxMetadataJsonSchema
</span><a href="#local-6989586621681530906"><span class="hs-identifier hs-var">metadataSchema</span></a></span><span> </span><span class="annot"><span class="annottext">[MetadataFile]
</span><a href="#local-6989586621681530910"><span class="hs-identifier hs-var">metadataFiles</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681530968"><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681530968"><span class="hs-identifier hs-var">mintedMultiAsset</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530969"><span class="annot"><span class="annottext">[ScriptRequirements 'MintItem]
</span><a href="#local-6989586621681530969"><span class="hs-identifier hs-var">sWitFiles</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [ScriptRequirements 'MintItem])
-&gt; Maybe (MultiAsset, [ScriptRequirements 'MintItem])
-&gt; (MultiAsset, [ScriptRequirements 'MintItem])
forall a. a -&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [ScriptRequirements 'MintItem])
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (MultiAsset, [ScriptRequirements 'MintItem])
</span><a href="#local-6989586621681530896"><span class="hs-identifier hs-var">mMintedAssets</span></a></span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621681530971"><span class="annot"><span class="annottext">[MintScriptWitnessWithPolicyId era]
</span><a href="#local-6989586621681530971"><span class="hs-identifier hs-var">mintingWitnesses</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><span class="annottext">(ScriptRequirements 'MintItem
 -&gt; RIO e (MintScriptWitnessWithPolicyId era))
-&gt; [ScriptRequirements 'MintItem]
-&gt; RIO e [MintScriptWitnessWithPolicyId era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptRequirements 'MintItem
-&gt; RIO e (MintScriptWitnessWithPolicyId era)
ScriptRequirements 'MintItem
-&gt; CIO e (MintScriptWitnessWithPolicyId era)
forall era e.
IsEra era =&gt;
ScriptRequirements 'MintItem
-&gt; CIO e (MintScriptWitnessWithPolicyId era)
</span><a href="Cardano.CLI.EraBased.Script.Mint.Read.html#readMintScriptWitness"><span class="hs-identifier hs-var">readMintScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptRequirements 'MintItem]
</span><a href="#local-6989586621681530969"><span class="hs-identifier hs-var">sWitFiles</span></a></span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621681530973"><span class="annot"><span class="annottext">[ScriptInAnyLang]
</span><a href="#local-6989586621681530973"><span class="hs-identifier hs-var">scripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><span class="annottext">(ScriptFile -&gt; RIO e ScriptInAnyLang)
-&gt; [ScriptFile] -&gt; RIO e [ScriptInAnyLang]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; RIO e ScriptInAnyLang
forall (m :: * -&gt; *). MonadIO m =&gt; FilePath -&gt; m ScriptInAnyLang
</span><a href="Cardano.CLI.Read.html#readFileScriptInAnyLang"><span class="hs-identifier hs-var">readFileScriptInAnyLang</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; RIO e ScriptInAnyLang)
-&gt; (ScriptFile -&gt; FilePath) -&gt; ScriptFile -&gt; RIO e ScriptInAnyLang
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptFile -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ScriptFile]
</span><a href="#local-6989586621681530908"><span class="hs-identifier hs-var">scriptFiles</span></a></span><span>
</span><span id="line-198"></span><span>    </span><span id="local-6989586621681530976"><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681530976"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><span class="annottext">Either TxAuxScriptsValidationError (TxAuxScripts era)
-&gt; RIO e (TxAuxScripts era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
Either e a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-var">fromEitherCli</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxAuxScriptsValidationError (TxAuxScripts era)
 -&gt; RIO e (TxAuxScripts era))
-&gt; Either TxAuxScriptsValidationError (TxAuxScripts era)
-&gt; RIO e (TxAuxScripts era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptInAnyLang]
-&gt; Either TxAuxScriptsValidationError (TxAuxScripts era)
forall era.
IsEra era =&gt;
[ScriptInAnyLang]
-&gt; Either TxAuxScriptsValidationError (TxAuxScripts era)
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxAuxScripts"><span class="hs-identifier hs-var">validateTxAuxScripts</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptInAnyLang]
</span><a href="#local-6989586621681530973"><span class="hs-identifier hs-var">scripts</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span>    </span><span id="local-6989586621681530979"><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681530979"><span class="hs-identifier hs-var">mProp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><a href="#local-6989586621681530912"><span class="hs-identifier hs-var">mUpdateProposalFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-202"></span><span>      </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Feature.html#Featured"><span class="hs-identifier hs-type">Featured</span></a></span><span> </span><span id="local-6989586621681530981"><span class="annot"><span class="annottext">ShelleyToBabbageEra era
</span><a href="#local-6989586621681530981"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681530982"><span class="annot"><span class="annottext">UpdateProposalFile
</span><a href="#local-6989586621681530982"><span class="hs-identifier hs-var">updateProposalFile</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-203"></span><span>        </span><span class="annot"><span class="annottext">ShelleyToBabbageEra era
-&gt; UpdateProposalFile
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
forall era.
ShelleyToBabbageEra era
-&gt; UpdateProposalFile
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
</span><a href="Cardano.CLI.Read.html#readTxUpdateProposal"><span class="hs-identifier hs-var">readTxUpdateProposal</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyToBabbageEra era
</span><a href="#local-6989586621681530981"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateProposalFile
</span><a href="#local-6989586621681530982"><span class="hs-identifier hs-var">updateProposalFile</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
-&gt; (ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
    -&gt; RIO e (TxUpdateProposal era))
-&gt; RIO e (TxUpdateProposal era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
-&gt; RIO e (TxUpdateProposal era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span>
</span><span id="line-204"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era -&gt; RIO e (TxUpdateProposal era)
forall a. a -&gt; RIO e a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era
forall era. TxUpdateProposal era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxUpdateProposalNone"><span class="hs-identifier hs-var">TxUpdateProposalNone</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621681530986"><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681530986"><span class="hs-identifier hs-var">requiredSigners</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><span class="annottext">(RequiredSigner -&gt; RIO e (Hash PaymentKey))
-&gt; [RequiredSigner] -&gt; RIO e [Hash PaymentKey]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO (Either RequiredSignerError (Hash PaymentKey))
-&gt; RIO e (Hash PaymentKey)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either RequiredSignerError (Hash PaymentKey))
 -&gt; RIO e (Hash PaymentKey))
-&gt; (RequiredSigner
    -&gt; IO (Either RequiredSignerError (Hash PaymentKey)))
-&gt; RequiredSigner
-&gt; RIO e (Hash PaymentKey)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RequiredSigner -&gt; IO (Either RequiredSignerError (Hash PaymentKey))
</span><a href="Cardano.CLI.Read.html#readRequiredSigner"><span class="hs-identifier hs-var">readRequiredSigner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RequiredSigner]
</span><a href="#local-6989586621681530885"><span class="hs-identifier hs-var">reqSigners</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span id="local-6989586621681530988"><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681530988"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
-&gt; (TxOutShelleyBasedEra -&gt; RIO e (TxOut CtxTx era))
-&gt; RIO e (Maybe (TxOut CtxTx era))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
</span><a href="#local-6989586621681530889"><span class="hs-identifier hs-var">mReturnColl</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutShelleyBasedEra -&gt; RIO e (TxOut CtxTx era)
TxOutShelleyBasedEra -&gt; CIO e (TxOut CtxTx era)
forall era e.
IsEra era =&gt;
TxOutShelleyBasedEra -&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-var">toTxOutInShelleyBasedEra</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>    </span><span id="local-6989586621681530991"><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681530991"><span class="hs-identifier hs-var">txOuts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TxOutAnyEra -&gt; RIO e (TxOut CtxTx era))
-&gt; [TxOutAnyEra] -&gt; RIO e [TxOut CtxTx era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; TxOutAnyEra -&gt; CIO e (TxOut CtxTx era)
forall era e.
ShelleyBasedEra era -&gt; TxOutAnyEra -&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.Compatible.Transaction.TxOut.html#toTxOutInAnyEra"><span class="hs-identifier hs-var">toTxOutInAnyEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681530924"><span class="hs-identifier hs-var">eon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxOutAnyEra]
</span><a href="#local-6989586621681530892"><span class="hs-identifier hs-var">txouts</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-comment">-- Conway related</span><span>
</span><span id="line-213"></span><span>    </span><span id="local-6989586621681530993"><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681530993"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-214"></span><span>      </span><span class="annot"><span class="annottext">RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; (ConwayEraOnwards era
    -&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
-&gt; CardanoEra era
-&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall a era.
a -&gt; (ConwayEraOnwards era -&gt; a) -&gt; CardanoEra era -&gt; a
forall (eon :: * -&gt; *) a era.
Eon eon =&gt;
a -&gt; (eon era -&gt; a) -&gt; CardanoEra era -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#inEonForEra"><span class="hs-identifier hs-var">inEonForEra</span></a></span><span>
</span><span id="line-215"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall a. a -&gt; RIO e a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConwayEraOnwards era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
-&gt; CIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall era e.
ConwayEraOnwards era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
-&gt; CIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="Cardano.CLI.EraBased.Script.Vote.Read.html#readVotingProceduresFiles"><span class="hs-operator hs-var">`readVotingProceduresFiles`</span></a></span><span> </span><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681530914"><span class="hs-identifier hs-var">voteFiles</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>        </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681530926"><span class="hs-identifier hs-var">era'</span></a></span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span>    </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; ((VotingProcedures era, Maybe (VoteScriptWitness era))
    -&gt; RIO e ())
-&gt; RIO e ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#forM_"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681530993"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ((VotingProcedures era, Maybe (VoteScriptWitness era))
    -&gt; ExceptT TxCmdError IO ())
-&gt; (VotingProcedures era, Maybe (VoteScriptWitness era))
-&gt; RIO e ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">VotingProcedures era -&gt; ExceptT TxCmdError IO ()
forall era.
IsEra era =&gt;
VotingProcedures era -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkVotingProcedureHashes"><span class="hs-identifier hs-var">checkVotingProcedureHashes</span></a></span><span> </span><span class="annot"><span class="annottext">(VotingProcedures era -&gt; ExceptT TxCmdError IO ())
-&gt; ((VotingProcedures era, Maybe (VoteScriptWitness era))
    -&gt; VotingProcedures era)
-&gt; (VotingProcedures era, Maybe (VoteScriptWitness era))
-&gt; ExceptT TxCmdError IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(VotingProcedures era, Maybe (VoteScriptWitness era))
-&gt; VotingProcedures era
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621681530996"><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681530996"><span class="hs-identifier hs-var">proposals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-222"></span><span>      </span><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
-&gt; CIO e [(Proposal era, Maybe (ProposalScriptWitness era))]
forall era e.
IsEra era =&gt;
[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
-&gt; CIO e [(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="Cardano.CLI.EraBased.Script.Proposal.Read.html#readTxGovernanceActions"><span class="hs-identifier hs-var">readTxGovernanceActions</span></a></span><span> </span><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
</span><a href="#local-6989586621681530916"><span class="hs-identifier hs-var">proposalFiles</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>    </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; ((Proposal era, Maybe (ProposalScriptWitness era)) -&gt; RIO e ())
-&gt; RIO e ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#forM_"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681530996"><span class="hs-identifier hs-var">proposals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ((Proposal era, Maybe (ProposalScriptWitness era))
    -&gt; ExceptT TxCmdError IO ())
-&gt; (Proposal era, Maybe (ProposalScriptWitness era))
-&gt; RIO e ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Proposal era -&gt; ExceptT TxCmdError IO ()
forall era. IsEra era =&gt; Proposal era -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkProposalHashes"><span class="hs-identifier hs-var">checkProposalHashes</span></a></span><span> </span><span class="annot"><span class="annottext">(Proposal era -&gt; ExceptT TxCmdError IO ())
-&gt; ((Proposal era, Maybe (ProposalScriptWitness era))
    -&gt; Proposal era)
-&gt; (Proposal era, Maybe (ProposalScriptWitness era))
-&gt; ExceptT TxCmdError IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Proposal era, Maybe (ProposalScriptWitness era)) -&gt; Proposal era
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-comment">-- Extract return addresses from proposals and check that the return address in each proposal is registered</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681530998"><span class="annot"><span class="annottext">returnAddrHashes :: Set StakeCredential
</span><a href="#local-6989586621681530998"><span class="hs-identifier hs-var hs-var">returnAddrHashes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-229"></span><span>          </span><span class="annot"><span class="annottext">[Item (Set StakeCredential)] -&gt; Set StakeCredential
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span>
</span><span id="line-230"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item (Set StakeCredential)
StakeCredential
</span><a href="#local-6989586621681530999"><span class="hs-identifier hs-var">stakeCred</span></a></span><span>
</span><span id="line-231"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531000"><span class="annot"><span class="annottext">Proposal era
</span><a href="#local-6989586621681531000"><span class="hs-identifier hs-var">proposal</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (ProposalScriptWitness era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681530996"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-232"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681530999"><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681530999"><span class="hs-identifier hs-var">stakeCred</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GovernanceAction era
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; Proposal era
-&gt; (Lovelace, StakeCredential, GovernanceAction era)
forall era.
ShelleyBasedEra era
-&gt; Proposal era
-&gt; (Lovelace, StakeCredential, GovernanceAction era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#fromProposalProcedure"><span class="hs-identifier hs-var">fromProposalProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681530924"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">Proposal era
</span><a href="#local-6989586621681531000"><span class="hs-identifier hs-var">proposal</span></a></span><span>
</span><span id="line-233"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-234"></span><span>        </span><span id="local-6989586621681531002"><span class="annot"><span class="annottext">treasuryWithdrawalAddresses :: Set StakeCredential
</span><a href="#local-6989586621681531002"><span class="hs-identifier hs-var hs-var">treasuryWithdrawalAddresses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-235"></span><span>          </span><span class="annot"><span class="annottext">[Item (Set StakeCredential)] -&gt; Set StakeCredential
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span>
</span><span id="line-236"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item (Set StakeCredential)
StakeCredential
</span><a href="#local-6989586621681531003"><span class="hs-identifier hs-var">stakeCred</span></a></span><span>
</span><span id="line-237"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531004"><span class="annot"><span class="annottext">Proposal era
</span><a href="#local-6989586621681531004"><span class="hs-identifier hs-var">proposal</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (ProposalScriptWitness era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681530996"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-238"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">StakeCredential
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531005"><span class="annot"><span class="annottext">GovernanceAction era
</span><a href="#local-6989586621681531005"><span class="hs-identifier hs-var">govAction</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; Proposal era
-&gt; (Lovelace, StakeCredential, GovernanceAction era)
forall era.
ShelleyBasedEra era
-&gt; Proposal era
-&gt; (Lovelace, StakeCredential, GovernanceAction era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#fromProposalProcedure"><span class="hs-identifier hs-var">fromProposalProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681530924"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">Proposal era
</span><a href="#local-6989586621681531004"><span class="hs-identifier hs-var">proposal</span></a></span><span>
</span><span id="line-239"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#TreasuryWithdrawal"><span class="hs-identifier hs-type">TreasuryWithdrawal</span></a></span><span> </span><span id="local-6989586621681531007"><span class="annot"><span class="annottext">[(Network, StakeCredential, Lovelace)]
</span><a href="#local-6989586621681531007"><span class="hs-identifier hs-var">withdrawalsList</span></a></span></span><span> </span><span class="annot"><span class="annottext">StrictMaybe ScriptHash
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GovernanceAction era
</span><a href="#local-6989586621681531005"><span class="hs-identifier hs-var">govAction</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Match on TreasuryWithdrawal action</span><span>
</span><span id="line-240"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Network
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531003"><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681531003"><span class="hs-identifier hs-var">stakeCred</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Network, StakeCredential, Lovelace)]
</span><a href="#local-6989586621681531007"><span class="hs-identifier hs-var">withdrawalsList</span></a></span><span> </span><span class="hs-comment">-- Extract fund-receiving stake credentials</span><span>
</span><span id="line-241"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-242"></span><span>        </span><span id="local-6989586621681531008"><span class="annot"><span class="annottext">allAddrHashes :: Set StakeCredential
</span><a href="#local-6989586621681531008"><span class="hs-identifier hs-var hs-var">allAddrHashes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set StakeCredential -&gt; Set StakeCredential -&gt; Set StakeCredential
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#union"><span class="hs-identifier hs-var">Set.union</span></a></span><span> </span><span class="annot"><span class="annottext">Set StakeCredential
</span><a href="#local-6989586621681530998"><span class="hs-identifier hs-var">returnAddrHashes</span></a></span><span> </span><span class="annot"><span class="annottext">Set StakeCredential
</span><a href="#local-6989586621681531002"><span class="hs-identifier hs-var">treasuryWithdrawalAddresses</span></a></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681531010"><span class="annot"><span class="annottext">Map StakeAddress Lovelace
</span><a href="#local-6989586621681531010"><span class="hs-identifier hs-var">balances</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map StakeAddress PoolId
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-245"></span><span>      </span><span class="annot"><span class="annottext">IO
  (Either
     AcquiringFailure
     (Either
        UnsupportedNtcVersionError
        (Either
           EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId))))
-&gt; RIO
     e
     (Either
        UnsupportedNtcVersionError
        (Either
           EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId)))
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span>
</span><span id="line-246"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        UnsupportedNtcVersionError
        (Either
           EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId)))
-&gt; IO
     (Either
        AcquiringFailure
        (Either
           UnsupportedNtcVersionError
           (Either
              EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId))))
forall a.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr BlockInMode ChainPoint QueryInMode () IO a
-&gt; IO (Either AcquiringFailure a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-var">executeLocalStateQueryExpr</span></a></span><span>
</span><span id="line-247"></span><span>            </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681530870"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span><span>
</span><span id="line-248"></span><span>            </span><span class="annot"><span class="annottext">Target ChainPoint
forall point. Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-network-protocols-0.15.0.0-8a75db3c7530192ceb2b37ee5fd7844775e5fdcb8e5aebb7df567dc0ceaba20b/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-var">Consensus.VolatileTip</span></a></span><span>
</span><span id="line-249"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; Set StakeCredential
-&gt; NetworkId
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        UnsupportedNtcVersionError
        (Either
           EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId)))
forall era block point r.
ShelleyBasedEra era
-&gt; Set StakeCredential
-&gt; NetworkId
-&gt; LocalStateQueryExpr
     block
     point
     QueryInMode
     r
     IO
     (Either
        UnsupportedNtcVersionError
        (Either
           EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId)))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryStakeAddresses"><span class="hs-identifier hs-var">queryStakeAddresses</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681530924"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">Set StakeCredential
</span><a href="#local-6989586621681531008"><span class="hs-identifier hs-var">allAddrHashes</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681530873"><span class="hs-identifier hs-var">networkId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>        </span><span class="annot"><span class="annottext">RIO
  e
  (Either
     UnsupportedNtcVersionError
     (Either
        EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId)))
-&gt; (RIO
      e
      (Either
         UnsupportedNtcVersionError
         (Either
            EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId)))
    -&gt; RIO
         e
         (Either
            EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId)))
-&gt; RIO
     e
     (Either
        EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId))
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">RIO
  e
  (Either
     UnsupportedNtcVersionError
     (Either
        EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId)))
-&gt; RIO
     e
     (Either
        EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId))
CIO
  e
  (Either
     UnsupportedNtcVersionError
     (Either
        EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId)))
-&gt; CIO
     e
     (Either
        EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId))
forall err e a.
(Show err, Typeable err, Error err) =&gt;
CIO e (Either err a) -&gt; CIO e a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCIOCli"><span class="hs-identifier hs-var">fromEitherCIOCli</span></a></span><span>
</span><span id="line-252"></span><span>        </span><span class="annot"><span class="annottext">RIO
  e
  (Either
     EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId))
-&gt; (RIO
      e
      (Either
         EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId))
    -&gt; RIO e (Map StakeAddress Lovelace, Map StakeAddress PoolId))
-&gt; RIO e (Map StakeAddress Lovelace, Map StakeAddress PoolId)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">RIO
  e
  (Either
     EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId))
-&gt; RIO e (Map StakeAddress Lovelace, Map StakeAddress PoolId)
CIO
  e
  (Either
     EraMismatch (Map StakeAddress Lovelace, Map StakeAddress PoolId))
-&gt; CIO e (Map StakeAddress Lovelace, Map StakeAddress PoolId)
forall err e a.
(Show err, Typeable err, Error err) =&gt;
CIO e (Either err a) -&gt; CIO e a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCIOCli"><span class="hs-identifier hs-var">fromEitherCIOCli</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531017"><span class="annot"><span class="annottext">unregisteredAddresses :: Set StakeCredential
</span><a href="#local-6989586621681531017"><span class="hs-identifier hs-var hs-var">unregisteredAddresses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-255"></span><span>          </span><span class="annot"><span class="annottext">(StakeCredential -&gt; Bool)
-&gt; Set StakeCredential -&gt; Set StakeCredential
forall a. (a -&gt; Bool) -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#filter"><span class="hs-identifier hs-var">Set.filter</span></a></span><span>
</span><span id="line-256"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681531019"><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681531019"><span class="hs-identifier hs-var">stakeCred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StakeAddress -&gt; Map StakeAddress Lovelace -&gt; Bool
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Map.Internal.html#notMember"><span class="hs-identifier hs-var">Map.notMember</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NetworkId -&gt; StakeCredential -&gt; StakeAddress
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#makeStakeAddress"><span class="hs-identifier hs-var">makeStakeAddress</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681530873"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681531019"><span class="hs-identifier hs-var">stakeCred</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map StakeAddress Lovelace
</span><a href="#local-6989586621681531010"><span class="hs-identifier hs-var">balances</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>            </span><span class="annot"><span class="annottext">Set StakeCredential
</span><a href="#local-6989586621681531008"><span class="hs-identifier hs-var">allAddrHashes</span></a></span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; RIO e () -&gt; RIO e ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set StakeCredential -&gt; Bool
forall a. Set a -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">Set StakeCredential
</span><a href="#local-6989586621681531017"><span class="hs-identifier hs-var">unregisteredAddresses</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RIO e () -&gt; RIO e ()) -&gt; RIO e () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-260"></span><span>      </span><span class="annot"><span class="annottext">TxCmdError -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, Show e, Typeable e, Error e, MonadIO m) =&gt;
e -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#throwCliError"><span class="hs-identifier hs-var">throwCliError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; RIO e ()) -&gt; TxCmdError -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-261"></span><span>        </span><span class="annot"><span class="annottext">Set StakeCredential -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdUnregisteredStakeAddress"><span class="hs-identifier hs-var">TxCmdUnregisteredStakeAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Set StakeCredential
</span><a href="#local-6989586621681531017"><span class="hs-identifier hs-var">unregisteredAddresses</span></a></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-comment">-- the same collateral input can be used for several plutus scripts</span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531026"><span class="annot"><span class="annottext">filteredTxinsc :: [TxIn]
</span><a href="#local-6989586621681531026"><span class="hs-identifier hs-var hs-var">filteredTxinsc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nubOrd</span></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681530886"><span class="hs-identifier hs-var">txinsc</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531028"><span class="annot"><span class="annottext">allReferenceInputs :: [TxIn]
</span><a href="#local-6989586621681531028"><span class="hs-identifier hs-var hs-var">allReferenceInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-267"></span><span>          </span><span class="annot"><span class="annottext">[ScriptWitness WitCtxTxIn era]
-&gt; [ScriptWitness WitCtxMint era]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [WithdrawalScriptWitness era]
-&gt; [VoteScriptWitness era]
-&gt; [ProposalScriptWitness era]
-&gt; [TxIn]
-&gt; [TxIn]
forall era.
[ScriptWitness WitCtxTxIn era]
-&gt; [ScriptWitness WitCtxMint era]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [WithdrawalScriptWitness era]
-&gt; [VoteScriptWitness era]
-&gt; [ProposalScriptWitness era]
-&gt; [TxIn]
-&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-var">getAllReferenceInputs</span></a></span><span>
</span><span id="line-268"></span><span>            </span><span class="annot"><span class="annottext">[ScriptWitness WitCtxTxIn era]
</span><a href="#local-6989586621681530930"><span class="hs-identifier hs-var">spendingScriptWitnesses</span></a></span><span>
</span><span id="line-269"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MintScriptWitnessWithPolicyId era -&gt; ScriptWitness WitCtxMint era)
-&gt; [MintScriptWitnessWithPolicyId era]
-&gt; [ScriptWitness WitCtxMint era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">MintScriptWitnessWithPolicyId era -&gt; ScriptWitness WitCtxMint era
forall era.
MintScriptWitnessWithPolicyId era -&gt; ScriptWitness WitCtxMint era
</span><a href="Cardano.CLI.EraBased.Script.Mint.Type.html#mswScriptWitness"><span class="hs-identifier hs-var">mswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">[MintScriptWitnessWithPolicyId era]
</span><a href="#local-6989586621681530971"><span class="hs-identifier hs-var">mintingWitnesses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681530937"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
 -&gt; Maybe (WithdrawalScriptWitness era))
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [WithdrawalScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeAddress
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531031"><span class="annot"><span class="annottext">Maybe (WithdrawalScriptWitness era)
</span><a href="#local-6989586621681531031"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (WithdrawalScriptWitness era)
</span><a href="#local-6989586621681531031"><span class="hs-identifier hs-var">mSwit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681530963"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((VotingProcedures era, Maybe (VoteScriptWitness era))
 -&gt; Maybe (VoteScriptWitness era))
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [VoteScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(VotingProcedures era, Maybe (VoteScriptWitness era))
-&gt; Maybe (VoteScriptWitness era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681530993"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Proposal era, Maybe (ProposalScriptWitness era))
 -&gt; Maybe (ProposalScriptWitness era))
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; [ProposalScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Proposal era, Maybe (ProposalScriptWitness era))
-&gt; Maybe (ProposalScriptWitness era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681530996"><span class="hs-identifier hs-var">proposals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>            </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681530882"><span class="hs-identifier hs-var">readOnlyReferenceInputs</span></a></span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531032"><span class="annot"><span class="annottext">inputsThatRequireWitnessing :: [TxIn]
</span><a href="#local-6989586621681531032"><span class="hs-identifier hs-var hs-var">inputsThatRequireWitnessing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681531033"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531033"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681531033"><span class="hs-identifier hs-var">input</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (ScriptRequirements 'TxInItem)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681530880"><span class="hs-identifier hs-var">txins</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-277"></span><span>        </span><span id="local-6989586621681531034"><span class="annot"><span class="annottext">allTxInputs :: [TxIn]
</span><a href="#local-6989586621681531034"><span class="hs-identifier hs-var hs-var">allTxInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531032"><span class="hs-identifier hs-var">inputsThatRequireWitnessing</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn] -&gt; [TxIn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531028"><span class="hs-identifier hs-var">allReferenceInputs</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn] -&gt; [TxIn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531026"><span class="hs-identifier hs-var">filteredTxinsc</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span id="local-6989586621681531106"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531106"><span class="hs-identifier hs-var">nodeEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-280"></span><span>      </span><span class="annot"><span class="annottext">IO
  (Either
     AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; RIO e (Either UnsupportedNtcVersionError AnyCardanoEra)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; IO
     (Either
        AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
forall a.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr BlockInMode ChainPoint QueryInMode () IO a
-&gt; IO (Either AcquiringFailure a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-var">executeLocalStateQueryExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681530870"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Target ChainPoint
forall point. Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-network-protocols-0.15.0.0-8a75db3c7530192ceb2b37ee5fd7844775e5fdcb8e5aebb7df567dc0ceaba20b/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-var">Consensus.VolatileTip</span></a></span><span> </span><span class="annot"><span class="annottext">LocalStateQueryExpr
  BlockInMode
  ChainPoint
  QueryInMode
  ()
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
forall block point r.
LocalStateQueryExpr
  block
  point
  QueryInMode
  r
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryCurrentEra"><span class="hs-identifier hs-var">queryCurrentEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>        </span><span class="annot"><span class="annottext">RIO e (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; (RIO e (Either UnsupportedNtcVersionError AnyCardanoEra)
    -&gt; RIO e AnyCardanoEra)
-&gt; RIO e AnyCardanoEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">RIO e (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; RIO e AnyCardanoEra
CIO e (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; CIO e AnyCardanoEra
forall err e a.
(Show err, Typeable err, Error err) =&gt;
CIO e (Either err a) -&gt; CIO e a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCIOCli"><span class="hs-identifier hs-var">fromEitherCIOCli</span></a></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681531109"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681531109"><span class="hs-identifier hs-var">txEraUtxo</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531110"><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681531110"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531111"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681531111"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Set PoolId
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map StakeCredential Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (CompactForm Lovelace)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531112"><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)
</span><a href="#local-6989586621681531112"><span class="hs-identifier hs-var">featuredCurrentTreasuryValueM</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-284"></span><span>      </span><span class="annot"><span class="annottext">IO
  (Either
     AcquiringFailure
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
-&gt; RIO
     e
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span>
</span><span id="line-285"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
            Set PoolId, Map StakeCredential Lovelace,
            Map (Credential 'DRepRole) (CompactForm Lovelace),
            Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
forall a.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr BlockInMode ChainPoint QueryInMode () IO a
-&gt; IO (Either AcquiringFailure a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-var">executeLocalStateQueryExpr</span></a></span><span>
</span><span id="line-286"></span><span>            </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681530870"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span><span>
</span><span id="line-287"></span><span>            </span><span class="annot"><span class="annottext">Target ChainPoint
forall point. Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-network-protocols-0.15.0.0-8a75db3c7530192ceb2b37ee5fd7844775e5fdcb8e5aebb7df567dc0ceaba20b/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-var">Consensus.VolatileTip</span></a></span><span>
</span><span id="line-288"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era
-&gt; [TxIn]
-&gt; [Certificate era]
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
forall era block point r.
CardanoEra era
-&gt; [TxIn]
-&gt; [Certificate era]
-&gt; LocalStateQueryExpr
     block
     point
     QueryInMode
     r
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#queryStateForBalancedTx"><span class="hs-identifier hs-var">queryStateForBalancedTx</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531106"><span class="hs-identifier hs-var">nodeEra</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531034"><span class="hs-identifier hs-var">allTxInputs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>        </span><span class="annot"><span class="annottext">RIO
  e
  (Either
     QueryConvenienceError
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; (RIO
      e
      (Either
         QueryConvenienceError
         (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
          Set PoolId, Map StakeCredential Lovelace,
          Map (Credential 'DRepRole) (CompactForm Lovelace),
          Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
    -&gt; RIO
         e
         (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
          Set PoolId, Map StakeCredential Lovelace,
          Map (Credential 'DRepRole) (CompactForm Lovelace),
          Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; RIO
     e
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">RIO
  e
  (Either
     QueryConvenienceError
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; RIO
     e
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))
CIO
  e
  (Either
     QueryConvenienceError
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; CIO
     e
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))
forall err e a.
(Show err, Typeable err, Error err) =&gt;
CIO e (Either err a) -&gt; CIO e a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCIOCli"><span class="hs-identifier hs-var">fromEitherCIOCli</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531115"><span class="annot"><span class="annottext">currentTreasuryValueAndDonation :: Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531115"><span class="hs-identifier hs-var hs-var">currentTreasuryValueAndDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-293"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe TxTreasuryDonation
</span><a href="#local-6989586621681530918"><span class="hs-identifier hs-var">treasuryDonation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Featured ConwayEraOnwards era TxCurrentTreasuryValue
-&gt; TxCurrentTreasuryValue
forall (eon :: * -&gt; *) era a. Featured eon era a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Feature.html#unFeatured"><span class="hs-identifier hs-var">unFeatured</span></a></span><span> </span><span class="annot"><span class="annottext">(Featured ConwayEraOnwards era TxCurrentTreasuryValue
 -&gt; TxCurrentTreasuryValue)
-&gt; Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)
-&gt; Maybe TxCurrentTreasuryValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)
</span><a href="#local-6989586621681531112"><span class="hs-identifier hs-var">featuredCurrentTreasuryValueM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-294"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe TxTreasuryDonation
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe TxCurrentTreasuryValue
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
forall a. Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- We shouldn't specify the treasury value when no donation is being done</span><span>
</span><span id="line-295"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681531117"><span class="annot"><span class="annottext">TxTreasuryDonation
</span><a href="#local-6989586621681531117"><span class="hs-identifier hs-var">_td</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe TxCurrentTreasuryValue
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
forall a. Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- TODO: Current treasury value couldn't be obtained but is required: we should fail suggesting that the node's version is too old</span><span>
</span><span id="line-296"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681531118"><span class="annot"><span class="annottext">TxTreasuryDonation
</span><a href="#local-6989586621681531118"><span class="hs-identifier hs-var">td</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681531119"><span class="annot"><span class="annottext">TxCurrentTreasuryValue
</span><a href="#local-6989586621681531119"><span class="hs-identifier hs-var">ctv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCurrentTreasuryValue
</span><a href="#local-6989586621681531119"><span class="hs-identifier hs-var">ctv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxTreasuryDonation
</span><a href="#local-6989586621681531118"><span class="hs-identifier hs-var">td</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-comment">-- We need to construct the txBodycontent outside of runTxBuild</span><span>
</span><span id="line-299"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#BalancedTxBody"><span class="hs-identifier hs-type">BalancedTxBody</span></a></span><span> </span><span id="local-6989586621681531121"><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681531121"><span class="hs-identifier hs-var">txBodyContent</span></a></span></span><span> </span><span id="local-6989586621681531122"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681531122"><span class="hs-identifier hs-var">balancedTxBody</span></a></span></span><span> </span><span class="annot"><span class="annottext">TxOut CtxTx era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-300"></span><span>      </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO (BalancedTxBody era)
-&gt; RIO e (BalancedTxBody era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO (BalancedTxBody era)
 -&gt; RIO e (BalancedTxBody era))
-&gt; ExceptT TxCmdError IO (BalancedTxBody era)
-&gt; RIO e (BalancedTxBody era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-301"></span><span>        </span><span class="annot"><span class="annottext">SocketPath
-&gt; NetworkId
-&gt; Maybe ScriptValidity
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; TxOutChangeAddress
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; Maybe Word
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; ExceptT TxCmdError IO (BalancedTxBody era)
forall era.
IsEra era =&gt;
SocketPath
-&gt; NetworkId
-&gt; Maybe ScriptValidity
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; TxOutChangeAddress
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; Maybe Word
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; ExceptT TxCmdError IO (BalancedTxBody era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuild"><span class="hs-identifier hs-var">runTxBuild</span></a></span><span>
</span><span id="line-302"></span><span>          </span><span class="annot"><span class="annottext">SocketPath
</span><a href="#local-6989586621681530875"><span class="hs-identifier hs-var">nodeSocketPath</span></a></span><span>
</span><span id="line-303"></span><span>          </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681530873"><span class="hs-identifier hs-var">networkId</span></a></span><span>
</span><span id="line-304"></span><span>          </span><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681530877"><span class="hs-identifier hs-var">mScriptValidity</span></a></span><span>
</span><span id="line-305"></span><span>          </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681530928"><span class="hs-identifier hs-var">txinsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-306"></span><span>          </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681530882"><span class="hs-identifier hs-var">readOnlyReferenceInputs</span></a></span><span>
</span><span id="line-307"></span><span>          </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531026"><span class="hs-identifier hs-var">filteredTxinsc</span></a></span><span>
</span><span id="line-308"></span><span>          </span><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681530988"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span>
</span><span id="line-309"></span><span>          </span><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681530890"><span class="hs-identifier hs-var">mTotalCollateral</span></a></span><span>
</span><span id="line-310"></span><span>          </span><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681530991"><span class="hs-identifier hs-var">txOuts</span></a></span><span>
</span><span id="line-311"></span><span>          </span><span class="annot"><span class="annottext">TxOutChangeAddress
</span><a href="#local-6989586621681530894"><span class="hs-identifier hs-var">changeAddresses</span></a></span><span>
</span><span id="line-312"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681530968"><span class="hs-identifier hs-var">mintedMultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[MintScriptWitnessWithPolicyId era]
</span><a href="#local-6989586621681530971"><span class="hs-identifier hs-var">mintingWitnesses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>          </span><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681530898"><span class="hs-identifier hs-var">mValidityLowerBound</span></a></span><span>
</span><span id="line-314"></span><span>          </span><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681530900"><span class="hs-identifier hs-var">mValidityUpperBound</span></a></span><span>
</span><span id="line-315"></span><span>          </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681530937"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-316"></span><span>          </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681530963"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-317"></span><span>          </span><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681530986"><span class="hs-identifier hs-var">requiredSigners</span></a></span><span>
</span><span id="line-318"></span><span>          </span><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681530976"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span>
</span><span id="line-319"></span><span>          </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681530966"><span class="hs-identifier hs-var">txMetadata</span></a></span><span>
</span><span id="line-320"></span><span>          </span><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681530979"><span class="hs-identifier hs-var">mProp</span></a></span><span>
</span><span id="line-321"></span><span>          </span><span class="annot"><span class="annottext">Maybe Word
</span><a href="#local-6989586621681530879"><span class="hs-identifier hs-var">mOverrideWitnesses</span></a></span><span>
</span><span id="line-322"></span><span>          </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681530993"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span><span>
</span><span id="line-323"></span><span>          </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681530996"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-324"></span><span>          </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531115"><span class="hs-identifier hs-var">currentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-comment">-- TODO: Calculating the script cost should live as a different command.</span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-comment">-- Why? Because then we can simply read a txbody and figure out</span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-comment">-- the script cost vs having to build the tx body each time</span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxBuildOutputOptions
</span><a href="#local-6989586621681530922"><span class="hs-identifier hs-var">buildOutputOptions</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-330"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#OutputScriptCostOnly"><span class="hs-identifier hs-type">OutputScriptCostOnly</span></a></span><span> </span><span id="local-6989586621681531125"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681531125"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-331"></span><span>        </span><span class="hs-comment">-- Warn that the parameter is deprecated to stderr</span><span>
</span><span id="line-332"></span><span>        </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-333"></span><span>          </span><span class="annot"><span class="annottext">Handle -&gt; FilePath -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IO.Handle.Text.html#hPutStrLn"><span class="hs-identifier hs-var">IO.hPutStrLn</span></a></span><span>
</span><span id="line-334"></span><span>            </span><span class="annot"><span class="annottext">Handle
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IO.StdHandles.html#stderr"><span class="hs-identifier hs-var">IO.stderr</span></a></span><span>
</span><span id="line-335"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Warning: The `--calculate-plutus-script-cost` parameter is deprecated and will be &quot;</span></span><span>
</span><span id="line-336"></span><span>                </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;removed in a future version. Please use the `calculate-script-cost` command instead.&quot;</span></span><span>
</span><span id="line-337"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-type">BuildTxWith</span></a></span><span> </span><span id="local-6989586621681531131"><span class="annot"><span class="annottext">Maybe (LedgerProtocolParameters era)
</span><a href="#local-6989586621681531131"><span class="hs-identifier hs-var">mTxProtocolParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era))
forall build era.
TxBodyContent build era
-&gt; BuildTxWith build (Maybe (LedgerProtocolParameters era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#txProtocolParams"><span class="hs-identifier hs-var">txProtocolParams</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681531121"><span class="hs-identifier hs-var">txBodyContent</span></a></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span>        </span><span id="local-6989586621681531133"><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681531133"><span class="hs-identifier hs-var">pparams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-342"></span><span>          </span><span class="annot"><span class="annottext">Maybe (LedgerProtocolParameters era)
</span><a href="#local-6989586621681531131"><span class="hs-identifier hs-var">mTxProtocolParams</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LedgerProtocolParameters era)
-&gt; (Maybe (LedgerProtocolParameters era)
    -&gt; RIO e (LedgerProtocolParameters era))
-&gt; RIO e (LedgerProtocolParameters era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError
-&gt; Maybe (LedgerProtocolParameters era)
-&gt; CIO e (LedgerProtocolParameters era)
forall err a e.
(Show err, Typeable err, Error err) =&gt;
err -&gt; Maybe a -&gt; CIO e a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromMaybeCli"><span class="hs-identifier hs-var">fromMaybeCli</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdProtocolParametersNotPresentInTxBody"><span class="hs-identifier hs-var">TxCmdProtocolParametersNotPresentInTxBody</span></a></span><span>
</span><span id="line-343"></span><span>        </span><span id="local-6989586621681531136"><span class="annot"><span class="annottext">Prices
</span><a href="#local-6989586621681531136"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-344"></span><span>          </span><span class="annot"><span class="annottext">CardanoEra era -&gt; LedgerProtocolParameters era -&gt; Maybe Prices
forall era.
CardanoEra era -&gt; LedgerProtocolParameters era -&gt; Maybe Prices
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getExecutionUnitPrices"><span class="hs-identifier hs-var">getExecutionUnitPrices</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681530926"><span class="hs-identifier hs-var">era'</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681531133"><span class="hs-identifier hs-var">pparams</span></a></span><span>
</span><span id="line-345"></span><span>            </span><span class="annot"><span class="annottext">Maybe Prices -&gt; (Maybe Prices -&gt; RIO e Prices) -&gt; RIO e Prices
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError -&gt; Maybe Prices -&gt; CIO e Prices
forall err a e.
(Show err, Typeable err, Error err) =&gt;
err -&gt; Maybe a -&gt; CIO e a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromMaybeCli"><span class="hs-identifier hs-var">fromMaybeCli</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdPParamExecutionUnitsNotAvailable"><span class="hs-identifier hs-var">TxCmdPParamExecutionUnitsNotAvailable</span></a></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span>        </span><span class="annot"><span class="annottext">era :~: era
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#Refl"><span class="hs-identifier hs-var">Refl</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-348"></span><span>          </span><span class="annot"><span class="annottext">CardanoEra era -&gt; CardanoEra era -&gt; Maybe (era :~: era)
forall a b. CardanoEra a -&gt; CardanoEra b -&gt; Maybe (a :~: b)
forall {k} (f :: k -&gt; *) (a :: k) (b :: k).
TestEquality f =&gt;
f a -&gt; f b -&gt; Maybe (a :~: b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#testEquality"><span class="hs-identifier hs-var">testEquality</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681530926"><span class="hs-identifier hs-var">era'</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531106"><span class="hs-identifier hs-var">nodeEra</span></a></span><span>
</span><span id="line-349"></span><span>            </span><span class="annot"><span class="annottext">Maybe (era :~: era)
-&gt; (Maybe (era :~: era) -&gt; RIO e (era :~: era))
-&gt; RIO e (era :~: era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">NodeEraMismatchError -&gt; Maybe (era :~: era) -&gt; CIO e (era :~: era)
forall err a e.
(Show err, Typeable err, Error err) =&gt;
err -&gt; Maybe a -&gt; CIO e a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromMaybeCli"><span class="hs-identifier hs-var">fromMaybeCli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; CardanoEra era -&gt; NodeEraMismatchError
forall era nodeEra.
CardanoEra era -&gt; CardanoEra nodeEra -&gt; NodeEraMismatchError
</span><a href="Cardano.CLI.Type.Error.NodeEraMismatchError.html#NodeEraMismatchError"><span class="hs-identifier hs-var">NodeEraMismatchError</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681530926"><span class="hs-identifier hs-var">era'</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531106"><span class="hs-identifier hs-var">nodeEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531173"><span class="annot"><span class="annottext">scriptExecUnitsMap :: Map
  ScriptWitnessIndex
  (Either
     ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
</span><a href="#local-6989586621681531173"><span class="hs-identifier hs-var hs-var">scriptExecUnitsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-352"></span><span>              </span><span class="annot"><span class="annottext">CardanoEra era
-&gt; SystemStart
-&gt; LedgerEpochInfo
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; TxBody era
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
forall era.
CardanoEra era
-&gt; SystemStart
-&gt; LedgerEpochInfo
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; TxBody era
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#evaluateTransactionExecutionUnits"><span class="hs-identifier hs-var">evaluateTransactionExecutionUnits</span></a></span><span>
</span><span id="line-353"></span><span>                </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681530926"><span class="hs-identifier hs-var">era'</span></a></span><span>
</span><span id="line-354"></span><span>                </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681531111"><span class="hs-identifier hs-var">systemStart</span></a></span><span>
</span><span id="line-355"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EraHistory -&gt; LedgerEpochInfo
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerEpochInfo"><span class="hs-identifier hs-var">toLedgerEpochInfo</span></a></span><span> </span><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681531110"><span class="hs-identifier hs-var">eraHistory</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span>                </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681531133"><span class="hs-identifier hs-var">pparams</span></a></span><span>
</span><span id="line-357"></span><span>                </span><span class="annot"><span class="annottext">UTxO era
UTxO era
</span><a href="#local-6989586621681531109"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-358"></span><span>                </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681531122"><span class="hs-identifier hs-var">balancedTxBody</span></a></span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span>        </span><span id="local-6989586621681531176"><span class="annot"><span class="annottext">Map ScriptWitnessIndex ScriptHash
</span><a href="#local-6989586621681531176"><span class="hs-identifier hs-var">scriptHashes</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-361"></span><span>          </span><span class="annot"><span class="annottext">forall (eon :: * -&gt; *) a era.
(Eon eon, Monoid a) =&gt;
CardanoEra era -&gt; (eon era -&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#monoidForEraInEon"><span class="hs-identifier hs-var">monoidForEraInEon</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span>
</span><span id="line-362"></span><span>            </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681530926"><span class="hs-identifier hs-var">era'</span></a></span><span>
</span><span id="line-363"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681531178"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681531178"><span class="hs-identifier hs-var">aeo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map ScriptWitnessIndex ScriptHash
-&gt; Maybe (Map ScriptWitnessIndex ScriptHash)
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Map ScriptWitnessIndex ScriptHash
 -&gt; Maybe (Map ScriptWitnessIndex ScriptHash))
-&gt; Map ScriptWitnessIndex ScriptHash
-&gt; Maybe (Map ScriptWitnessIndex ScriptHash)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; Tx era -&gt; UTxO era -&gt; Map ScriptWitnessIndex ScriptHash
forall era.
AlonzoEraOnwards era
-&gt; Tx era -&gt; UTxO era -&gt; Map ScriptWitnessIndex ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.html#collectPlutusScriptHashes"><span class="hs-identifier hs-var">collectPlutusScriptHashes</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681531178"><span class="hs-identifier hs-var">aeo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681531122"><span class="hs-identifier hs-var">balancedTxBody</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTxO era
UTxO era
</span><a href="#local-6989586621681531109"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Map ScriptWitnessIndex ScriptHash)
-&gt; (Maybe (Map ScriptWitnessIndex ScriptHash)
    -&gt; RIO e (Map ScriptWitnessIndex ScriptHash))
-&gt; RIO e (Map ScriptWitnessIndex ScriptHash)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError
-&gt; Maybe (Map ScriptWitnessIndex ScriptHash)
-&gt; CIO e (Map ScriptWitnessIndex ScriptHash)
forall err a e.
(Show err, Typeable err, Error err) =&gt;
err -&gt; Maybe a -&gt; CIO e a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromMaybeCli"><span class="hs-identifier hs-var">fromMaybeCli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; TxCmdError
forall era. CardanoEra era -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdAlonzoEraOnwardsRequired"><span class="hs-identifier hs-var">TxCmdAlonzoEraOnwardsRequired</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681530926"><span class="hs-identifier hs-var">era'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span>        </span><span id="local-6989586621681531182"><span class="annot"><span class="annottext">[ScriptCostOutput]
</span><a href="#local-6989586621681531182"><span class="hs-identifier hs-var">scriptCostOutput</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-367"></span><span>          </span><span class="annot"><span class="annottext">Either PlutusScriptCostError [ScriptCostOutput]
-&gt; RIO e [ScriptCostOutput]
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
Either e a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-var">fromEitherCli</span></a></span><span> </span><span class="annot"><span class="annottext">(Either PlutusScriptCostError [ScriptCostOutput]
 -&gt; RIO e [ScriptCostOutput])
-&gt; Either PlutusScriptCostError [ScriptCostOutput]
-&gt; RIO e [ScriptCostOutput]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-368"></span><span>            </span><span class="annot"><span class="annottext">Prices
-&gt; Map ScriptWitnessIndex ScriptHash
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
-&gt; Either PlutusScriptCostError [ScriptCostOutput]
</span><a href="Cardano.CLI.Type.Output.html#renderScriptCostsWithScriptHashesMap"><span class="hs-identifier hs-var">renderScriptCostsWithScriptHashesMap</span></a></span><span>
</span><span id="line-369"></span><span>              </span><span class="annot"><span class="annottext">Prices
</span><a href="#local-6989586621681531136"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span><span>
</span><span id="line-370"></span><span>              </span><span class="annot"><span class="annottext">Map ScriptWitnessIndex ScriptHash
</span><a href="#local-6989586621681531176"><span class="hs-identifier hs-var">scriptHashes</span></a></span><span>
</span><span id="line-371"></span><span>              </span><span class="annot"><span class="annottext">Map
  ScriptWitnessIndex
  (Either
     ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
</span><a href="#local-6989586621681531173"><span class="hs-identifier hs-var">scriptExecUnitsMap</span></a></span><span>
</span><span id="line-372"></span><span>        </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ByteString -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier hs-var">LBS.writeFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">File () 'Out -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681531125"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptCostOutput] -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">encodePretty</span></span><span> </span><span class="annot"><span class="annottext">[ScriptCostOutput]
</span><a href="#local-6989586621681531182"><span class="hs-identifier hs-var">scriptCostOutput</span></a></span><span>
</span><span id="line-373"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#OutputTxBodyOnly"><span class="hs-identifier hs-type">OutputTxBodyOnly</span></a></span><span> </span><span id="local-6989586621681531185"><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681531185"><span class="hs-identifier hs-var">fpath</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (Either (FileError ()) ()) -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531186"><span class="annot"><span class="annottext">noWitTx :: Tx era
</span><a href="#local-6989586621681531186"><span class="hs-identifier hs-var hs-var">noWitTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681531122"><span class="hs-identifier hs-var">balancedTxBody</span></a></span><span>
</span><span id="line-375"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="#local-6989586621681530920"><span class="hs-identifier hs-var">isCborOutCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat -&gt; TxCborFormat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-var">TxCborCanonical</span></a></span><span>
</span><span id="line-376"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-var">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681530924"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681531185"><span class="hs-identifier hs-var">fpath</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681531186"><span class="hs-identifier hs-var">noWitTx</span></a></span><span>
</span><span id="line-377"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-var">writeTxFileTextEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681530924"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681531185"><span class="hs-identifier hs-var">fpath</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681531186"><span class="hs-identifier hs-var">noWitTx</span></a></span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildEstimateCmd"><span class="hs-identifier hs-type">runTransactionBuildEstimateCmd</span></a></span><span>
</span><span id="line-380"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681529435"><span class="annot"><a href="#local-6989586621681529435"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621681529436"><span class="annot"><a href="#local-6989586621681529436"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-381"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529435"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildEstimateCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildEstimateCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529435"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529436"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span id="runTransactionBuildEstimateCmd"><span class="annot"><span class="annottext">runTransactionBuildEstimateCmd :: forall era e.
IsEra era =&gt;
TransactionBuildEstimateCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildEstimateCmd"><span class="hs-identifier hs-var hs-var">runTransactionBuildEstimateCmd</span></a></span></span><span> </span><span class="hs-comment">-- TODO change type</span><span>
</span><span id="line-385"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildEstimateCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildEstimateCmdArgs</span></a></span><span>
</span><span id="line-386"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681531331"><span class="annot"><span class="annottext">Era era
currentEra :: Era era
currentEra :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Era era
</span><a href="#local-6989586621681531331"><span class="hs-identifier hs-var hs-var">currentEra</span></a></span></span><span>
</span><span id="line-387"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531333"><span class="annot"><span class="annottext">Maybe ScriptValidity
mScriptValidity :: Maybe ScriptValidity
mScriptValidity :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; Maybe ScriptValidity
</span><a href="#local-6989586621681531333"><span class="hs-identifier hs-var hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531335"><span class="annot"><span class="annottext">Int
shelleyWitnesses :: Int
shelleyWitnesses :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Int
</span><a href="#local-6989586621681531335"><span class="hs-identifier hs-var hs-var">shelleyWitnesses</span></a></span></span><span>
</span><span id="line-389"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531337"><span class="annot"><span class="annottext">Maybe Int
mByronWitnesses :: Maybe Int
mByronWitnesses :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Maybe Int
</span><a href="#local-6989586621681531337"><span class="hs-identifier hs-var hs-var">mByronWitnesses</span></a></span></span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531339"><span class="annot"><span class="annottext">ProtocolParamsFile
protocolParamsFile :: ProtocolParamsFile
protocolParamsFile :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; ProtocolParamsFile
</span><a href="#local-6989586621681531339"><span class="hs-identifier hs-var hs-var">protocolParamsFile</span></a></span></span><span>
</span><span id="line-391"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531341"><span class="annot"><span class="annottext">Value
totalUTxOValue :: Value
totalUTxOValue :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Value
</span><a href="#local-6989586621681531341"><span class="hs-identifier hs-var hs-var">totalUTxOValue</span></a></span></span><span>
</span><span id="line-392"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531343"><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txins :: [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txins :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681531343"><span class="hs-identifier hs-var hs-var">txins</span></a></span></span><span>
</span><span id="line-393"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">readOnlyReferenceInputs :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#readOnlyReferenceInputs"><span class="hs-identifier hs-var">readOnlyReferenceInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681531346"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531346"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">requiredSigners :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [RequiredSigner]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#requiredSigners"><span class="hs-identifier hs-var">requiredSigners</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681531348"><span class="annot"><span class="annottext">[RequiredSigner]
</span><a href="#local-6989586621681531348"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txinsc :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txinsc"><span class="hs-identifier hs-var">txinsc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681531350"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531350"><span class="hs-identifier hs-var">txInsCollateral</span></a></span></span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mReturnCollateral :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; Maybe TxOutShelleyBasedEra
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mReturnCollateral"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681531352"><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
</span><a href="#local-6989586621681531352"><span class="hs-identifier hs-var">mReturnColl</span></a></span></span><span>
</span><span id="line-397"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531353"><span class="annot"><span class="annottext">[TxOutAnyEra]
txouts :: [TxOutAnyEra]
txouts :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [TxOutAnyEra]
</span><a href="#local-6989586621681531353"><span class="hs-identifier hs-var hs-var">txouts</span></a></span></span><span>
</span><span id="line-398"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">changeAddress :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; TxOutChangeAddress
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#changeAddress"><span class="hs-identifier hs-var">changeAddress</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutChangeAddress"><span class="hs-identifier hs-type">TxOutChangeAddress</span></a></span><span> </span><span id="local-6989586621681531357"><span class="annot"><span class="annottext">AddressAny
</span><a href="#local-6989586621681531357"><span class="hs-identifier hs-var">changeAddr</span></a></span></span><span>
</span><span id="line-399"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531358"><span class="annot"><span class="annottext">Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; Maybe (MultiAsset, [ScriptRequirements 'MintItem])
</span><a href="#local-6989586621681531358"><span class="hs-identifier hs-var hs-var">mMintedAssets</span></a></span></span><span>
</span><span id="line-400"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531360"><span class="annot"><span class="annottext">Maybe SlotNo
mValidityLowerBound :: Maybe SlotNo
mValidityLowerBound :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Maybe SlotNo
</span><a href="#local-6989586621681531360"><span class="hs-identifier hs-var hs-var">mValidityLowerBound</span></a></span></span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531362"><span class="annot"><span class="annottext">TxValidityUpperBound era
mValidityUpperBound :: TxValidityUpperBound era
mValidityUpperBound :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; TxValidityUpperBound era
</span><a href="#local-6989586621681531362"><span class="hs-identifier hs-var hs-var">mValidityUpperBound</span></a></span></span><span>
</span><span id="line-402"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531364"><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
</span><a href="#local-6989586621681531364"><span class="hs-identifier hs-var hs-var">certificates</span></a></span></span><span>
</span><span id="line-403"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531366"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: [(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(StakeAddress, Lovelace,
     Maybe (ScriptRequirements 'WithdrawalItem))]
</span><a href="#local-6989586621681531366"><span class="hs-identifier hs-var hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-404"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531368"><span class="annot"><span class="annottext">TxMetadataJsonSchema
metadataSchema :: TxMetadataJsonSchema
metadataSchema :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; TxMetadataJsonSchema
</span><a href="#local-6989586621681531368"><span class="hs-identifier hs-var hs-var">metadataSchema</span></a></span></span><span>
</span><span id="line-405"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531370"><span class="annot"><span class="annottext">[ScriptFile]
scriptFiles :: [ScriptFile]
scriptFiles :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [ScriptFile]
</span><a href="#local-6989586621681531370"><span class="hs-identifier hs-var hs-var">scriptFiles</span></a></span></span><span>
</span><span id="line-406"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531372"><span class="annot"><span class="annottext">[MetadataFile]
metadataFiles :: [MetadataFile]
metadataFiles :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [MetadataFile]
</span><a href="#local-6989586621681531372"><span class="hs-identifier hs-var hs-var">metadataFiles</span></a></span></span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531374"><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681531374"><span class="hs-identifier hs-var hs-var">voteFiles</span></a></span></span><span>
</span><span id="line-408"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531376"><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
</span><a href="#local-6989586621681531376"><span class="hs-identifier hs-var hs-var">proposalFiles</span></a></span></span><span>
</span><span id="line-409"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531378"><span class="annot"><span class="annottext">Maybe Lovelace
plutusCollateral :: Maybe Lovelace
plutusCollateral :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Maybe Lovelace
</span><a href="#local-6989586621681531378"><span class="hs-identifier hs-var hs-var">plutusCollateral</span></a></span></span><span>
</span><span id="line-410"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531380"><span class="annot"><span class="annottext">Maybe ReferenceScriptSize
totalReferenceScriptSize :: Maybe ReferenceScriptSize
totalReferenceScriptSize :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; Maybe ReferenceScriptSize
</span><a href="#local-6989586621681531380"><span class="hs-identifier hs-var hs-var">totalReferenceScriptSize</span></a></span></span><span>
</span><span id="line-411"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531382"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
currentTreasuryValueAndDonation :: Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
currentTreasuryValueAndDonation :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531382"><span class="hs-identifier hs-var hs-var">currentTreasuryValueAndDonation</span></a></span></span><span>
</span><span id="line-412"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531384"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: forall era. TransactionBuildEstimateCmdArgs era -&gt; TxCborFormat
</span><a href="#local-6989586621681531384"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-413"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531386"><span class="annot"><span class="annottext">TxBodyFile 'Out
txBodyOutFile :: TxBodyFile 'Out
txBodyOutFile :: forall era. TransactionBuildEstimateCmdArgs era -&gt; TxBodyFile 'Out
</span><a href="#local-6989586621681531386"><span class="hs-identifier hs-var hs-var">txBodyOutFile</span></a></span></span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-415"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531388"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621681531388"><span class="hs-identifier hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531331"><span class="hs-identifier hs-var">currentEra</span></a></span><span>
</span><span id="line-416"></span><span>        </span><span id="local-6989586621681531389"><span class="annot"><span class="annottext">meo :: MaryEraOnwards era
</span><a href="#local-6989586621681531389"><span class="hs-identifier hs-var hs-var">meo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BabbageEraOnwards era -&gt; MaryEraOnwards era
forall era. BabbageEraOnwards era -&gt; MaryEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; BabbageEraOnwards era
forall era. Era era -&gt; BabbageEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531331"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.BabbageEraOnwards.html#BabbageEraOnwards"><span class="hs-identifier hs-type">BabbageEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529435"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span>    </span><span id="local-6989586621681531390"><span class="annot"><span class="annottext">PParams (LedgerEra era)
</span><a href="#local-6989586621681531390"><span class="hs-identifier hs-var">ledgerPParams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-419"></span><span>      </span><span class="annot"><span class="annottext">ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
-&gt; RIO e (PParams (LedgerEra era))
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
 -&gt; RIO e (PParams (LedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
-&gt; RIO e (PParams (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-420"></span><span>        </span><span class="annot"><span class="annottext">forall era.
IsEra era =&gt;
ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-var">readProtocolParameters</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529435"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681531339"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span>    </span><span id="local-6989586621681531391"><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531391"><span class="hs-identifier hs-var">txInsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-423"></span><span>      </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, Maybe (SpendScriptWitness era))]
forall era e.
IsEra era =&gt;
[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="Cardano.CLI.EraBased.Script.Spend.Read.html#readSpendScriptWitnesses"><span class="hs-identifier hs-var">readSpendScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681531343"><span class="hs-identifier hs-var">txins</span></a></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span>    </span><span id="local-6989586621681531392"><span class="annot"><span class="annottext">[(CertificateFile, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531392"><span class="hs-identifier hs-var">certFilesAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-426"></span><span>      </span><span class="annot"><span class="annottext">forall era e.
IsEra era =&gt;
[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
-&gt; CIO e [(CertificateFile, AnyWitness (LedgerEra era))]
</span><a href="Cardano.CLI.EraBased.Script.Certificate.Read.html#readCertificateScriptWitnesses"><span class="hs-identifier hs-var">readCertificateScriptWitnesses</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529435"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
</span><a href="#local-6989586621681531364"><span class="hs-identifier hs-var">certificates</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span>    </span><span id="local-6989586621681531393"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531393"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-429"></span><span>      </span><span class="annot"><span class="annottext">((StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))
 -&gt; RIO
      e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era)))
-&gt; [(StakeAddress, Lovelace,
     Maybe (ScriptRequirements 'WithdrawalItem))]
-&gt; RIO
     e [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">(StakeAddress, Lovelace,
 Maybe (ScriptRequirements 'WithdrawalItem))
-&gt; RIO
     e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
(StakeAddress, Lovelace,
 Maybe (ScriptRequirements 'WithdrawalItem))
-&gt; CIO
     e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
forall era e.
IsEra era =&gt;
(StakeAddress, Lovelace,
 Maybe (ScriptRequirements 'WithdrawalItem))
-&gt; CIO
     e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
</span><a href="Cardano.CLI.EraBased.Script.Withdrawal.Read.html#readWithdrawalScriptWitness"><span class="hs-identifier hs-var">readWithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
</span><a href="#local-6989586621681531366"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-430"></span><span>    </span><span id="local-6989586621681531394"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531394"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-431"></span><span>      </span><span class="annot"><span class="annottext">Era era
-&gt; TxMetadataJsonSchema
-&gt; [MetadataFile]
-&gt; CIO e (TxMetadataInEra era)
forall era e.
Era era
-&gt; TxMetadataJsonSchema
-&gt; [MetadataFile]
-&gt; CIO e (TxMetadataInEra era)
</span><a href="Cardano.CLI.Read.html#readTxMetadata"><span class="hs-identifier hs-var">readTxMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531331"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxMetadataJsonSchema
</span><a href="#local-6989586621681531368"><span class="hs-identifier hs-var">metadataSchema</span></a></span><span> </span><span class="annot"><span class="annottext">[MetadataFile]
</span><a href="#local-6989586621681531372"><span class="hs-identifier hs-var">metadataFiles</span></a></span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531395"><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681531395"><span class="hs-identifier hs-var">mas</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531396"><span class="annot"><span class="annottext">[ScriptRequirements 'MintItem]
</span><a href="#local-6989586621681531396"><span class="hs-identifier hs-var">sWitFiles</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [ScriptRequirements 'MintItem])
-&gt; Maybe (MultiAsset, [ScriptRequirements 'MintItem])
-&gt; (MultiAsset, [ScriptRequirements 'MintItem])
forall a. a -&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [ScriptRequirements 'MintItem])
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (MultiAsset, [ScriptRequirements 'MintItem])
</span><a href="#local-6989586621681531358"><span class="hs-identifier hs-var">mMintedAssets</span></a></span><span>
</span><span id="line-434"></span><span>    </span><span id="local-6989586621681531397"><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531397"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-435"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681531395"><span class="hs-identifier hs-var">mas</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([MintScriptWitnessWithPolicyId era]
 -&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era]))
-&gt; RIO e [MintScriptWitnessWithPolicyId era]
-&gt; RIO e (MultiAsset, [MintScriptWitnessWithPolicyId era])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptRequirements 'MintItem
 -&gt; RIO e (MintScriptWitnessWithPolicyId era))
-&gt; [ScriptRequirements 'MintItem]
-&gt; RIO e [MintScriptWitnessWithPolicyId era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptRequirements 'MintItem
-&gt; RIO e (MintScriptWitnessWithPolicyId era)
ScriptRequirements 'MintItem
-&gt; CIO e (MintScriptWitnessWithPolicyId era)
forall era e.
IsEra era =&gt;
ScriptRequirements 'MintItem
-&gt; CIO e (MintScriptWitnessWithPolicyId era)
</span><a href="Cardano.CLI.EraBased.Script.Mint.Read.html#readMintScriptWitness"><span class="hs-identifier hs-var">readMintScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptRequirements 'MintItem]
</span><a href="#local-6989586621681531396"><span class="hs-identifier hs-var">sWitFiles</span></a></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span>    </span><span id="local-6989586621681531398"><span class="annot"><span class="annottext">[ScriptInAnyLang]
</span><a href="#local-6989586621681531398"><span class="hs-identifier hs-var">scripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-438"></span><span>      </span><span class="annot"><span class="annottext">(ScriptFile -&gt; RIO e ScriptInAnyLang)
-&gt; [ScriptFile] -&gt; RIO e [ScriptInAnyLang]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; RIO e ScriptInAnyLang
forall (m :: * -&gt; *). MonadIO m =&gt; FilePath -&gt; m ScriptInAnyLang
</span><a href="Cardano.CLI.Read.html#readFileScriptInAnyLang"><span class="hs-identifier hs-var">readFileScriptInAnyLang</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; RIO e ScriptInAnyLang)
-&gt; (ScriptFile -&gt; FilePath) -&gt; ScriptFile -&gt; RIO e ScriptInAnyLang
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptFile -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ScriptFile]
</span><a href="#local-6989586621681531370"><span class="hs-identifier hs-var">scriptFiles</span></a></span><span>
</span><span id="line-439"></span><span>    </span><span id="local-6989586621681531399"><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531399"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-440"></span><span>      </span><span class="annot"><span class="annottext">Either TxAuxScriptsValidationError (TxAuxScripts era)
-&gt; RIO e (TxAuxScripts era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
Either e a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-var">fromEitherCli</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxAuxScriptsValidationError (TxAuxScripts era)
 -&gt; RIO e (TxAuxScripts era))
-&gt; Either TxAuxScriptsValidationError (TxAuxScripts era)
-&gt; RIO e (TxAuxScripts era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptInAnyLang]
-&gt; Either TxAuxScriptsValidationError (TxAuxScripts era)
forall era.
IsEra era =&gt;
[ScriptInAnyLang]
-&gt; Either TxAuxScriptsValidationError (TxAuxScripts era)
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxAuxScripts"><span class="hs-identifier hs-var">validateTxAuxScripts</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptInAnyLang]
</span><a href="#local-6989586621681531398"><span class="hs-identifier hs-var">scripts</span></a></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span>    </span><span id="local-6989586621681531400"><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531400"><span class="hs-identifier hs-var">requiredSigners</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-443"></span><span>      </span><span class="annot"><span class="annottext">(RequiredSigner -&gt; RIO e (Hash PaymentKey))
-&gt; [RequiredSigner] -&gt; RIO e [Hash PaymentKey]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO (Either RequiredSignerError (Hash PaymentKey))
-&gt; RIO e (Hash PaymentKey)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either RequiredSignerError (Hash PaymentKey))
 -&gt; RIO e (Hash PaymentKey))
-&gt; (RequiredSigner
    -&gt; IO (Either RequiredSignerError (Hash PaymentKey)))
-&gt; RequiredSigner
-&gt; RIO e (Hash PaymentKey)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RequiredSigner -&gt; IO (Either RequiredSignerError (Hash PaymentKey))
</span><a href="Cardano.CLI.Read.html#readRequiredSigner"><span class="hs-identifier hs-var">readRequiredSigner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RequiredSigner]
</span><a href="#local-6989586621681531348"><span class="hs-identifier hs-var">reqSigners</span></a></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span>    </span><span id="local-6989586621681531401"><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531401"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TxOutShelleyBasedEra -&gt; RIO e (TxOut CtxTx era))
-&gt; Maybe TxOutShelleyBasedEra -&gt; RIO e (Maybe (TxOut CtxTx era))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Maybe a -&gt; m (Maybe b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutShelleyBasedEra -&gt; RIO e (TxOut CtxTx era)
TxOutShelleyBasedEra -&gt; CIO e (TxOut CtxTx era)
forall era e.
IsEra era =&gt;
TxOutShelleyBasedEra -&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-var">toTxOutInShelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
</span><a href="#local-6989586621681531352"><span class="hs-identifier hs-var">mReturnColl</span></a></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span>    </span><span id="local-6989586621681531402"><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531402"><span class="hs-identifier hs-var">txOuts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TxOutAnyEra -&gt; RIO e (TxOut CtxTx era))
-&gt; [TxOutAnyEra] -&gt; RIO e [TxOut CtxTx era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; TxOutAnyEra -&gt; CIO e (TxOut CtxTx era)
forall era e.
ShelleyBasedEra era -&gt; TxOutAnyEra -&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.Compatible.Transaction.TxOut.html#toTxOutInAnyEra"><span class="hs-identifier hs-var">toTxOutInAnyEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531388"><span class="hs-identifier hs-var">sbe</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxOutAnyEra]
</span><a href="#local-6989586621681531353"><span class="hs-identifier hs-var">txouts</span></a></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span>    </span><span class="hs-comment">-- the same collateral input can be used for several plutus scripts</span><span>
</span><span id="line-450"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531403"><span class="annot"><span class="annottext">filteredTxinsc :: [TxIn]
</span><a href="#local-6989586621681531403"><span class="hs-identifier hs-var hs-var">filteredTxinsc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nubOrd</span></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531350"><span class="hs-identifier hs-var">txInsCollateral</span></a></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span>    </span><span class="hs-comment">-- Conway related</span><span>
</span><span id="line-453"></span><span>    </span><span id="local-6989586621681531404"><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531404"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-454"></span><span>      </span><span class="annot"><span class="annottext">RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; (ConwayEraOnwards era
    -&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
-&gt; ShelleyBasedEra era
-&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall (eon :: * -&gt; *) a era.
Eon eon =&gt;
a -&gt; (eon era -&gt; a) -&gt; ShelleyBasedEra era -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#inEonForShelleyBasedEra"><span class="hs-identifier hs-var">inEonForShelleyBasedEra</span></a></span><span>
</span><span id="line-455"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall a. a -&gt; RIO e a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681531406"><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621681531406"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-457"></span><span>            </span><span class="annot"><span class="annottext">ConwayEraOnwards era
-&gt; (ConwayEraOnwardsConstraints era =&gt;
    RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
-&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall era a.
ConwayEraOnwards era -&gt; (ConwayEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ConwayEraOnwards.html#conwayEraOnwardsConstraints"><span class="hs-identifier hs-var">conwayEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621681531406"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">((ConwayEraOnwardsConstraints era =&gt;
  RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
 -&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
-&gt; (ConwayEraOnwardsConstraints era =&gt;
    RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
-&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-458"></span><span>              </span><span class="annot"><span class="annottext">ConwayEraOnwards era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
-&gt; CIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall era e.
ConwayEraOnwards era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
-&gt; CIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="Cardano.CLI.EraBased.Script.Vote.Read.html#readVotingProceduresFiles"><span class="hs-identifier hs-var">readVotingProceduresFiles</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621681531406"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681531374"><span class="hs-identifier hs-var">voteFiles</span></a></span><span>
</span><span id="line-459"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>        </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531388"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span>    </span><span id="local-6989586621681531411"><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531411"><span class="hs-identifier hs-var">proposals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
-&gt; CIO e [(Proposal era, Maybe (ProposalScriptWitness era))]
forall era e.
IsEra era =&gt;
[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
-&gt; CIO e [(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="Cardano.CLI.EraBased.Script.Proposal.Read.html#readTxGovernanceActions"><span class="hs-identifier hs-var">readTxGovernanceActions</span></a></span><span> </span><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
</span><a href="#local-6989586621681531376"><span class="hs-identifier hs-var">proposalFiles</span></a></span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span>    </span><span id="local-6989586621681531412"><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531412"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-465"></span><span>      </span><span class="annot"><span class="annottext">[RIO e (Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; RIO
     e [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; [m a] -&gt; m [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#sequence"><span class="hs-identifier hs-var">sequence</span></a></span><span> </span><span class="annot"><span class="annottext">([RIO e (Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
 -&gt; RIO
      e [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))])
-&gt; [RIO
      e (Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; RIO
     e [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-466"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681531413"><span class="hs-identifier hs-var">mSwit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>            </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era)
 -&gt; (Certificate (LedgerEra era), AnyWitness (LedgerEra era)))
-&gt; RIO e (Certificate (LedgerEra era))
-&gt; RIO e (Certificate (LedgerEra era), AnyWitness (LedgerEra era))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(Certificate era -&gt; Certificate (LedgerEra era))
-&gt; RIO e (Certificate era) -&gt; RIO e (Certificate (LedgerEra era))
forall a b. (a -&gt; b) -&gt; RIO e a -&gt; RIO e b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; Certificate era -&gt; Certificate (LedgerEra era)
forall era.
Era era -&gt; Certificate era -&gt; Certificate (LedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#convertToNewCertificate"><span class="hs-identifier hs-var">Exp.convertToNewCertificate</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RIO e (Certificate era) -&gt; RIO e (Certificate (LedgerEra era)))
-&gt; RIO e (Certificate era) -&gt; RIO e (Certificate (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-468"></span><span>                    </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt; RIO e (Certificate era))
-&gt; RIO e (Certificate era)
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531388"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt; RIO e (Certificate era))
 -&gt; RIO e (Certificate era))
-&gt; (ShelleyBasedEraConstraints era =&gt; RIO e (Certificate era))
-&gt; RIO e (Certificate era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-469"></span><span>                      </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) (Certificate era))
-&gt; RIO e (Certificate era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError TextEnvelopeError) (Certificate era))
 -&gt; RIO e (Certificate era))
-&gt; IO (Either (FileError TextEnvelopeError) (Certificate era))
-&gt; RIO e (Certificate era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-470"></span><span>                        </span><span class="annot"><span class="annottext">File Any 'In
-&gt; IO (Either (FileError TextEnvelopeError) (Certificate era))
forall a content.
HasTextEnvelope a =&gt;
File content 'In -&gt; IO (Either (FileError TextEnvelopeError) a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#readFileTextEnvelope"><span class="hs-identifier hs-var">readFileTextEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; File Any 'In
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681531428"><span class="hs-identifier hs-var">certFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#CertificateFile"><span class="hs-identifier hs-type">CertificateFile</span></a></span><span> </span><span id="local-6989586621681531428"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681531428"><span class="hs-identifier hs-var">certFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531413"><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681531413"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529435"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-473"></span><span>            </span><span class="annot"><span class="annottext">[(CertificateFile, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531392"><span class="hs-identifier hs-var">certFilesAndMaybeScriptWits</span></a></span><span>
</span><span id="line-474"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span>    </span><span id="local-6989586621681531429"><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681531429"><span class="hs-identifier hs-var">txBodyContent</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-477"></span><span>      </span><span class="annot"><span class="annottext">Either TxCmdError (TxBodyContent BuildTx era)
-&gt; RIO e (TxBodyContent BuildTx era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
Either e a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-var">fromEitherCli</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxCmdError (TxBodyContent BuildTx era)
 -&gt; RIO e (TxBodyContent BuildTx era))
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
-&gt; RIO e (TxBodyContent BuildTx era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-478"></span><span>        </span><span class="annot"><span class="annottext">Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
forall era.
IsEra era =&gt;
Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-var">constructTxBodyContent</span></a></span><span>
</span><span id="line-479"></span><span>          </span><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681531333"><span class="hs-identifier hs-var">mScriptValidity</span></a></span><span>
</span><span id="line-480"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PParams (LedgerEra era) -&gt; Maybe (PParams (LedgerEra era))
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (LedgerEra era)
</span><a href="#local-6989586621681531390"><span class="hs-identifier hs-var">ledgerPParams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-481"></span><span>          </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531391"><span class="hs-identifier hs-var">txInsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-482"></span><span>          </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531346"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-483"></span><span>          </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531403"><span class="hs-identifier hs-var">filteredTxinsc</span></a></span><span>
</span><span id="line-484"></span><span>          </span><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531401"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span>
</span><span id="line-485"></span><span>          </span><span class="annot"><span class="annottext">Maybe Lovelace
forall a. Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- TODO: Remove total collateral parameter from estimateBalancedTxBody</span><span>
</span><span id="line-486"></span><span>          </span><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531402"><span class="hs-identifier hs-var">txOuts</span></a></span><span>
</span><span id="line-487"></span><span>          </span><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681531360"><span class="hs-identifier hs-var">mValidityLowerBound</span></a></span><span>
</span><span id="line-488"></span><span>          </span><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681531362"><span class="hs-identifier hs-var">mValidityUpperBound</span></a></span><span>
</span><span id="line-489"></span><span>          </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531397"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span><span>
</span><span id="line-490"></span><span>          </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531412"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-491"></span><span>          </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531393"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-492"></span><span>          </span><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531400"><span class="hs-identifier hs-var">requiredSigners</span></a></span><span>
</span><span id="line-493"></span><span>          </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-number">0</span></span><span>
</span><span id="line-494"></span><span>          </span><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531399"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span>
</span><span id="line-495"></span><span>          </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531394"><span class="hs-identifier hs-var">txMetadata</span></a></span><span>
</span><span id="line-496"></span><span>          </span><span class="annot"><span class="annottext">TxUpdateProposal era
forall era. TxUpdateProposal era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxUpdateProposalNone"><span class="hs-identifier hs-var">TxUpdateProposalNone</span></a></span><span>
</span><span id="line-497"></span><span>          </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531404"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span><span>
</span><span id="line-498"></span><span>          </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531411"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-499"></span><span>          </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531382"><span class="hs-identifier hs-var">currentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-500"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531431"><span class="annot"><span class="annottext">stakeCredentialsToDeregisterMap :: Map StakeCredential Lovelace
</span><a href="#local-6989586621681531431"><span class="hs-identifier hs-var hs-var">stakeCredentialsToDeregisterMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Item (Map StakeCredential Lovelace)]
-&gt; Map StakeCredential Lovelace
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Item (Map StakeCredential Lovelace)]
 -&gt; Map StakeCredential Lovelace)
-&gt; [Item (Map StakeCredential Lovelace)]
-&gt; Map StakeCredential Lovelace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe (StakeCredential, Lovelace)]
-&gt; [(StakeCredential, Lovelace)]
forall a. [Maybe a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Certificate (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
forall era.
IsEra era =&gt;
Certificate (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getStakeDeregistrationInfo"><span class="hs-identifier hs-var">getStakeDeregistrationInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681531434"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531434"><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681531434"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531412"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-501"></span><span>        </span><span id="local-6989586621681531435"><span class="annot"><span class="annottext">drepsToDeregisterMap :: Map (Credential 'DRepRole) Lovelace
</span><a href="#local-6989586621681531435"><span class="hs-identifier hs-var hs-var">drepsToDeregisterMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-502"></span><span>          </span><span class="annot"><span class="annottext">[Item (Map (Credential 'DRepRole) Lovelace)]
-&gt; Map (Credential 'DRepRole) Lovelace
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Item (Map (Credential 'DRepRole) Lovelace)]
 -&gt; Map (Credential 'DRepRole) Lovelace)
-&gt; [Item (Map (Credential 'DRepRole) Lovelace)]
-&gt; Map (Credential 'DRepRole) Lovelace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-503"></span><span>            </span><span class="annot"><span class="annottext">[Maybe (Credential 'DRepRole, Lovelace)]
-&gt; [(Credential 'DRepRole, Lovelace)]
forall a. [Maybe a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Era era
-&gt; Certificate (LedgerEra era)
-&gt; Maybe (Credential 'DRepRole, Lovelace)
forall era.
Era era
-&gt; Certificate (LedgerEra era)
-&gt; Maybe (Credential 'DRepRole, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getDRepDeregistrationInfo"><span class="hs-identifier hs-var">getDRepDeregistrationInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681531437"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531437"><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681531437"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531412"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-504"></span><span>        </span><span id="local-6989586621681531438"><span class="annot"><span class="annottext">poolsToDeregister :: Set PoolId
</span><a href="#local-6989586621681531438"><span class="hs-identifier hs-var hs-var">poolsToDeregister</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-505"></span><span>          </span><span class="annot"><span class="annottext">[Item (Set PoolId)] -&gt; Set PoolId
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Item (Set PoolId)] -&gt; Set PoolId)
-&gt; [Item (Set PoolId)] -&gt; Set PoolId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-506"></span><span>            </span><span class="annot"><span class="annottext">[Maybe PoolId] -&gt; [PoolId]
forall a. [Maybe a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Era era -&gt; Certificate (LedgerEra era) -&gt; Maybe PoolId
forall era. Era era -&gt; Certificate (LedgerEra era) -&gt; Maybe PoolId
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getPoolDeregistrationInfo"><span class="hs-identifier hs-var">getPoolDeregistrationInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681531440"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531440"><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681531440"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531412"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-507"></span><span>        </span><span id="local-6989586621681531441"><span class="annot"><span class="annottext">totCol :: Lovelace
</span><a href="#local-6989586621681531441"><span class="hs-identifier hs-var hs-var">totCol</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Maybe Lovelace -&gt; Lovelace
forall a. a -&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681531378"><span class="hs-identifier hs-var">plutusCollateral</span></a></span><span>
</span><span id="line-508"></span><span>        </span><span id="local-6989586621681531442"><span class="annot"><span class="annottext">pScriptExecUnits :: Map ScriptWitnessIndex ExecutionUnits
</span><a href="#local-6989586621681531442"><span class="hs-identifier hs-var hs-var">pScriptExecUnits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-509"></span><span>          </span><span class="annot"><span class="annottext">[Item (Map ScriptWitnessIndex ExecutionUnits)]
-&gt; Map ScriptWitnessIndex ExecutionUnits
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span>
</span><span id="line-510"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptWitnessIndex
</span><a href="#local-6989586621681531443"><span class="hs-identifier hs-var">sWitIndex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621681531444"><span class="hs-identifier hs-var">execUnits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531443"><span class="annot"><span class="annottext">ScriptWitnessIndex
</span><a href="#local-6989586621681531443"><span class="hs-identifier hs-var">sWitIndex</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#AnyScriptWitness"><span class="hs-identifier hs-type">AnyScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#PlutusScriptWitness"><span class="hs-identifier hs-type">PlutusScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptLanguageInEra lang era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion lang
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptOrReferenceInput lang
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ScriptDatum witctx
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ScriptRedeemer
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681531444"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621681531444"><span class="hs-identifier hs-var">execUnits</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-512"></span><span>                </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyContent BuildTx era
-&gt; [(ScriptWitnessIndex, AnyScriptWitness era)]
forall era.
ShelleyBasedEra era
-&gt; TxBodyContent BuildTx era
-&gt; [(ScriptWitnessIndex, AnyScriptWitness era)]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#collectTxBodyScriptWitnesses"><span class="hs-identifier hs-var">collectTxBodyScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531388"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681531429"><span class="hs-identifier hs-var">txBodyContent</span></a></span><span>
</span><span id="line-513"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#BalancedTxBody"><span class="hs-identifier hs-type">BalancedTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681531450"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681531450"><span class="hs-identifier hs-var">balancedTxBody</span></a></span></span><span> </span><span class="annot"><span class="annottext">TxOut CtxTx era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-516"></span><span>      </span><span class="annot"><span class="annottext">Either TxCmdError (BalancedTxBody era)
-&gt; RIO e (BalancedTxBody era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
Either e a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-var">fromEitherCli</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxCmdError (BalancedTxBody era)
 -&gt; RIO e (BalancedTxBody era))
-&gt; Either TxCmdError (BalancedTxBody era)
-&gt; RIO e (BalancedTxBody era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-517"></span><span>        </span><span class="annot"><span class="annottext">(TxFeeEstimationError era -&gt; TxCmdError)
-&gt; Either (TxFeeEstimationError era) (BalancedTxBody era)
-&gt; Either TxCmdError (BalancedTxBody era)
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">TxFeeEstimationError era -&gt; TxCmdError
forall era. TxFeeEstimationError era -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdFeeEstimationError"><span class="hs-identifier hs-var">TxCmdFeeEstimationError</span></a></span><span> </span><span class="annot"><span class="annottext">(Either (TxFeeEstimationError era) (BalancedTxBody era)
 -&gt; Either TxCmdError (BalancedTxBody era))
-&gt; Either (TxFeeEstimationError era) (BalancedTxBody era)
-&gt; Either TxCmdError (BalancedTxBody era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-518"></span><span>          </span><span class="annot"><span class="annottext">MaryEraOnwards era
-&gt; TxBodyContent BuildTx era
-&gt; PParams (ShelleyLedgerEra era)
-&gt; Set PoolId
-&gt; Map StakeCredential Lovelace
-&gt; Map (Credential 'DRepRole) Lovelace
-&gt; Map ScriptWitnessIndex ExecutionUnits
-&gt; Lovelace
-&gt; Int
-&gt; Int
-&gt; Int
-&gt; AddressInEra era
-&gt; Value
-&gt; Either (TxFeeEstimationError era) (BalancedTxBody era)
forall era.
HasCallStack =&gt;
MaryEraOnwards era
-&gt; TxBodyContent BuildTx era
-&gt; PParams (ShelleyLedgerEra era)
-&gt; Set PoolId
-&gt; Map StakeCredential Lovelace
-&gt; Map (Credential 'DRepRole) Lovelace
-&gt; Map ScriptWitnessIndex ExecutionUnits
-&gt; Lovelace
-&gt; Int
-&gt; Int
-&gt; Int
-&gt; AddressInEra era
-&gt; Value
-&gt; Either (TxFeeEstimationError era) (BalancedTxBody era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#estimateBalancedTxBody"><span class="hs-identifier hs-var">estimateBalancedTxBody</span></a></span><span>
</span><span id="line-519"></span><span>            </span><span class="annot"><span class="annottext">MaryEraOnwards era
</span><a href="#local-6989586621681531389"><span class="hs-identifier hs-var">meo</span></a></span><span>
</span><span id="line-520"></span><span>            </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681531429"><span class="hs-identifier hs-var">txBodyContent</span></a></span><span>
</span><span id="line-521"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; PParams (LedgerEra era) -&gt; PParams (ShelleyLedgerEra era)
forall era.
Era era
-&gt; PParams (LedgerEra era) -&gt; PParams (ShelleyLedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toShelleyLedgerPParamsShim"><span class="hs-identifier hs-var">toShelleyLedgerPParamsShim</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531331"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (LedgerEra era)
</span><a href="#local-6989586621681531390"><span class="hs-identifier hs-var">ledgerPParams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-522"></span><span>            </span><span class="annot"><span class="annottext">Set PoolId
</span><a href="#local-6989586621681531438"><span class="hs-identifier hs-var">poolsToDeregister</span></a></span><span>
</span><span id="line-523"></span><span>            </span><span class="annot"><span class="annottext">Map StakeCredential Lovelace
</span><a href="#local-6989586621681531431"><span class="hs-identifier hs-var">stakeCredentialsToDeregisterMap</span></a></span><span>
</span><span id="line-524"></span><span>            </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) Lovelace
</span><a href="#local-6989586621681531435"><span class="hs-identifier hs-var">drepsToDeregisterMap</span></a></span><span>
</span><span id="line-525"></span><span>            </span><span class="annot"><span class="annottext">Map ScriptWitnessIndex ExecutionUnits
</span><a href="#local-6989586621681531442"><span class="hs-identifier hs-var">pScriptExecUnits</span></a></span><span>
</span><span id="line-526"></span><span>            </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531441"><span class="hs-identifier hs-var">totCol</span></a></span><span>
</span><span id="line-527"></span><span>            </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681531335"><span class="hs-identifier hs-var">shelleyWitnesses</span></a></span><span>
</span><span id="line-528"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Maybe Int -&gt; Int
forall a. a -&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621681531337"><span class="hs-identifier hs-var">mByronWitnesses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
-&gt; (ReferenceScriptSize -&gt; Int) -&gt; Maybe ReferenceScriptSize -&gt; Int
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">ReferenceScriptSize -&gt; Int
</span><a href="Cardano.CLI.Type.Common.html#unReferenceScriptSize"><span class="hs-identifier hs-var">unReferenceScriptSize</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ReferenceScriptSize
</span><a href="#local-6989586621681531380"><span class="hs-identifier hs-var">totalReferenceScriptSize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-530"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; AddressAny -&gt; AddressInEra era
forall era. ShelleyBasedEra era -&gt; AddressAny -&gt; AddressInEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#anyAddressInShelleyBasedEra"><span class="hs-identifier hs-var">anyAddressInShelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531388"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">AddressAny
</span><a href="#local-6989586621681531357"><span class="hs-identifier hs-var">changeAddr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>            </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681531341"><span class="hs-identifier hs-var">totalUTxOValue</span></a></span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531458"><span class="annot"><span class="annottext">noWitTx :: Tx era
</span><a href="#local-6989586621681531458"><span class="hs-identifier hs-var hs-var">noWitTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681531450"><span class="hs-identifier hs-var">balancedTxBody</span></a></span><span>
</span><span id="line-534"></span><span>    </span><span class="annot"><span class="annottext">IO (Either (FileError ()) ()) -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-535"></span><span>      </span><span class="annot"><span class="annottext">CardanoEra era
-&gt; (CardanoEraConstraints era =&gt; IO (Either (FileError ()) ()))
-&gt; IO (Either (FileError ()) ())
forall era a.
CardanoEra era -&gt; (CardanoEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#cardanoEraConstraints"><span class="hs-identifier hs-var">cardanoEraConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531388"><span class="hs-identifier hs-var">sbe</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((CardanoEraConstraints era =&gt; IO (Either (FileError ()) ()))
 -&gt; IO (Either (FileError ()) ()))
-&gt; (CardanoEraConstraints era =&gt; IO (Either (FileError ()) ()))
-&gt; IO (Either (FileError ()) ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-536"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="#local-6989586621681531384"><span class="hs-identifier hs-var">isCborOutCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat -&gt; TxCborFormat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-var">TxCborCanonical</span></a></span><span>
</span><span id="line-537"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-var">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531388"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681531386"><span class="hs-identifier hs-var">txBodyOutFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681531458"><span class="hs-identifier hs-var">noWitTx</span></a></span><span>
</span><span id="line-538"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-var">writeTxFileTextEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531388"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681531386"><span class="hs-identifier hs-var">txBodyOutFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681531458"><span class="hs-identifier hs-var">noWitTx</span></a></span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="hs-comment">-- TODO: Update type in cardano-api to be more generic then delete this</span><span>
</span><span id="line-541"></span><span id="local-6989586621681529912"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toShelleyLedgerPParamsShim"><span class="hs-identifier hs-type">toShelleyLedgerPParamsShim</span></a></span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529912"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">L.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529912"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">L.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529912"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-543"></span><span id="toShelleyLedgerPParamsShim"><span class="annot"><span class="annottext">toShelleyLedgerPParamsShim :: forall era.
Era era
-&gt; PParams (LedgerEra era) -&gt; PParams (ShelleyLedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toShelleyLedgerPParamsShim"><span class="hs-identifier hs-var hs-var">toShelleyLedgerPParamsShim</span></a></span></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#ConwayEra"><span class="hs-identifier hs-var">Exp.ConwayEra</span></a></span><span> </span><span id="local-6989586621681531464"><span class="annot"><span class="annottext">PParams (LedgerEra era)
</span><a href="#local-6989586621681531464"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
PParams (LedgerEra era)
</span><a href="#local-6989586621681531464"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-544"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toShelleyLedgerPParamsShim"><span class="hs-identifier hs-var">toShelleyLedgerPParamsShim</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#DijkstraEra"><span class="hs-identifier hs-var">Exp.DijkstraEra</span></a></span><span> </span><span id="local-6989586621681531467"><span class="annot"><span class="annottext">PParams (LedgerEra era)
</span><a href="#local-6989586621681531467"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
PParams (LedgerEra era)
</span><a href="#local-6989586621681531467"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-545"></span><span>
</span><span id="line-546"></span><span id="local-6989586621681529922"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-type">fromShelleyLedgerPParamsShim</span></a></span><span>
</span><span id="line-547"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529922"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">L.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529922"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">L.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529922"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-548"></span><span id="fromShelleyLedgerPParamsShim"><span class="annot"><span class="annottext">fromShelleyLedgerPParamsShim :: forall era.
Era era
-&gt; PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-var hs-var">fromShelleyLedgerPParamsShim</span></a></span></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#ConwayEra"><span class="hs-identifier hs-var">Exp.ConwayEra</span></a></span><span> </span><span id="local-6989586621681531470"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681531470"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
PParams (LedgerEra era)
</span><a href="#local-6989586621681531470"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-549"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-var">fromShelleyLedgerPParamsShim</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#DijkstraEra"><span class="hs-identifier hs-var">Exp.DijkstraEra</span></a></span><span> </span><span id="local-6989586621681531472"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681531472"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
PParams (LedgerEra era)
</span><a href="#local-6989586621681531472"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span id="local-6989586621681529893"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getPoolDeregistrationInfo"><span class="hs-identifier hs-type">getPoolDeregistrationInfo</span></a></span><span>
</span><span id="line-552"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529893"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-553"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529893"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-554"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Certificate.Internal.html#PoolId"><span class="hs-identifier hs-type">PoolId</span></a></span></span><span>
</span><span id="line-555"></span><span id="getPoolDeregistrationInfo"><span class="annot"><span class="annottext">getPoolDeregistrationInfo :: forall era. Era era -&gt; Certificate (LedgerEra era) -&gt; Maybe PoolId
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getPoolDeregistrationInfo"><span class="hs-identifier hs-var hs-var">getPoolDeregistrationInfo</span></a></span></span><span> </span><span id="local-6989586621681531473"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531473"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span id="local-6989586621681531477"><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681531477"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-556"></span><span>  </span><span class="annot"><span class="annottext">KeyHash 'StakePool -&gt; PoolId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Key.Internal.html#StakePoolKeyHash"><span class="hs-identifier hs-var">StakePoolKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyHash 'StakePool -&gt; PoolId)
-&gt; ((KeyHash 'StakePool, EpochNo) -&gt; KeyHash 'StakePool)
-&gt; (KeyHash 'StakePool, EpochNo)
-&gt; PoolId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyHash 'StakePool, EpochNo) -&gt; KeyHash 'StakePool
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span>
</span><span id="line-557"></span><span>    </span><span class="annot"><span class="annottext">((KeyHash 'StakePool, EpochNo) -&gt; PoolId)
-&gt; Maybe (KeyHash 'StakePool, EpochNo) -&gt; Maybe PoolId
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    TxCert (LedgerEra era) -&gt; Maybe (KeyHash 'StakePool, EpochNo))
-&gt; TxCert (LedgerEra era)
-&gt; Maybe (KeyHash 'StakePool, EpochNo)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531473"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">EraCommonConstraints era =&gt;
TxCert (LedgerEra era) -&gt; Maybe (KeyHash 'StakePool, EpochNo)
TxCert (LedgerEra era) -&gt; Maybe (KeyHash 'StakePool, EpochNo)
forall era.
EraTxCert era =&gt;
TxCert era -&gt; Maybe (KeyHash 'StakePool, EpochNo)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.TxCert.html#getRetirePoolTxCert"><span class="hs-identifier hs-var">L.getRetirePoolTxCert</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681531477"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">L.KeyHash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">L.StakePool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-slotting-0.2.0.1-4931158e5859e803f65a880c95ecfbe9579b1a28852330a326f0fb66ea02801e/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span>
</span><span id="line-559"></span><span id="local-6989586621681529892"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getDRepDeregistrationInfo"><span class="hs-identifier hs-type">getDRepDeregistrationInfo</span></a></span><span>
</span><span id="line-560"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529892"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-561"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529892"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-562"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">L.Credential</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">L.DRepRole</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-563"></span><span id="getDRepDeregistrationInfo"><span class="annot"><span class="annottext">getDRepDeregistrationInfo :: forall era.
Era era
-&gt; Certificate (LedgerEra era)
-&gt; Maybe (Credential 'DRepRole, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getDRepDeregistrationInfo"><span class="hs-identifier hs-var hs-var">getDRepDeregistrationInfo</span></a></span></span><span> </span><span id="local-6989586621681531482"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531482"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span id="local-6989586621681531484"><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681531484"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-564"></span><span>  </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    Maybe (Credential 'DRepRole, Lovelace))
-&gt; Maybe (Credential 'DRepRole, Lovelace)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531482"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt;
  Maybe (Credential 'DRepRole, Lovelace))
 -&gt; Maybe (Credential 'DRepRole, Lovelace))
-&gt; (EraCommonConstraints era =&gt;
    Maybe (Credential 'DRepRole, Lovelace))
-&gt; Maybe (Credential 'DRepRole, Lovelace)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era) -&gt; Maybe (Credential 'DRepRole, Lovelace)
forall era.
ConwayEraTxCert era =&gt;
TxCert era -&gt; Maybe (Credential 'DRepRole, Lovelace)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-conway-1.20.0.0-9c905695d261175b2a76562abd58f28242d8cd5046a55db811691e8350d918a9/share/doc/html/src/Cardano.Ledger.Conway.TxCert.html#getUnRegDRepTxCert"><span class="hs-identifier hs-var">L.getUnRegDRepTxCert</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681531484"><span class="hs-identifier hs-var">cert</span></a></span><span>
</span><span id="line-565"></span><span>
</span><span id="line-566"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getStakeDeregistrationInfo"><span class="hs-identifier hs-type">getStakeDeregistrationInfo</span></a></span><span>
</span><span id="line-567"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681529891"><span class="annot"><a href="#local-6989586621681529891"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-568"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529891"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-569"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529891"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-570"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#StakeCredential"><span class="hs-identifier hs-type">StakeCredential</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span id="getStakeDeregistrationInfo"><span class="annot"><span class="annottext">getStakeDeregistrationInfo :: forall era.
IsEra era =&gt;
Certificate (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getStakeDeregistrationInfo"><span class="hs-identifier hs-var hs-var">getStakeDeregistrationInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span id="local-6989586621681531492"><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681531492"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-572"></span><span>  </span><span class="annot"><span class="annottext">Era era
-&gt; TxCert (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
forall era.
Era era
-&gt; TxCert (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getConwayDeregistrationInfo"><span class="hs-identifier hs-var">getConwayDeregistrationInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681531492"><span class="hs-identifier hs-var">cert</span></a></span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getConwayDeregistrationInfo"><span class="hs-identifier hs-type">getConwayDeregistrationInfo</span></a></span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681529937"><span class="annot"><a href="#local-6989586621681529937"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-576"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529937"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-577"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.TxCert.html#TxCert"><span class="hs-identifier hs-type">L.TxCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529937"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-578"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#StakeCredential"><span class="hs-identifier hs-type">StakeCredential</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span id="getConwayDeregistrationInfo"><span class="annot"><span class="annottext">getConwayDeregistrationInfo :: forall era.
Era era
-&gt; TxCert (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getConwayDeregistrationInfo"><span class="hs-identifier hs-var hs-var">getConwayDeregistrationInfo</span></a></span></span><span> </span><span id="local-6989586621681531497"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531497"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681531498"><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681531498"><span class="hs-identifier hs-var">cert</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-580"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681531499"><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681531499"><span class="hs-identifier hs-var">stakeCred</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531500"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531500"><span class="hs-identifier hs-var">depositRefund</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; Maybe (StakeCredential, Lovelace))
-&gt; Maybe (StakeCredential, Lovelace)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531497"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; Maybe (StakeCredential, Lovelace))
 -&gt; Maybe (StakeCredential, Lovelace))
-&gt; (EraCommonConstraints era =&gt; Maybe (StakeCredential, Lovelace))
-&gt; Maybe (StakeCredential, Lovelace)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
forall era.
ConwayEraTxCert era =&gt;
TxCert era -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-conway-1.20.0.0-9c905695d261175b2a76562abd58f28242d8cd5046a55db811691e8350d918a9/share/doc/html/src/Cardano.Ledger.Conway.TxCert.html#getUnRegDepositTxCert"><span class="hs-identifier hs-var">L.getUnRegDepositTxCert</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681531498"><span class="hs-identifier hs-var">cert</span></a></span><span>
</span><span id="line-581"></span><span>  </span><span class="annot"><span class="annottext">(StakeCredential, Lovelace) -&gt; Maybe (StakeCredential, Lovelace)
forall a. a -&gt; Maybe a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeCredential -&gt; StakeCredential
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#fromShelleyStakeCredential"><span class="hs-identifier hs-var">fromShelleyStakeCredential</span></a></span><span> </span><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681531499"><span class="hs-identifier hs-var">stakeCred</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531500"><span class="hs-identifier hs-var">depositRefund</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-582"></span><span>
</span><span id="line-583"></span><span id="local-6989586621681529804"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getExecutionUnitPrices"><span class="hs-identifier hs-type">getExecutionUnitPrices</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#CardanoEra"><span class="hs-identifier hs-type">CardanoEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529804"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529804"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Plutus.ExUnits.html#Prices"><span class="hs-identifier hs-type">L.Prices</span></a></span></span><span>
</span><span id="line-584"></span><span id="getExecutionUnitPrices"><span class="annot"><span class="annottext">getExecutionUnitPrices :: forall era.
CardanoEra era -&gt; LedgerProtocolParameters era -&gt; Maybe Prices
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getExecutionUnitPrices"><span class="hs-identifier hs-var hs-var">getExecutionUnitPrices</span></a></span></span><span> </span><span id="local-6989586621681531507"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531507"><span class="hs-identifier hs-var">cEra</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span id="local-6989586621681531509"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681531509"><span class="hs-identifier hs-var">pp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-585"></span><span>  </span><span class="annot"><span class="annottext">CardanoEra era -&gt; (AlonzoEraOnwards era -&gt; Prices) -&gt; Maybe Prices
forall (eon :: * -&gt; *) era a.
Eon eon =&gt;
CardanoEra era -&gt; (eon era -&gt; a) -&gt; Maybe a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#forEraInEonMaybe"><span class="hs-identifier hs-var">forEraInEonMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531507"><span class="hs-identifier hs-var">cEra</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwards era -&gt; Prices) -&gt; Maybe Prices)
-&gt; (AlonzoEraOnwards era -&gt; Prices) -&gt; Maybe Prices
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681531511"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681531511"><span class="hs-identifier hs-var">aeo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-586"></span><span>    </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; (AlonzoEraOnwardsConstraints era =&gt; Prices) -&gt; Prices
forall era a.
AlonzoEraOnwards era -&gt; (AlonzoEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#alonzoEraOnwardsConstraints"><span class="hs-identifier hs-var">alonzoEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681531511"><span class="hs-identifier hs-var">aeo</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwardsConstraints era =&gt; Prices) -&gt; Prices)
-&gt; (AlonzoEraOnwardsConstraints era =&gt; Prices) -&gt; Prices
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-587"></span><span>      </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681531509"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
-&gt; Getting Prices (PParams (ShelleyLedgerEra era)) Prices -&gt; Prices
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Prices (PParams (ShelleyLedgerEra era)) Prices
forall era. AlonzoEraPParams era =&gt; Lens' (PParams era) Prices
Lens' (PParams (ShelleyLedgerEra era)) Prices
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-alonzo-1.14.0.0-561c2e89477790e9714ba87e30809cee2a3f96fb507c4ad6e601e5784698790c/share/doc/html/src/Cardano.Ledger.Alonzo.PParams.html#ppPricesL"><span class="hs-identifier hs-var">L.ppPricesL</span></a></span><span>
</span><span id="line-588"></span><span>
</span><span id="line-589"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildRawCmd"><span class="hs-identifier hs-type">runTransactionBuildRawCmd</span></a></span><span>
</span><span id="line-590"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681529438"><span class="annot"><a href="#local-6989586621681529438"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621681529439"><span class="annot"><a href="#local-6989586621681529439"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-591"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildRawCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildRawCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529438"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-592"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529439"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-593"></span><span id="runTransactionBuildRawCmd"><span class="annot"><span class="annottext">runTransactionBuildRawCmd :: forall era e. TransactionBuildRawCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildRawCmd"><span class="hs-identifier hs-var hs-var">runTransactionBuildRawCmd</span></a></span></span><span>
</span><span id="line-594"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildRawCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildRawCmdArgs</span></a></span><span>
</span><span id="line-595"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681531523"><span class="annot"><span class="annottext">Era era
eon :: Era era
eon :: forall era. TransactionBuildRawCmdArgs era -&gt; Era era
</span><a href="#local-6989586621681531523"><span class="hs-identifier hs-var hs-var">eon</span></a></span></span><span>
</span><span id="line-596"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531525"><span class="annot"><span class="annottext">Maybe ScriptValidity
mScriptValidity :: Maybe ScriptValidity
mScriptValidity :: forall era. TransactionBuildRawCmdArgs era -&gt; Maybe ScriptValidity
</span><a href="#local-6989586621681531525"><span class="hs-identifier hs-var hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-597"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531527"><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txIns :: [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txIns :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681531527"><span class="hs-identifier hs-var hs-var">txIns</span></a></span></span><span>
</span><span id="line-598"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531529"><span class="annot"><span class="annottext">[TxIn]
readOnlyRefIns :: [TxIn]
readOnlyRefIns :: forall era. TransactionBuildRawCmdArgs era -&gt; [TxIn]
</span><a href="#local-6989586621681531529"><span class="hs-identifier hs-var hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-599"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531531"><span class="annot"><span class="annottext">[TxIn]
txInsCollateral :: [TxIn]
txInsCollateral :: forall era. TransactionBuildRawCmdArgs era -&gt; [TxIn]
</span><a href="#local-6989586621681531531"><span class="hs-identifier hs-var hs-var">txInsCollateral</span></a></span></span><span>
</span><span id="line-600"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mReturnCollateral :: forall era.
TransactionBuildRawCmdArgs era -&gt; Maybe TxOutShelleyBasedEra
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mReturnCollateral"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681531534"><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
</span><a href="#local-6989586621681531534"><span class="hs-identifier hs-var">mReturnColl</span></a></span></span><span>
</span><span id="line-601"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531535"><span class="annot"><span class="annottext">Maybe Lovelace
mTotalCollateral :: Maybe Lovelace
mTotalCollateral :: forall era. TransactionBuildRawCmdArgs era -&gt; Maybe Lovelace
</span><a href="#local-6989586621681531535"><span class="hs-identifier hs-var hs-var">mTotalCollateral</span></a></span></span><span>
</span><span id="line-602"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">requiredSigners :: forall era. TransactionBuildRawCmdArgs era -&gt; [RequiredSigner]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#requiredSigners"><span class="hs-identifier hs-var">requiredSigners</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681531538"><span class="annot"><span class="annottext">[RequiredSigner]
</span><a href="#local-6989586621681531538"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-603"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531539"><span class="annot"><span class="annottext">[TxOutAnyEra]
txouts :: [TxOutAnyEra]
txouts :: forall era. TransactionBuildRawCmdArgs era -&gt; [TxOutAnyEra]
</span><a href="#local-6989586621681531539"><span class="hs-identifier hs-var hs-var">txouts</span></a></span></span><span>
</span><span id="line-604"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531541"><span class="annot"><span class="annottext">Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: forall era.
TransactionBuildRawCmdArgs era
-&gt; Maybe (MultiAsset, [ScriptRequirements 'MintItem])
</span><a href="#local-6989586621681531541"><span class="hs-identifier hs-var hs-var">mMintedAssets</span></a></span></span><span>
</span><span id="line-605"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531543"><span class="annot"><span class="annottext">Maybe SlotNo
mValidityLowerBound :: Maybe SlotNo
mValidityLowerBound :: forall era. TransactionBuildRawCmdArgs era -&gt; Maybe SlotNo
</span><a href="#local-6989586621681531543"><span class="hs-identifier hs-var hs-var">mValidityLowerBound</span></a></span></span><span>
</span><span id="line-606"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531545"><span class="annot"><span class="annottext">TxValidityUpperBound era
mValidityUpperBound :: TxValidityUpperBound era
mValidityUpperBound :: forall era.
TransactionBuildRawCmdArgs era -&gt; TxValidityUpperBound era
</span><a href="#local-6989586621681531545"><span class="hs-identifier hs-var hs-var">mValidityUpperBound</span></a></span></span><span>
</span><span id="line-607"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531547"><span class="annot"><span class="annottext">Lovelace
fee :: Lovelace
fee :: forall era. TransactionBuildRawCmdArgs era -&gt; Lovelace
</span><a href="#local-6989586621681531547"><span class="hs-identifier hs-var hs-var">fee</span></a></span></span><span>
</span><span id="line-608"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531549"><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
</span><a href="#local-6989586621681531549"><span class="hs-identifier hs-var hs-var">certificates</span></a></span></span><span>
</span><span id="line-609"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531551"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: [(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(StakeAddress, Lovelace,
     Maybe (ScriptRequirements 'WithdrawalItem))]
</span><a href="#local-6989586621681531551"><span class="hs-identifier hs-var hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-610"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531553"><span class="annot"><span class="annottext">TxMetadataJsonSchema
metadataSchema :: TxMetadataJsonSchema
metadataSchema :: forall era. TransactionBuildRawCmdArgs era -&gt; TxMetadataJsonSchema
</span><a href="#local-6989586621681531553"><span class="hs-identifier hs-var hs-var">metadataSchema</span></a></span></span><span>
</span><span id="line-611"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531555"><span class="annot"><span class="annottext">[ScriptFile]
scriptFiles :: [ScriptFile]
scriptFiles :: forall era. TransactionBuildRawCmdArgs era -&gt; [ScriptFile]
</span><a href="#local-6989586621681531555"><span class="hs-identifier hs-var hs-var">scriptFiles</span></a></span></span><span>
</span><span id="line-612"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531557"><span class="annot"><span class="annottext">[MetadataFile]
metadataFiles :: [MetadataFile]
metadataFiles :: forall era. TransactionBuildRawCmdArgs era -&gt; [MetadataFile]
</span><a href="#local-6989586621681531557"><span class="hs-identifier hs-var hs-var">metadataFiles</span></a></span></span><span>
</span><span id="line-613"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531559"><span class="annot"><span class="annottext">Maybe ProtocolParamsFile
mProtocolParamsFile :: Maybe ProtocolParamsFile
mProtocolParamsFile :: forall era.
TransactionBuildRawCmdArgs era -&gt; Maybe ProtocolParamsFile
</span><a href="#local-6989586621681531559"><span class="hs-identifier hs-var hs-var">mProtocolParamsFile</span></a></span></span><span>
</span><span id="line-614"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531561"><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
mUpdateProprosalFile :: Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
mUpdateProprosalFile :: forall era.
TransactionBuildRawCmdArgs era
-&gt; Maybe
     (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><a href="#local-6989586621681531561"><span class="hs-identifier hs-var hs-var">mUpdateProprosalFile</span></a></span></span><span>
</span><span id="line-615"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531563"><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681531563"><span class="hs-identifier hs-var hs-var">voteFiles</span></a></span></span><span>
</span><span id="line-616"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531565"><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
</span><a href="#local-6989586621681531565"><span class="hs-identifier hs-var hs-var">proposalFiles</span></a></span></span><span>
</span><span id="line-617"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531567"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
currentTreasuryValueAndDonation :: Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
currentTreasuryValueAndDonation :: forall era.
TransactionBuildRawCmdArgs era
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531567"><span class="hs-identifier hs-var hs-var">currentTreasuryValueAndDonation</span></a></span></span><span>
</span><span id="line-618"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531569"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: forall era. TransactionBuildRawCmdArgs era -&gt; TxCborFormat
</span><a href="#local-6989586621681531569"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-619"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531571"><span class="annot"><span class="annottext">TxBodyFile 'Out
txBodyOutFile :: TxBodyFile 'Out
txBodyOutFile :: forall era. TransactionBuildRawCmdArgs era -&gt; TxBodyFile 'Out
</span><a href="#local-6989586621681531571"><span class="hs-identifier hs-var hs-var">txBodyOutFile</span></a></span></span><span>
</span><span id="line-620"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; (EraCommonConstraints era =&gt; RIO e ()) -&gt; RIO e ()
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">Exp.obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681531523"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; RIO e ()) -&gt; RIO e ())
-&gt; (EraCommonConstraints era =&gt; RIO e ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-621"></span><span>    </span><span id="local-6989586621681531711"><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531711"><span class="hs-identifier hs-var">txInsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-622"></span><span>      </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, Maybe (SpendScriptWitness era))]
forall era e.
IsEra era =&gt;
[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="Cardano.CLI.EraBased.Script.Spend.Read.html#readSpendScriptWitnesses"><span class="hs-identifier hs-var">readSpendScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681531527"><span class="hs-identifier hs-var">txIns</span></a></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span>    </span><span id="local-6989586621681531712"><span class="annot"><span class="annottext">[(CertificateFile, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531712"><span class="hs-identifier hs-var">certFilesAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#CertificateFile"><span class="hs-identifier hs-type">CertificateFile</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529438"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-625"></span><span>      </span><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
-&gt; CIO e [(CertificateFile, AnyWitness (LedgerEra era))]
forall era e.
IsEra era =&gt;
[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
-&gt; CIO e [(CertificateFile, AnyWitness (LedgerEra era))]
</span><a href="Cardano.CLI.EraBased.Script.Certificate.Read.html#readCertificateScriptWitnesses"><span class="hs-identifier hs-var">readCertificateScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
</span><a href="#local-6989586621681531549"><span class="hs-identifier hs-var">certificates</span></a></span><span>
</span><span id="line-626"></span><span>
</span><span id="line-627"></span><span>    </span><span id="local-6989586621681531713"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531713"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-628"></span><span>      </span><span class="annot"><span class="annottext">((StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))
 -&gt; RIO
      e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era)))
-&gt; [(StakeAddress, Lovelace,
     Maybe (ScriptRequirements 'WithdrawalItem))]
-&gt; RIO
     e [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">(StakeAddress, Lovelace,
 Maybe (ScriptRequirements 'WithdrawalItem))
-&gt; RIO
     e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
(StakeAddress, Lovelace,
 Maybe (ScriptRequirements 'WithdrawalItem))
-&gt; CIO
     e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
forall era e.
IsEra era =&gt;
(StakeAddress, Lovelace,
 Maybe (ScriptRequirements 'WithdrawalItem))
-&gt; CIO
     e (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
</span><a href="Cardano.CLI.EraBased.Script.Withdrawal.Read.html#readWithdrawalScriptWitness"><span class="hs-identifier hs-var">readWithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
</span><a href="#local-6989586621681531551"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-629"></span><span>    </span><span id="local-6989586621681531714"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531714"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-630"></span><span>      </span><span class="annot"><span class="annottext">Era era
-&gt; TxMetadataJsonSchema
-&gt; [MetadataFile]
-&gt; CIO e (TxMetadataInEra era)
forall era e.
Era era
-&gt; TxMetadataJsonSchema
-&gt; [MetadataFile]
-&gt; CIO e (TxMetadataInEra era)
</span><a href="Cardano.CLI.Read.html#readTxMetadata"><span class="hs-identifier hs-var">readTxMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; Era era
forall era. Era era -&gt; Era era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxMetadataJsonSchema
</span><a href="#local-6989586621681531553"><span class="hs-identifier hs-var">metadataSchema</span></a></span><span> </span><span class="annot"><span class="annottext">[MetadataFile]
</span><a href="#local-6989586621681531557"><span class="hs-identifier hs-var">metadataFiles</span></a></span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531715"><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681531715"><span class="hs-identifier hs-var">mas</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531716"><span class="annot"><span class="annottext">[ScriptRequirements 'MintItem]
</span><a href="#local-6989586621681531716"><span class="hs-identifier hs-var">sWitFiles</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [ScriptRequirements 'MintItem])
-&gt; Maybe (MultiAsset, [ScriptRequirements 'MintItem])
-&gt; (MultiAsset, [ScriptRequirements 'MintItem])
forall a. a -&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [ScriptRequirements 'MintItem])
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (MultiAsset, [ScriptRequirements 'MintItem])
</span><a href="#local-6989586621681531541"><span class="hs-identifier hs-var">mMintedAssets</span></a></span><span>
</span><span id="line-633"></span><span>    </span><span id="local-6989586621681531717"><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531717"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-634"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681531715"><span class="hs-identifier hs-var">mas</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-635"></span><span>        </span><span class="annot"><span class="annottext">([MintScriptWitnessWithPolicyId era]
 -&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era]))
-&gt; RIO e [MintScriptWitnessWithPolicyId era]
-&gt; RIO e (MultiAsset, [MintScriptWitnessWithPolicyId era])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptRequirements 'MintItem
 -&gt; RIO e (MintScriptWitnessWithPolicyId era))
-&gt; [ScriptRequirements 'MintItem]
-&gt; RIO e [MintScriptWitnessWithPolicyId era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptRequirements 'MintItem
-&gt; RIO e (MintScriptWitnessWithPolicyId era)
ScriptRequirements 'MintItem
-&gt; CIO e (MintScriptWitnessWithPolicyId era)
forall era e.
IsEra era =&gt;
ScriptRequirements 'MintItem
-&gt; CIO e (MintScriptWitnessWithPolicyId era)
</span><a href="Cardano.CLI.EraBased.Script.Mint.Read.html#readMintScriptWitness"><span class="hs-identifier hs-var">readMintScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptRequirements 'MintItem]
</span><a href="#local-6989586621681531716"><span class="hs-identifier hs-var">sWitFiles</span></a></span><span>
</span><span id="line-636"></span><span>
</span><span id="line-637"></span><span>    </span><span id="local-6989586621681531718"><span class="annot"><span class="annottext">[ScriptInAnyLang]
</span><a href="#local-6989586621681531718"><span class="hs-identifier hs-var">scripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-638"></span><span>      </span><span class="annot"><span class="annottext">(ScriptFile -&gt; RIO e ScriptInAnyLang)
-&gt; [ScriptFile] -&gt; RIO e [ScriptInAnyLang]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; RIO e ScriptInAnyLang
forall (m :: * -&gt; *). MonadIO m =&gt; FilePath -&gt; m ScriptInAnyLang
</span><a href="Cardano.CLI.Read.html#readFileScriptInAnyLang"><span class="hs-identifier hs-var">readFileScriptInAnyLang</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; RIO e ScriptInAnyLang)
-&gt; (ScriptFile -&gt; FilePath) -&gt; ScriptFile -&gt; RIO e ScriptInAnyLang
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptFile -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ScriptFile]
</span><a href="#local-6989586621681531555"><span class="hs-identifier hs-var">scriptFiles</span></a></span><span>
</span><span id="line-639"></span><span>    </span><span id="local-6989586621681531719"><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531719"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-640"></span><span>      </span><span class="annot"><span class="annottext">Either TxAuxScriptsValidationError (TxAuxScripts era)
-&gt; RIO e (TxAuxScripts era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
Either e a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-var">fromEitherCli</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxAuxScriptsValidationError (TxAuxScripts era)
 -&gt; RIO e (TxAuxScripts era))
-&gt; Either TxAuxScriptsValidationError (TxAuxScripts era)
-&gt; RIO e (TxAuxScripts era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-641"></span><span>        </span><span class="annot"><span class="annottext">[ScriptInAnyLang]
-&gt; Either TxAuxScriptsValidationError (TxAuxScripts era)
forall era.
IsEra era =&gt;
[ScriptInAnyLang]
-&gt; Either TxAuxScriptsValidationError (TxAuxScripts era)
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxAuxScripts"><span class="hs-identifier hs-var">validateTxAuxScripts</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptInAnyLang]
</span><a href="#local-6989586621681531718"><span class="hs-identifier hs-var">scripts</span></a></span><span>
</span><span id="line-642"></span><span>
</span><span id="line-643"></span><span>    </span><span id="local-6989586621681531720"><span class="annot"><span class="annottext">Maybe (PParams (LedgerEra era))
</span><a href="#local-6989586621681531720"><span class="hs-identifier hs-var">pparams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe ProtocolParamsFile
-&gt; (ProtocolParamsFile -&gt; RIO e (PParams (LedgerEra era)))
-&gt; RIO e (Maybe (PParams (LedgerEra era)))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ProtocolParamsFile
</span><a href="#local-6989586621681531559"><span class="hs-identifier hs-var">mProtocolParamsFile</span></a></span><span> </span><span class="annot"><span class="annottext">((ProtocolParamsFile -&gt; RIO e (PParams (LedgerEra era)))
 -&gt; RIO e (Maybe (PParams (LedgerEra era))))
-&gt; (ProtocolParamsFile -&gt; RIO e (PParams (LedgerEra era)))
-&gt; RIO e (Maybe (PParams (LedgerEra era)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681531721"><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681531721"><span class="hs-identifier hs-var">ppf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-644"></span><span>      </span><span class="annot"><span class="annottext">ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
-&gt; RIO e (PParams (LedgerEra era))
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
forall era.
IsEra era =&gt;
ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-var">readProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681531721"><span class="hs-identifier hs-var">ppf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-645"></span><span>
</span><span id="line-646"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531722"><span class="annot"><span class="annottext">mLedgerPParams :: Maybe (LedgerProtocolParameters era)
</span><a href="#local-6989586621681531722"><span class="hs-identifier hs-var hs-var">mLedgerPParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
PParams (LedgerEra era) -&gt; LedgerProtocolParameters era
forall era.
PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-var">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">(PParams (LedgerEra era) -&gt; LedgerProtocolParameters era)
-&gt; Maybe (PParams (LedgerEra era))
-&gt; Maybe (LedgerProtocolParameters era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (PParams (LedgerEra era))
</span><a href="#local-6989586621681531720"><span class="hs-identifier hs-var">pparams</span></a></span><span>
</span><span id="line-647"></span><span>
</span><span id="line-648"></span><span>    </span><span id="local-6989586621681531723"><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681531723"><span class="hs-identifier hs-var">txUpdateProposal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><a href="#local-6989586621681531561"><span class="hs-identifier hs-var">mUpdateProprosalFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-649"></span><span>      </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Feature.html#Featured"><span class="hs-identifier hs-type">Featured</span></a></span><span> </span><span id="local-6989586621681531724"><span class="annot"><span class="annottext">ShelleyToBabbageEra era
</span><a href="#local-6989586621681531724"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681531725"><span class="annot"><span class="annottext">UpdateProposalFile
</span><a href="#local-6989586621681531725"><span class="hs-identifier hs-var">updateProposalFile</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-650"></span><span>        </span><span class="annot"><span class="annottext">ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
-&gt; RIO e (TxUpdateProposal era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
 -&gt; RIO e (TxUpdateProposal era))
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
-&gt; RIO e (TxUpdateProposal era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyToBabbageEra era
-&gt; UpdateProposalFile
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
forall era.
ShelleyToBabbageEra era
-&gt; UpdateProposalFile
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
</span><a href="Cardano.CLI.Read.html#readTxUpdateProposal"><span class="hs-identifier hs-var">readTxUpdateProposal</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyToBabbageEra era
</span><a href="#local-6989586621681531724"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateProposalFile
</span><a href="#local-6989586621681531725"><span class="hs-identifier hs-var">updateProposalFile</span></a></span><span>
</span><span id="line-651"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era -&gt; RIO e (TxUpdateProposal era)
forall a. a -&gt; RIO e a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era
forall era. TxUpdateProposal era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxUpdateProposalNone"><span class="hs-identifier hs-var">TxUpdateProposalNone</span></a></span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span>    </span><span id="local-6989586621681531726"><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531726"><span class="hs-identifier hs-var">requiredSigners</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-654"></span><span>      </span><span class="annot"><span class="annottext">(RequiredSigner -&gt; RIO e (Hash PaymentKey))
-&gt; [RequiredSigner] -&gt; RIO e [Hash PaymentKey]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO (Either RequiredSignerError (Hash PaymentKey))
-&gt; RIO e (Hash PaymentKey)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either RequiredSignerError (Hash PaymentKey))
 -&gt; RIO e (Hash PaymentKey))
-&gt; (RequiredSigner
    -&gt; IO (Either RequiredSignerError (Hash PaymentKey)))
-&gt; RequiredSigner
-&gt; RIO e (Hash PaymentKey)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RequiredSigner -&gt; IO (Either RequiredSignerError (Hash PaymentKey))
</span><a href="Cardano.CLI.Read.html#readRequiredSigner"><span class="hs-identifier hs-var">readRequiredSigner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RequiredSigner]
</span><a href="#local-6989586621681531538"><span class="hs-identifier hs-var">reqSigners</span></a></span><span>
</span><span id="line-655"></span><span>
</span><span id="line-656"></span><span>    </span><span id="local-6989586621681531727"><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531727"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TxOutShelleyBasedEra -&gt; RIO e (TxOut CtxTx era))
-&gt; Maybe TxOutShelleyBasedEra -&gt; RIO e (Maybe (TxOut CtxTx era))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Maybe a -&gt; m (Maybe b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutShelleyBasedEra -&gt; RIO e (TxOut CtxTx era)
TxOutShelleyBasedEra -&gt; CIO e (TxOut CtxTx era)
forall era e.
IsEra era =&gt;
TxOutShelleyBasedEra -&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-var">toTxOutInShelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
</span><a href="#local-6989586621681531534"><span class="hs-identifier hs-var">mReturnColl</span></a></span><span>
</span><span id="line-657"></span><span>
</span><span id="line-658"></span><span>    </span><span id="local-6989586621681531728"><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531728"><span class="hs-identifier hs-var">txOuts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TxOutAnyEra -&gt; RIO e (TxOut CtxTx era))
-&gt; [TxOutAnyEra] -&gt; RIO e [TxOut CtxTx era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; TxOutAnyEra -&gt; CIO e (TxOut CtxTx era)
forall era e.
ShelleyBasedEra era -&gt; TxOutAnyEra -&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.Compatible.Transaction.TxOut.html#toTxOutInAnyEra"><span class="hs-identifier hs-var">toTxOutInAnyEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxOutAnyEra]
</span><a href="#local-6989586621681531539"><span class="hs-identifier hs-var">txouts</span></a></span><span>
</span><span id="line-659"></span><span>
</span><span id="line-660"></span><span>    </span><span class="hs-comment">-- the same collateral input can be used for several plutus scripts</span><span>
</span><span id="line-661"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531729"><span class="annot"><span class="annottext">filteredTxinsc :: [Item (Set TxIn)]
</span><a href="#local-6989586621681531729"><span class="hs-identifier hs-var hs-var">filteredTxinsc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l. IsList l =&gt; l -&gt; [Item l]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Set TxIn -&gt; [Item (Set TxIn)]) -&gt; Set TxIn -&gt; [Item (Set TxIn)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Item (Set TxIn)] -&gt; Set TxIn
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Item (Set TxIn)]
[TxIn]
</span><a href="#local-6989586621681531531"><span class="hs-identifier hs-var">txInsCollateral</span></a></span><span>
</span><span id="line-662"></span><span>
</span><span id="line-663"></span><span>    </span><span class="hs-comment">-- Conway related</span><span>
</span><span id="line-664"></span><span>    </span><span id="local-6989586621681531730"><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531730"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-665"></span><span>      </span><span class="annot"><span class="annottext">ConwayEraOnwards era
-&gt; (ConwayEraOnwardsConstraints era =&gt;
    RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
-&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall era a.
ConwayEraOnwards era -&gt; (ConwayEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ConwayEraOnwards.html#conwayEraOnwardsConstraints"><span class="hs-identifier hs-var">conwayEraOnwardsConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ConwayEraOnwards era
forall era. Era era -&gt; ConwayEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">(Era era -&gt; ConwayEraOnwards era)
-&gt; Era era -&gt; ConwayEraOnwards era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529438"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ConwayEraOnwardsConstraints era =&gt;
  RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
 -&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
-&gt; (ConwayEraOnwardsConstraints era =&gt;
    RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))])
-&gt; RIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-666"></span><span>        </span><span class="annot"><span class="annottext">ConwayEraOnwards era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
-&gt; CIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
forall era e.
ConwayEraOnwards era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
-&gt; CIO e [(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="Cardano.CLI.EraBased.Script.Vote.Read.html#readVotingProceduresFiles"><span class="hs-identifier hs-var">readVotingProceduresFiles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ConwayEraOnwards era
forall era. Era era -&gt; ConwayEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681531563"><span class="hs-identifier hs-var">voteFiles</span></a></span><span>
</span><span id="line-667"></span><span>
</span><span id="line-668"></span><span>    </span><span id="local-6989586621681531736"><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531736"><span class="hs-identifier hs-var">proposals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-669"></span><span>      </span><span class="annot"><span class="annottext">forall era e.
IsEra era =&gt;
[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
-&gt; CIO e [(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="Cardano.CLI.EraBased.Script.Proposal.Read.html#readTxGovernanceActions"><span class="hs-identifier hs-var">readTxGovernanceActions</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529438"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
</span><a href="#local-6989586621681531565"><span class="hs-identifier hs-var">proposalFiles</span></a></span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span>    </span><span id="local-6989586621681531737"><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531737"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-672"></span><span>      </span><span class="annot"><span class="annottext">[RIO e (Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; RIO
     e [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; [m a] -&gt; m [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#sequence"><span class="hs-identifier hs-var">sequence</span></a></span><span>
</span><span id="line-673"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681531738"><span class="hs-identifier hs-var">mSwit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-674"></span><span>            </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era)
 -&gt; (Certificate (LedgerEra era), AnyWitness (LedgerEra era)))
-&gt; RIO e (Certificate (LedgerEra era))
-&gt; RIO e (Certificate (LedgerEra era), AnyWitness (LedgerEra era))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate era -&gt; Certificate (LedgerEra era))
-&gt; RIO e (Certificate era) -&gt; RIO e (Certificate (LedgerEra era))
forall a b. (a -&gt; b) -&gt; RIO e a -&gt; RIO e b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span>
</span><span id="line-675"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; Certificate era -&gt; Certificate (LedgerEra era)
forall era.
Era era -&gt; Certificate era -&gt; Certificate (LedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#convertToNewCertificate"><span class="hs-identifier hs-var">Exp.convertToNewCertificate</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) (Certificate era))
-&gt; RIO e (Certificate era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError TextEnvelopeError) (Certificate era))
 -&gt; RIO e (Certificate era))
-&gt; IO (Either (FileError TextEnvelopeError) (Certificate era))
-&gt; RIO e (Certificate era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-677"></span><span>                  </span><span class="annot"><span class="annottext">File Any 'In
-&gt; IO (Either (FileError TextEnvelopeError) (Certificate era))
forall a content.
HasTextEnvelope a =&gt;
File content 'In -&gt; IO (Either (FileError TextEnvelopeError) a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#readFileTextEnvelope"><span class="hs-identifier hs-var">readFileTextEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; File Any 'In
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681531739"><span class="hs-identifier hs-var">certFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-678"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-679"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#CertificateFile"><span class="hs-identifier hs-type">CertificateFile</span></a></span><span> </span><span id="local-6989586621681531739"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681531739"><span class="hs-identifier hs-var">certFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531738"><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681531738"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(CertificateFile, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531712"><span class="hs-identifier hs-var">certFilesAndMaybeScriptWits</span></a></span><span>
</span><span id="line-680"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-681"></span><span>    </span><span id="local-6989586621681531740"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681531740"><span class="hs-identifier hs-var">txBody</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-682"></span><span>      </span><span class="annot"><span class="annottext">Either TxCmdError (TxBody era) -&gt; RIO e (TxBody era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
Either e a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-var">fromEitherCli</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxCmdError (TxBody era) -&gt; RIO e (TxBody era))
-&gt; Either TxCmdError (TxBody era) -&gt; RIO e (TxBody era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-683"></span><span>        </span><span class="annot"><span class="annottext">Maybe ScriptValidity
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; Lovelace
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; Maybe (LedgerProtocolParameters era)
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBody era)
forall era.
IsEra era =&gt;
Maybe ScriptValidity
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; Lovelace
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; Maybe (LedgerProtocolParameters era)
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBody era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuildRaw"><span class="hs-identifier hs-var">runTxBuildRaw</span></a></span><span>
</span><span id="line-684"></span><span>          </span><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681531525"><span class="hs-identifier hs-var">mScriptValidity</span></a></span><span>
</span><span id="line-685"></span><span>          </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531711"><span class="hs-identifier hs-var">txInsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-686"></span><span>          </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531529"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-687"></span><span>          </span><span class="annot"><span class="annottext">[Item (Set TxIn)]
[TxIn]
</span><a href="#local-6989586621681531729"><span class="hs-identifier hs-var">filteredTxinsc</span></a></span><span>
</span><span id="line-688"></span><span>          </span><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531727"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span>
</span><span id="line-689"></span><span>          </span><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681531535"><span class="hs-identifier hs-var">mTotalCollateral</span></a></span><span>
</span><span id="line-690"></span><span>          </span><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531728"><span class="hs-identifier hs-var">txOuts</span></a></span><span>
</span><span id="line-691"></span><span>          </span><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681531543"><span class="hs-identifier hs-var">mValidityLowerBound</span></a></span><span>
</span><span id="line-692"></span><span>          </span><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681531545"><span class="hs-identifier hs-var">mValidityUpperBound</span></a></span><span>
</span><span id="line-693"></span><span>          </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531547"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-694"></span><span>          </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531717"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span><span>
</span><span id="line-695"></span><span>          </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531737"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-696"></span><span>          </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531713"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-697"></span><span>          </span><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531726"><span class="hs-identifier hs-var">requiredSigners</span></a></span><span>
</span><span id="line-698"></span><span>          </span><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531719"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span>
</span><span id="line-699"></span><span>          </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531714"><span class="hs-identifier hs-var">txMetadata</span></a></span><span>
</span><span id="line-700"></span><span>          </span><span class="annot"><span class="annottext">Maybe (LedgerProtocolParameters era)
</span><a href="#local-6989586621681531722"><span class="hs-identifier hs-var">mLedgerPParams</span></a></span><span>
</span><span id="line-701"></span><span>          </span><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681531723"><span class="hs-identifier hs-var">txUpdateProposal</span></a></span><span>
</span><span id="line-702"></span><span>          </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531730"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span><span>
</span><span id="line-703"></span><span>          </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531736"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-704"></span><span>          </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531567"><span class="hs-identifier hs-var">currentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-705"></span><span>
</span><span id="line-706"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531742"><span class="annot"><span class="annottext">noWitTx :: Tx era
</span><a href="#local-6989586621681531742"><span class="hs-identifier hs-var hs-var">noWitTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681531740"><span class="hs-identifier hs-var">txBody</span></a></span><span>
</span><span id="line-707"></span><span>    </span><span class="annot"><span class="annottext">IO (Either (FileError ()) ()) -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-708"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="#local-6989586621681531569"><span class="hs-identifier hs-var">isCborOutCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat -&gt; TxCborFormat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-var">TxCborCanonical</span></a></span><span>
</span><span id="line-709"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-var">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681531571"><span class="hs-identifier hs-var">txBodyOutFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681531742"><span class="hs-identifier hs-var">noWitTx</span></a></span><span>
</span><span id="line-710"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-var">writeTxFileTextEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681531571"><span class="hs-identifier hs-var">txBodyOutFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681531742"><span class="hs-identifier hs-var">noWitTx</span></a></span><span>
</span><span id="line-711"></span><span>
</span><span id="line-712"></span><span id="local-6989586621681530005"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuildRaw"><span class="hs-identifier hs-type">runTxBuildRaw</span></a></span><span>
</span><span id="line-713"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-714"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ScriptValidity"><span class="hs-identifier hs-type">ScriptValidity</span></a></span><span>
</span><span id="line-715"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Mark script as expected to pass or fail validation</span></span><span>
</span><span id="line-716"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#SpendScriptWitness"><span class="hs-identifier hs-type">SpendScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-717"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn with potential script witness</span></span><span>
</span><span id="line-718"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-719"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Read only reference inputs</span></span><span>
</span><span id="line-720"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-721"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn for collateral</span></span><span>
</span><span id="line-722"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#CtxTx"><span class="hs-identifier hs-type">CtxTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-723"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Return collateral</span></span><span>
</span><span id="line-724"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-725"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Total collateral</span></span><span>
</span><span id="line-726"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#CtxTx"><span class="hs-identifier hs-type">CtxTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-727"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-slotting-0.2.0.1-4931158e5859e803f65a880c95ecfbe9579b1a28852330a326f0fb66ea02801e/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-728"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx lower bound</span></span><span>
</span><span id="line-729"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxValidityUpperBound"><span class="hs-identifier hs-type">TxValidityUpperBound</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-730"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx upper bound</span></span><span>
</span><span id="line-731"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-732"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx fee</span></span><span>
</span><span id="line-733"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-mary-1.9.0.0-a1ffc3c47913e0a7fac21dcff59e9f0aaae21dc9a40339ecaf3d0d32915859b5/share/doc/html/src/Cardano.Ledger.Mary.Value.html#MultiAsset"><span class="hs-identifier hs-type">L.MultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Type.html#MintScriptWitnessWithPolicyId"><span class="hs-identifier hs-type">MintScriptWitnessWithPolicyId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-734"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Multi-Asset minted value(s)</span></span><span>
</span><span id="line-735"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-736"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Certificate with potential script witness</span></span><span>
</span><span id="line-737"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Type.html#WithdrawalScriptWitness"><span class="hs-identifier hs-type">WithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-738"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-739"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Required signers</span></span><span>
</span><span id="line-740"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxAuxScripts"><span class="hs-identifier hs-type">TxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-741"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataInEra"><span class="hs-identifier hs-type">TxMetadataInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-742"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-743"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxUpdateProposal"><span class="hs-identifier hs-type">TxUpdateProposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-744"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.VotingProcedure.html#VotingProcedures"><span class="hs-identifier hs-type">VotingProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Vote.Type.html#VoteScriptWitness"><span class="hs-identifier hs-type">VoteScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-745"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#Proposal"><span class="hs-identifier hs-type">Proposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Type.html#ProposalScriptWitness"><span class="hs-identifier hs-type">ProposalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-746"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#TxCurrentTreasuryValue"><span class="hs-identifier hs-type">TxCurrentTreasuryValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxTreasuryDonation"><span class="hs-identifier hs-type">TxTreasuryDonation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-747"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#TxBody"><span class="hs-identifier hs-type">TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-748"></span><span id="runTxBuildRaw"><span class="annot"><span class="annottext">runTxBuildRaw :: forall era.
IsEra era =&gt;
Maybe ScriptValidity
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; Lovelace
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; Maybe (LedgerProtocolParameters era)
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBody era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuildRaw"><span class="hs-identifier hs-var hs-var">runTxBuildRaw</span></a></span></span><span>
</span><span id="line-749"></span><span>  </span><span id="local-6989586621681531752"><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681531752"><span class="hs-identifier hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-750"></span><span>  </span><span id="local-6989586621681531753"><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531753"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-751"></span><span>  </span><span id="local-6989586621681531754"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531754"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-752"></span><span>  </span><span id="local-6989586621681531755"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531755"><span class="hs-identifier hs-var">txinsc</span></a></span></span><span>
</span><span id="line-753"></span><span>  </span><span id="local-6989586621681531756"><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531756"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span>
</span><span id="line-754"></span><span>  </span><span id="local-6989586621681531757"><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681531757"><span class="hs-identifier hs-var">mTotCollateral</span></a></span></span><span>
</span><span id="line-755"></span><span>  </span><span id="local-6989586621681531758"><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531758"><span class="hs-identifier hs-var">txouts</span></a></span></span><span>
</span><span id="line-756"></span><span>  </span><span id="local-6989586621681531759"><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681531759"><span class="hs-identifier hs-var">mLowerBound</span></a></span></span><span>
</span><span id="line-757"></span><span>  </span><span id="local-6989586621681531760"><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681531760"><span class="hs-identifier hs-var">mUpperBound</span></a></span></span><span>
</span><span id="line-758"></span><span>  </span><span id="local-6989586621681531761"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531761"><span class="hs-identifier hs-var">fee</span></a></span></span><span>
</span><span id="line-759"></span><span>  </span><span id="local-6989586621681531762"><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531762"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span></span><span>
</span><span id="line-760"></span><span>  </span><span id="local-6989586621681531763"><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531763"><span class="hs-identifier hs-var">certsAndMaybeSriptWits</span></a></span></span><span>
</span><span id="line-761"></span><span>  </span><span id="local-6989586621681531764"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531764"><span class="hs-identifier hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-762"></span><span>  </span><span id="local-6989586621681531765"><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531765"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-763"></span><span>  </span><span id="local-6989586621681531766"><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531766"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span>
</span><span id="line-764"></span><span>  </span><span id="local-6989586621681531767"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531767"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span>
</span><span id="line-765"></span><span>  </span><span id="local-6989586621681531768"><span class="annot"><span class="annottext">Maybe (LedgerProtocolParameters era)
</span><a href="#local-6989586621681531768"><span class="hs-identifier hs-var">mpparams</span></a></span></span><span>
</span><span id="line-766"></span><span>  </span><span id="local-6989586621681531769"><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681531769"><span class="hs-identifier hs-var">txUpdateProposal</span></a></span></span><span>
</span><span id="line-767"></span><span>  </span><span id="local-6989586621681531770"><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531770"><span class="hs-identifier hs-var">votingProcedures</span></a></span></span><span>
</span><span id="line-768"></span><span>  </span><span id="local-6989586621681531771"><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531771"><span class="hs-identifier hs-var">proposals</span></a></span></span><span>
</span><span id="line-769"></span><span>  </span><span id="local-6989586621681531772"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531772"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-770"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531775"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621681531775"><span class="hs-identifier hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span>
</span><span id="line-771"></span><span>    </span><span class="hs-comment">-- pp =</span><span>
</span><span id="line-772"></span><span>    </span><span id="local-6989586621681531776"><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681531776"><span class="hs-identifier hs-var">txBodyContent</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-773"></span><span>      </span><span class="annot"><span class="annottext">Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
forall era.
IsEra era =&gt;
Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-var">constructTxBodyContent</span></a></span><span>
</span><span id="line-774"></span><span>        </span><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681531752"><span class="hs-identifier hs-var">mScriptValidity</span></a></span><span>
</span><span id="line-775"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era)
forall era.
Era era
-&gt; PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-var">fromShelleyLedgerPParamsShim</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">(PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era))
-&gt; (LedgerProtocolParameters era -&gt; PParams (ShelleyLedgerEra era))
-&gt; LedgerProtocolParameters era
-&gt; PParams (LedgerEra era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era -&gt; PParams (ShelleyLedgerEra era)
forall era.
LedgerProtocolParameters era -&gt; PParams (ShelleyLedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#unLedgerProtocolParameters"><span class="hs-identifier hs-var">unLedgerProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">(LedgerProtocolParameters era -&gt; PParams (LedgerEra era))
-&gt; Maybe (LedgerProtocolParameters era)
-&gt; Maybe (PParams (LedgerEra era))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LedgerProtocolParameters era)
</span><a href="#local-6989586621681531768"><span class="hs-identifier hs-var">mpparams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-776"></span><span>        </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531753"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-777"></span><span>        </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531754"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-778"></span><span>        </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531755"><span class="hs-identifier hs-var">txinsc</span></a></span><span>
</span><span id="line-779"></span><span>        </span><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531756"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span>
</span><span id="line-780"></span><span>        </span><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681531757"><span class="hs-identifier hs-var">mTotCollateral</span></a></span><span>
</span><span id="line-781"></span><span>        </span><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531758"><span class="hs-identifier hs-var">txouts</span></a></span><span>
</span><span id="line-782"></span><span>        </span><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681531759"><span class="hs-identifier hs-var">mLowerBound</span></a></span><span>
</span><span id="line-783"></span><span>        </span><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681531760"><span class="hs-identifier hs-var">mUpperBound</span></a></span><span>
</span><span id="line-784"></span><span>        </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531762"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span><span>
</span><span id="line-785"></span><span>        </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531763"><span class="hs-identifier hs-var">certsAndMaybeSriptWits</span></a></span><span>
</span><span id="line-786"></span><span>        </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531764"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-787"></span><span>        </span><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531765"><span class="hs-identifier hs-var">reqSigners</span></a></span><span>
</span><span id="line-788"></span><span>        </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531761"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-789"></span><span>        </span><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531766"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span>
</span><span id="line-790"></span><span>        </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531767"><span class="hs-identifier hs-var">txMetadata</span></a></span><span>
</span><span id="line-791"></span><span>        </span><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681531769"><span class="hs-identifier hs-var">txUpdateProposal</span></a></span><span>
</span><span id="line-792"></span><span>        </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531770"><span class="hs-identifier hs-var">votingProcedures</span></a></span><span>
</span><span id="line-793"></span><span>        </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531771"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-794"></span><span>        </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531772"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-795"></span><span>
</span><span id="line-796"></span><span>    </span><span class="annot"><span class="annottext">(TxBodyError -&gt; TxCmdError)
-&gt; Either TxBodyError (TxBody era)
-&gt; Either TxCmdError (TxBody era)
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxBodyError"><span class="hs-identifier hs-var">TxCmdTxBodyError</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxBodyError (TxBody era) -&gt; Either TxCmdError (TxBody era))
-&gt; Either TxBodyError (TxBody era)
-&gt; Either TxCmdError (TxBody era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyContent BuildTx era -&gt; Either TxBodyError (TxBody era)
forall era.
HasCallStack =&gt;
ShelleyBasedEra era
-&gt; TxBodyContent BuildTx era -&gt; Either TxBodyError (TxBody era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#createTransactionBody"><span class="hs-identifier hs-var">createTransactionBody</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531775"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681531776"><span class="hs-identifier hs-var">txBodyContent</span></a></span><span>
</span><span id="line-797"></span><span>
</span><span id="line-798"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-type">constructTxBodyContent</span></a></span><span>
</span><span id="line-799"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681529889"><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-800"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-801"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ScriptValidity"><span class="hs-identifier hs-type">ScriptValidity</span></a></span><span>
</span><span id="line-802"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">L.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-803"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#SpendScriptWitness"><span class="hs-identifier hs-type">SpendScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-804"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn with potential script witness</span></span><span>
</span><span id="line-805"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-806"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Read only reference inputs</span></span><span>
</span><span id="line-807"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-808"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn for collateral</span></span><span>
</span><span id="line-809"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#CtxTx"><span class="hs-identifier hs-type">CtxTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-810"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Return collateral</span></span><span>
</span><span id="line-811"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-812"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Total collateral</span></span><span>
</span><span id="line-813"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#CtxTx"><span class="hs-identifier hs-type">CtxTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-814"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Normal outputs</span></span><span>
</span><span id="line-815"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-slotting-0.2.0.1-4931158e5859e803f65a880c95ecfbe9579b1a28852330a326f0fb66ea02801e/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-816"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx lower bound</span></span><span>
</span><span id="line-817"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxValidityUpperBound"><span class="hs-identifier hs-type">TxValidityUpperBound</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-818"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx upper bound</span></span><span>
</span><span id="line-819"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-mary-1.9.0.0-a1ffc3c47913e0a7fac21dcff59e9f0aaae21dc9a40339ecaf3d0d32915859b5/share/doc/html/src/Cardano.Ledger.Mary.Value.html#MultiAsset"><span class="hs-identifier hs-type">L.MultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Type.html#MintScriptWitnessWithPolicyId"><span class="hs-identifier hs-type">MintScriptWitnessWithPolicyId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-820"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Multi-Asset value(s)</span></span><span>
</span><span id="line-821"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-822"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Certificate with potential script witness</span></span><span>
</span><span id="line-823"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Type.html#WithdrawalScriptWitness"><span class="hs-identifier hs-type">WithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-824"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Withdrawals</span></span><span>
</span><span id="line-825"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-826"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Required signers</span></span><span>
</span><span id="line-827"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-828"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx fee</span></span><span>
</span><span id="line-829"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxAuxScripts"><span class="hs-identifier hs-type">TxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-830"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataInEra"><span class="hs-identifier hs-type">TxMetadataInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-831"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxUpdateProposal"><span class="hs-identifier hs-type">TxUpdateProposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-832"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.VotingProcedure.html#VotingProcedures"><span class="hs-identifier hs-type">VotingProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Vote.Type.html#VoteScriptWitness"><span class="hs-identifier hs-type">VoteScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-833"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#Proposal"><span class="hs-identifier hs-type">Proposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Type.html#ProposalScriptWitness"><span class="hs-identifier hs-type">ProposalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-834"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#TxCurrentTreasuryValue"><span class="hs-identifier hs-type">TxCurrentTreasuryValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxTreasuryDonation"><span class="hs-identifier hs-type">TxTreasuryDonation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-835"></span><span>  </span><span class="hs-comment">-- ^ The current treasury value and the donation. This is a stop gap as the</span><span>
</span><span id="line-836"></span><span>  </span><span class="hs-comment">-- semantics of the donation and treasury value depend on the script languages</span><span>
</span><span id="line-837"></span><span>  </span><span class="hs-comment">-- being used.</span><span>
</span><span id="line-838"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxBodyContent"><span class="hs-identifier hs-type">TxBodyContent</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-839"></span><span id="constructTxBodyContent"><span class="annot"><span class="annottext">constructTxBodyContent :: forall era.
IsEra era =&gt;
Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-var hs-var">constructTxBodyContent</span></a></span></span><span>
</span><span id="line-840"></span><span>  </span><span id="local-6989586621681531808"><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681531808"><span class="hs-identifier hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-841"></span><span>  </span><span id="local-6989586621681531809"><span class="annot"><span class="annottext">Maybe (PParams (LedgerEra era))
</span><a href="#local-6989586621681531809"><span class="hs-identifier hs-var">mPparams</span></a></span></span><span>
</span><span id="line-842"></span><span>  </span><span id="local-6989586621681531810"><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531810"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-843"></span><span>  </span><span id="local-6989586621681531811"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531811"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-844"></span><span>  </span><span id="local-6989586621681531812"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531812"><span class="hs-identifier hs-var">txinsc</span></a></span></span><span>
</span><span id="line-845"></span><span>  </span><span id="local-6989586621681531813"><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531813"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span>
</span><span id="line-846"></span><span>  </span><span id="local-6989586621681531814"><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681531814"><span class="hs-identifier hs-var">mTotCollateral</span></a></span></span><span>
</span><span id="line-847"></span><span>  </span><span id="local-6989586621681531815"><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531815"><span class="hs-identifier hs-var">txouts</span></a></span></span><span>
</span><span id="line-848"></span><span>  </span><span id="local-6989586621681531816"><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681531816"><span class="hs-identifier hs-var">mLowerBound</span></a></span></span><span>
</span><span id="line-849"></span><span>  </span><span id="local-6989586621681531817"><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681531817"><span class="hs-identifier hs-var">mUpperBound</span></a></span></span><span>
</span><span id="line-850"></span><span>  </span><span id="local-6989586621681531818"><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531818"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span></span><span>
</span><span id="line-851"></span><span>  </span><span id="local-6989586621681531819"><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531819"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-852"></span><span>  </span><span id="local-6989586621681531820"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531820"><span class="hs-identifier hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-853"></span><span>  </span><span id="local-6989586621681531821"><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531821"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-854"></span><span>  </span><span id="local-6989586621681531822"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531822"><span class="hs-identifier hs-var">fee</span></a></span></span><span>
</span><span id="line-855"></span><span>  </span><span id="local-6989586621681531823"><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531823"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span>
</span><span id="line-856"></span><span>  </span><span id="local-6989586621681531824"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531824"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span>
</span><span id="line-857"></span><span>  </span><span id="local-6989586621681531825"><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681531825"><span class="hs-identifier hs-var">txUpdateProposal</span></a></span></span><span>
</span><span id="line-858"></span><span>  </span><span id="local-6989586621681531826"><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531826"><span class="hs-identifier hs-var">votingProcedures</span></a></span></span><span>
</span><span id="line-859"></span><span>  </span><span id="local-6989586621681531827"><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531827"><span class="hs-identifier hs-var">proposals</span></a></span></span><span>
</span><span id="line-860"></span><span>  </span><span id="local-6989586621681531828"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531828"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-861"></span><span>    </span><span class="hs-keyword">do</span><span>
</span><span id="line-862"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531829"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621681531829"><span class="hs-identifier hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">(Era era -&gt; ShelleyBasedEra era) -&gt; Era era -&gt; ShelleyBasedEra era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-863"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531830"><span class="annot"><span class="annottext">allReferenceInputs :: [TxIn]
</span><a href="#local-6989586621681531830"><span class="hs-identifier hs-var hs-var">allReferenceInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-864"></span><span>            </span><span class="annot"><span class="annottext">[ScriptWitness WitCtxTxIn era]
-&gt; [ScriptWitness WitCtxMint era]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [WithdrawalScriptWitness era]
-&gt; [VoteScriptWitness era]
-&gt; [ProposalScriptWitness era]
-&gt; [TxIn]
-&gt; [TxIn]
forall era.
[ScriptWitness WitCtxTxIn era]
-&gt; [ScriptWitness WitCtxMint era]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [WithdrawalScriptWitness era]
-&gt; [VoteScriptWitness era]
-&gt; [ProposalScriptWitness era]
-&gt; [TxIn]
-&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-var">getAllReferenceInputs</span></a></span><span>
</span><span id="line-865"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era)
-&gt; [SpendScriptWitness era] -&gt; [ScriptWitness WitCtxTxIn era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era
forall era. SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era
</span><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#sswScriptWitness"><span class="hs-identifier hs-var">sswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">([SpendScriptWitness era] -&gt; [ScriptWitness WitCtxTxIn era])
-&gt; [SpendScriptWitness era] -&gt; [ScriptWitness WitCtxTxIn era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((TxIn, Maybe (SpendScriptWitness era))
 -&gt; Maybe (SpendScriptWitness era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [SpendScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn, Maybe (SpendScriptWitness era))
-&gt; Maybe (SpendScriptWitness era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531810"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-866"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MintScriptWitnessWithPolicyId era -&gt; ScriptWitness WitCtxMint era)
-&gt; [MintScriptWitnessWithPolicyId era]
-&gt; [ScriptWitness WitCtxMint era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">MintScriptWitnessWithPolicyId era -&gt; ScriptWitness WitCtxMint era
forall era.
MintScriptWitnessWithPolicyId era -&gt; ScriptWitness WitCtxMint era
</span><a href="Cardano.CLI.EraBased.Script.Mint.Type.html#mswScriptWitness"><span class="hs-identifier hs-var">mswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">([MintScriptWitnessWithPolicyId era]
 -&gt; [ScriptWitness WitCtxMint era])
-&gt; [MintScriptWitnessWithPolicyId era]
-&gt; [ScriptWitness WitCtxMint era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [MintScriptWitnessWithPolicyId era]
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531818"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-867"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531819"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-868"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
 -&gt; Maybe (WithdrawalScriptWitness era))
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [WithdrawalScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeAddress
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531831"><span class="annot"><span class="annottext">Maybe (WithdrawalScriptWitness era)
</span><a href="#local-6989586621681531831"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (WithdrawalScriptWitness era)
</span><a href="#local-6989586621681531831"><span class="hs-identifier hs-var">mSwit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531820"><span class="hs-identifier hs-var">withdrawals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-869"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((VotingProcedures era, Maybe (VoteScriptWitness era))
 -&gt; Maybe (VoteScriptWitness era))
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [VoteScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(VotingProcedures era, Maybe (VoteScriptWitness era))
-&gt; Maybe (VoteScriptWitness era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531826"><span class="hs-identifier hs-var">votingProcedures</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-870"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Proposal era, Maybe (ProposalScriptWitness era))
 -&gt; Maybe (ProposalScriptWitness era))
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; [ProposalScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Proposal era, Maybe (ProposalScriptWitness era))
-&gt; Maybe (ProposalScriptWitness era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531827"><span class="hs-identifier hs-var">proposals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-871"></span><span>              </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531811"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-872"></span><span>
</span><span id="line-873"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531832"><span class="annot"><span class="annottext">validatedCollateralTxIns :: TxInsCollateral era
</span><a href="#local-6989586621681531832"><span class="hs-identifier hs-var hs-var">validatedCollateralTxIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; [TxIn] -&gt; TxInsCollateral era
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxInsCollateral"><span class="hs-identifier hs-var">validateTxInsCollateral</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531812"><span class="hs-identifier hs-var">txinsc</span></a></span><span>
</span><span id="line-874"></span><span>      </span><span class="hs-comment">-- TODO The last argument of validateTxInsReference is a datum set from reference inputs</span><span>
</span><span id="line-875"></span><span>      </span><span class="hs-comment">-- Should we allow providing of datum from CLI?</span><span>
</span><span id="line-876"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531834"><span class="annot"><span class="annottext">validatedRefInputs :: TxInsReference BuildTx era
</span><a href="#local-6989586621681531834"><span class="hs-identifier hs-var hs-var">validatedRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall build era.
(Applicative (BuildTxWith build), IsEra era) =&gt;
[TxIn] -&gt; Set ScriptRedeemer -&gt; TxInsReference build era
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxInsReference"><span class="hs-identifier hs-var">validateTxInsReference</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531830"><span class="hs-identifier hs-var">allReferenceInputs</span></a></span><span> </span><span class="annot"><span class="annottext">Set ScriptRedeemer
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-877"></span><span>          </span><span id="local-6989586621681531836"><span class="annot"><span class="annottext">validatedTotCollateral :: TxTotalCollateral era
</span><a href="#local-6989586621681531836"><span class="hs-identifier hs-var hs-var">validatedTotCollateral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Maybe Lovelace -&gt; TxTotalCollateral era
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxTotalCollateral"><span class="hs-identifier hs-var">validateTxTotalCollateral</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681531814"><span class="hs-identifier hs-var">mTotCollateral</span></a></span><span>
</span><span id="line-878"></span><span>          </span><span id="local-6989586621681531838"><span class="annot"><span class="annottext">validatedRetCol :: TxReturnCollateral CtxTx era
</span><a href="#local-6989586621681531838"><span class="hs-identifier hs-var hs-var">validatedRetCol</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era.
IsEra era =&gt;
Maybe (TxOut CtxTx era) -&gt; TxReturnCollateral CtxTx era
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxReturnCollateral"><span class="hs-identifier hs-var">validateTxReturnCollateral</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531813"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span>
</span><span id="line-879"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531840"><span class="annot"><span class="annottext">txFee :: TxFee era
</span><a href="#local-6989586621681531840"><span class="hs-identifier hs-var hs-var">txFee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Lovelace -&gt; TxFee era
forall era. ShelleyBasedEra era -&gt; Lovelace -&gt; TxFee era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxFeeExplicit"><span class="hs-identifier hs-var">TxFeeExplicit</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531829"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531822"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-880"></span><span>          </span><span id="local-6989586621681531842"><span class="annot"><span class="annottext">validatedLowerBound :: TxValidityLowerBound era
</span><a href="#local-6989586621681531842"><span class="hs-identifier hs-var hs-var">validatedLowerBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Maybe SlotNo -&gt; TxValidityLowerBound era
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxValidityLowerBound"><span class="hs-identifier hs-var">validateTxValidityLowerBound</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681531816"><span class="hs-identifier hs-var">mLowerBound</span></a></span><span>
</span><span id="line-881"></span><span>          </span><span id="local-6989586621681531844"><span class="annot"><span class="annottext">validatedReqSigners :: TxExtraKeyWitnesses era
</span><a href="#local-6989586621681531844"><span class="hs-identifier hs-var hs-var">validatedReqSigners</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era.
IsEra era =&gt;
[Hash PaymentKey] -&gt; TxExtraKeyWitnesses era
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateRequiredSigners"><span class="hs-identifier hs-var">validateRequiredSigners</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531821"><span class="hs-identifier hs-var">reqSigners</span></a></span><span>
</span><span id="line-882"></span><span>          </span><span id="local-6989586621681531846"><span class="annot"><span class="annottext">validatedTxScriptValidity :: TxScriptValidity era
</span><a href="#local-6989586621681531846"><span class="hs-identifier hs-var hs-var">validatedTxScriptValidity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era.
IsEra era =&gt;
Maybe ScriptValidity -&gt; TxScriptValidity era
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxScriptValidity"><span class="hs-identifier hs-var">validateTxScriptValidity</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681531808"><span class="hs-identifier hs-var">mScriptValidity</span></a></span><span>
</span><span id="line-883"></span><span>
</span><span id="line-884"></span><span>      </span><span id="local-6989586621681531848"><span class="annot"><span class="annottext">TxMintValue BuildTx era
</span><a href="#local-6989586621681531848"><span class="hs-identifier hs-var">validatedMintValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; Either TxCmdError (TxMintValue BuildTx era)
forall era.
IsEra era =&gt;
(MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; Either TxCmdError (TxMintValue BuildTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#createTxMintValue"><span class="hs-identifier hs-var">createTxMintValue</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531818"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span><span>
</span><span id="line-885"></span><span>      </span><span id="local-6989586621681531850"><span class="annot"><span class="annottext">TxVotingProcedures BuildTx era
</span><a href="#local-6989586621681531850"><span class="hs-identifier hs-var">validatedVotingProcedures</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxVotingProcedures"><span class="hs-identifier hs-type">TxVotingProcedures</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-886"></span><span>        </span><span class="annot"><span class="annottext">(VotesMergingConflict era -&gt; TxCmdError)
-&gt; Either
     (VotesMergingConflict era) (TxVotingProcedures BuildTx era)
-&gt; Either TxCmdError (TxVotingProcedures BuildTx era)
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxGovDuplicateVotes era -&gt; TxCmdError
forall era. TxGovDuplicateVotes era -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxGovDuplicateVotes"><span class="hs-identifier hs-var">TxCmdTxGovDuplicateVotes</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGovDuplicateVotes era -&gt; TxCmdError)
-&gt; (VotesMergingConflict era -&gt; TxGovDuplicateVotes era)
-&gt; VotesMergingConflict era
-&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">VotesMergingConflict era -&gt; TxGovDuplicateVotes era
forall era. VotesMergingConflict era -&gt; TxGovDuplicateVotes era
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#TxGovDuplicateVotes"><span class="hs-identifier hs-var">TxGovDuplicateVotes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either (VotesMergingConflict era) (TxVotingProcedures BuildTx era)
 -&gt; Either TxCmdError (TxVotingProcedures BuildTx era))
-&gt; Either
     (VotesMergingConflict era) (TxVotingProcedures BuildTx era)
-&gt; Either TxCmdError (TxVotingProcedures BuildTx era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-887"></span><span>          </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (ScriptWitness WitCtxStake era))]
-&gt; Either
     (VotesMergingConflict era) (TxVotingProcedures BuildTx era)
forall build era.
Applicative (BuildTxWith build) =&gt;
[(VotingProcedures era, Maybe (ScriptWitness WitCtxStake era))]
-&gt; Either (VotesMergingConflict era) (TxVotingProcedures build era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#mkTxVotingProcedures"><span class="hs-identifier hs-var">mkTxVotingProcedures</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">VotingProcedures era
</span><a href="#local-6989586621681531854"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">VoteScriptWitness era -&gt; ScriptWitness WitCtxStake era
forall era. VoteScriptWitness era -&gt; ScriptWitness WitCtxStake era
</span><a href="Cardano.CLI.EraBased.Script.Vote.Type.html#vswScriptWitness"><span class="hs-identifier hs-var">vswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">(VoteScriptWitness era -&gt; ScriptWitness WitCtxStake era)
-&gt; Maybe (VoteScriptWitness era)
-&gt; Maybe (ScriptWitness WitCtxStake era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (VoteScriptWitness era)
</span><a href="#local-6989586621681531856"><span class="hs-identifier hs-var">mSwit</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531854"><span class="annot"><span class="annottext">VotingProcedures era
</span><a href="#local-6989586621681531854"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531856"><span class="annot"><span class="annottext">Maybe (VoteScriptWitness era)
</span><a href="#local-6989586621681531856"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531826"><span class="hs-identifier hs-var">votingProcedures</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-888"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531857"><span class="annot"><span class="annottext">txProposals :: Maybe
  (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era))
</span><a href="#local-6989586621681531857"><span class="hs-identifier hs-var hs-var">txProposals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ConwayEraOnwards era
    -&gt; Featured
         ConwayEraOnwards era (TxProposalProcedures BuildTx era))
-&gt; Maybe
     (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era))
forall (eon :: * -&gt; *) era a.
Eon eon =&gt;
ShelleyBasedEra era -&gt; (eon era -&gt; a) -&gt; Maybe a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#forShelleyBasedEraInEonMaybe"><span class="hs-identifier hs-var">forShelleyBasedEraInEonMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531829"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">((ConwayEraOnwards era
  -&gt; Featured
       ConwayEraOnwards era (TxProposalProcedures BuildTx era))
 -&gt; Maybe
      (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era)))
-&gt; (ConwayEraOnwards era
    -&gt; Featured
         ConwayEraOnwards era (TxProposalProcedures BuildTx era))
-&gt; Maybe
     (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681531859"><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621681531859"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-889"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621681531860"><span class="hs-identifier hs-type">txp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxProposalProcedures"><span class="hs-identifier hs-type">TxProposalProcedures</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-890"></span><span>                </span><span id="local-6989586621681531860"><span class="annot"><span class="annottext">txp :: TxProposalProcedures BuildTx era
</span><a href="#local-6989586621681531860"><span class="hs-identifier hs-var hs-var">txp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-891"></span><span>                  </span><span class="annot"><span class="annottext">ConwayEraOnwards era
-&gt; (ConwayEraOnwardsConstraints era =&gt;
    TxProposalProcedures BuildTx era)
-&gt; TxProposalProcedures BuildTx era
forall era a.
ConwayEraOnwards era -&gt; (ConwayEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ConwayEraOnwards.html#conwayEraOnwardsConstraints"><span class="hs-identifier hs-var">conwayEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621681531859"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">((ConwayEraOnwardsConstraints era =&gt;
  TxProposalProcedures BuildTx era)
 -&gt; TxProposalProcedures BuildTx era)
-&gt; (ConwayEraOnwardsConstraints era =&gt;
    TxProposalProcedures BuildTx era)
-&gt; TxProposalProcedures BuildTx era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-892"></span><span>                    </span><span class="annot"><span class="annottext">[(ProposalProcedure (ShelleyLedgerEra era),
  Maybe (ScriptWitness WitCtxStake era))]
-&gt; TxProposalProcedures BuildTx era
forall era build.
(Applicative (BuildTxWith build), IsShelleyBasedEra era) =&gt;
[(ProposalProcedure (ShelleyLedgerEra era),
  Maybe (ScriptWitness WitCtxStake era))]
-&gt; TxProposalProcedures build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#mkTxProposalProcedures"><span class="hs-identifier hs-var">mkTxProposalProcedures</span></a></span><span> </span><span class="annot"><span class="annottext">([(ProposalProcedure (ShelleyLedgerEra era),
   Maybe (ScriptWitness WitCtxStake era))]
 -&gt; TxProposalProcedures BuildTx era)
-&gt; [(ProposalProcedure (ShelleyLedgerEra era),
     Maybe (ScriptWitness WitCtxStake era))]
-&gt; TxProposalProcedures BuildTx era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-893"></span><span>                      </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProposalProcedure (ShelleyLedgerEra era)
</span><a href="#local-6989586621681531867"><span class="hs-identifier hs-var">prop</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ProposalScriptWitness era -&gt; ScriptWitness WitCtxStake era
forall era.
ProposalScriptWitness era -&gt; ScriptWitness WitCtxStake era
</span><a href="Cardano.CLI.EraBased.Script.Proposal.Type.html#pswScriptWitness"><span class="hs-identifier hs-var">pswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">(ProposalScriptWitness era -&gt; ScriptWitness WitCtxStake era)
-&gt; Maybe (ProposalScriptWitness era)
-&gt; Maybe (ScriptWitness WitCtxStake era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (ProposalScriptWitness era)
</span><a href="#local-6989586621681531870"><span class="hs-identifier hs-var">mSwit</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#Proposal"><span class="hs-identifier hs-type">Proposal</span></a></span><span> </span><span id="local-6989586621681531867"><span class="annot"><span class="annottext">ProposalProcedure (ShelleyLedgerEra era)
</span><a href="#local-6989586621681531867"><span class="hs-identifier hs-var">prop</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531870"><span class="annot"><span class="annottext">Maybe (ProposalScriptWitness era)
</span><a href="#local-6989586621681531870"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531827"><span class="hs-identifier hs-var">proposals</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-894"></span><span>            </span><span class="annot"><span class="annottext">ConwayEraOnwards era
-&gt; TxProposalProcedures BuildTx era
-&gt; Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era)
forall (eon :: * -&gt; *) era a. eon era -&gt; a -&gt; Featured eon era a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Feature.html#Featured"><span class="hs-identifier hs-var">Featured</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621681531859"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">TxProposalProcedures BuildTx era
</span><a href="#local-6989586621681531860"><span class="hs-identifier hs-var">txp</span></a></span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531873"><span class="annot"><span class="annottext">validatedCurrentTreasuryValue :: Maybe (Featured ConwayEraOnwards era (Maybe Lovelace))
</span><a href="#local-6989586621681531873"><span class="hs-identifier hs-var hs-var">validatedCurrentTreasuryValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era.
IsEra era =&gt;
Maybe TxCurrentTreasuryValue
-&gt; Maybe (Featured ConwayEraOnwards era (Maybe Lovelace))
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxCurrentTreasuryValue"><span class="hs-identifier hs-var">validateTxCurrentTreasuryValue</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; TxCurrentTreasuryValue
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((TxCurrentTreasuryValue, TxTreasuryDonation)
 -&gt; TxCurrentTreasuryValue)
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Maybe TxCurrentTreasuryValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531828"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-897"></span><span>          </span><span id="local-6989586621681531875"><span class="annot"><span class="annottext">validatedTreasuryDonation :: Maybe (Featured ConwayEraOnwards era Lovelace)
</span><a href="#local-6989586621681531875"><span class="hs-identifier hs-var hs-var">validatedTreasuryDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era.
IsEra era =&gt;
Maybe TxTreasuryDonation
-&gt; Maybe (Featured ConwayEraOnwards era Lovelace)
</span><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxTreasuryDonation"><span class="hs-identifier hs-var">validateTxTreasuryDonation</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxCurrentTreasuryValue, TxTreasuryDonation) -&gt; TxTreasuryDonation
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((TxCurrentTreasuryValue, TxTreasuryDonation)
 -&gt; TxTreasuryDonation)
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Maybe TxTreasuryDonation
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531828"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-898"></span><span>      </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
forall a. a -&gt; Either TxCmdError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxBodyContent BuildTx era
 -&gt; Either TxCmdError (TxBodyContent BuildTx era))
-&gt; TxBodyContent BuildTx era
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-899"></span><span>        </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span>
</span><span id="line-900"></span><span>          </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531829"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-901"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; TxBodyContent BuildTx era
forall era. ShelleyBasedEra era -&gt; TxBodyContent BuildTx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#defaultTxBodyContent"><span class="hs-identifier hs-var">defaultTxBodyContent</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531829"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-902"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxIns BuildTx era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall build era.
TxIns build era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxIns"><span class="hs-identifier hs-var">setTxIns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))] -&gt; TxIns BuildTx era
forall era.
[(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [(TxIn, BuildTxWith BuildTx (Witness WitCtxTxIn era))]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxIns"><span class="hs-identifier hs-var">validateTxIns</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531810"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-903"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxInsCollateral era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxInsCollateral era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxInsCollateral"><span class="hs-identifier hs-var">setTxInsCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">TxInsCollateral era
</span><a href="#local-6989586621681531832"><span class="hs-identifier hs-var">validatedCollateralTxIns</span></a></span><span>
</span><span id="line-904"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxInsReference BuildTx era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall build era.
TxInsReference build era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxInsReference"><span class="hs-identifier hs-var">setTxInsReference</span></a></span><span> </span><span class="annot"><span class="annottext">TxInsReference BuildTx era
</span><a href="#local-6989586621681531834"><span class="hs-identifier hs-var">validatedRefInputs</span></a></span><span>
</span><span id="line-905"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">[TxOut CtxTx era]
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
[TxOut CtxTx era]
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxOuts"><span class="hs-identifier hs-var">setTxOuts</span></a></span><span> </span><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531815"><span class="hs-identifier hs-var">txouts</span></a></span><span>
</span><span id="line-906"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxTotalCollateral era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxTotalCollateral era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxTotalCollateral"><span class="hs-identifier hs-var">setTxTotalCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">TxTotalCollateral era
</span><a href="#local-6989586621681531836"><span class="hs-identifier hs-var">validatedTotCollateral</span></a></span><span>
</span><span id="line-907"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxReturnCollateral CtxTx era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxReturnCollateral CtxTx era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxReturnCollateral"><span class="hs-identifier hs-var">setTxReturnCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">TxReturnCollateral CtxTx era
</span><a href="#local-6989586621681531838"><span class="hs-identifier hs-var">validatedRetCol</span></a></span><span>
</span><span id="line-908"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxFee era -&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxFee era -&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxFee"><span class="hs-identifier hs-var">setTxFee</span></a></span><span> </span><span class="annot"><span class="annottext">TxFee era
</span><a href="#local-6989586621681531840"><span class="hs-identifier hs-var">txFee</span></a></span><span>
</span><span id="line-909"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidityLowerBound era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxValidityLowerBound era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxValidityLowerBound"><span class="hs-identifier hs-var">setTxValidityLowerBound</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidityLowerBound era
</span><a href="#local-6989586621681531842"><span class="hs-identifier hs-var">validatedLowerBound</span></a></span><span>
</span><span id="line-910"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidityUpperBound era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxValidityUpperBound era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxValidityUpperBound"><span class="hs-identifier hs-var">setTxValidityUpperBound</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681531817"><span class="hs-identifier hs-var">mUpperBound</span></a></span><span>
</span><span id="line-911"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxMetadataInEra era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxMetadata"><span class="hs-identifier hs-var">setTxMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531824"><span class="hs-identifier hs-var">txMetadata</span></a></span><span>
</span><span id="line-912"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxAuxScripts era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxAuxScripts era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxAuxScripts"><span class="hs-identifier hs-var">setTxAuxScripts</span></a></span><span> </span><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531823"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span>
</span><span id="line-913"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxExtraKeyWitnesses era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxExtraKeyWitnesses era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxExtraKeyWits"><span class="hs-identifier hs-var">setTxExtraKeyWits</span></a></span><span> </span><span class="annot"><span class="annottext">TxExtraKeyWitnesses era
</span><a href="#local-6989586621681531844"><span class="hs-identifier hs-var">validatedReqSigners</span></a></span><span>
</span><span id="line-914"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era))
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall build era.
BuildTxWith build (Maybe (LedgerProtocolParameters era))
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxProtocolParams"><span class="hs-identifier hs-var">setTxProtocolParams</span></a></span><span>
</span><span id="line-915"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (LedgerProtocolParameters era)
-&gt; BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era))
forall a. a -&gt; BuildTxWith BuildTx a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-var">BuildTxWith</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (LedgerProtocolParameters era)
 -&gt; BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era)))
-&gt; Maybe (LedgerProtocolParameters era)
-&gt; BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
forall era.
PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-var">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">(PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era)
-&gt; (PParams (LedgerEra era) -&gt; PParams (ShelleyLedgerEra era))
-&gt; PParams (LedgerEra era)
-&gt; LedgerProtocolParameters era
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; PParams (LedgerEra era) -&gt; PParams (ShelleyLedgerEra era)
forall era.
Era era
-&gt; PParams (LedgerEra era) -&gt; PParams (ShelleyLedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toShelleyLedgerPParamsShim"><span class="hs-identifier hs-var">toShelleyLedgerPParamsShim</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">(PParams (LedgerEra era) -&gt; LedgerProtocolParameters era)
-&gt; Maybe (PParams (LedgerEra era))
-&gt; Maybe (LedgerProtocolParameters era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (PParams (LedgerEra era))
</span><a href="#local-6989586621681531809"><span class="hs-identifier hs-var">mPparams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-916"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxWithdrawals BuildTx era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall build era.
TxWithdrawals build era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxWithdrawals"><span class="hs-identifier hs-var">setTxWithdrawals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; [(StakeAddress, Lovelace,
     BuildTxWith BuildTx (Witness WitCtxStake era))]
-&gt; TxWithdrawals BuildTx era
forall era build.
ShelleyBasedEra era
-&gt; [(StakeAddress, Lovelace,
     BuildTxWith build (Witness WitCtxStake era))]
-&gt; TxWithdrawals build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxWithdrawals"><span class="hs-identifier hs-var">TxWithdrawals</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531829"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">([(StakeAddress, Lovelace,
   BuildTxWith BuildTx (Witness WitCtxStake era))]
 -&gt; TxWithdrawals BuildTx era)
-&gt; [(StakeAddress, Lovelace,
     BuildTxWith BuildTx (Witness WitCtxStake era))]
-&gt; TxWithdrawals BuildTx era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
 -&gt; (StakeAddress, Lovelace,
     BuildTxWith BuildTx (Witness WitCtxStake era)))
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [(StakeAddress, Lovelace,
     BuildTxWith BuildTx (Witness WitCtxStake era))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
-&gt; (StakeAddress, Lovelace,
    BuildTxWith BuildTx (Witness WitCtxStake era))
</span><a href="#local-6989586621681531902"><span class="hs-identifier hs-var">convertWithdrawals</span></a></span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531820"><span class="hs-identifier hs-var">withdrawals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-917"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxCertificates BuildTx era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall build era.
TxCertificates build era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxCertificates"><span class="hs-identifier hs-var">setTxCertificates</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; TxCertificates BuildTx era
forall era.
IsEra era =&gt;
[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; TxCertificates BuildTx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#mkTxCertificates"><span class="hs-identifier hs-var">Exp.mkTxCertificates</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531819"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxUpdateProposal era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxUpdateProposal"><span class="hs-identifier hs-var">setTxUpdateProposal</span></a></span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681531825"><span class="hs-identifier hs-var">txUpdateProposal</span></a></span><span>
</span><span id="line-919"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxMintValue BuildTx era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall build era.
TxMintValue build era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxMintValue"><span class="hs-identifier hs-var">setTxMintValue</span></a></span><span> </span><span class="annot"><span class="annottext">TxMintValue BuildTx era
</span><a href="#local-6989586621681531848"><span class="hs-identifier hs-var">validatedMintValue</span></a></span><span>
</span><span id="line-920"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity era
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
TxScriptValidity era
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxScriptValidity"><span class="hs-identifier hs-var">setTxScriptValidity</span></a></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity era
</span><a href="#local-6989586621681531846"><span class="hs-identifier hs-var">validatedTxScriptValidity</span></a></span><span>
</span><span id="line-921"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Featured ConwayEraOnwards era (TxVotingProcedures BuildTx era))
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
Maybe
  (Featured ConwayEraOnwards era (TxVotingProcedures build era))
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxVotingProcedures"><span class="hs-identifier hs-var">setTxVotingProcedures</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxVotingProcedures BuildTx era
-&gt; Maybe
     (Featured ConwayEraOnwards era (TxVotingProcedures BuildTx era))
forall (eon :: * -&gt; *) era a.
(IsCardanoEra era, Eon eon) =&gt;
a -&gt; Maybe (Featured eon era a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Feature.html#mkFeatured"><span class="hs-identifier hs-var">mkFeatured</span></a></span><span> </span><span class="annot"><span class="annottext">TxVotingProcedures BuildTx era
</span><a href="#local-6989586621681531850"><span class="hs-identifier hs-var">validatedVotingProcedures</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-922"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era))
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
Maybe
  (Featured ConwayEraOnwards era (TxProposalProcedures build era))
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxProposalProcedures"><span class="hs-identifier hs-var">setTxProposalProcedures</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era))
</span><a href="#local-6989586621681531857"><span class="hs-identifier hs-var">txProposals</span></a></span><span>
</span><span id="line-923"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era (Maybe Lovelace))
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
Maybe (Featured ConwayEraOnwards era (Maybe Lovelace))
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxCurrentTreasuryValue"><span class="hs-identifier hs-var">setTxCurrentTreasuryValue</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era (Maybe Lovelace))
</span><a href="#local-6989586621681531873"><span class="hs-identifier hs-var">validatedCurrentTreasuryValue</span></a></span><span>
</span><span id="line-924"></span><span>              </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; (TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era)
-&gt; TxBodyContent BuildTx era
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era Lovelace)
-&gt; TxBodyContent BuildTx era -&gt; TxBodyContent BuildTx era
forall era build.
Maybe (Featured ConwayEraOnwards era Lovelace)
-&gt; TxBodyContent build era -&gt; TxBodyContent build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#setTxTreasuryDonation"><span class="hs-identifier hs-var">setTxTreasuryDonation</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era Lovelace)
</span><a href="#local-6989586621681531875"><span class="hs-identifier hs-var">validatedTreasuryDonation</span></a></span><span>
</span><span id="line-925"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-926"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-927"></span><span>    </span><span class="annot"><a href="#local-6989586621681531902"><span class="hs-identifier hs-type">convertWithdrawals</span></a></span><span>
</span><span id="line-928"></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Type.html#WithdrawalScriptWitness"><span class="hs-identifier hs-type">WithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-929"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-type">BuildTxWith</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#Witness"><span class="hs-identifier hs-type">Witness</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#WitCtxStake"><span class="hs-identifier hs-type">WitCtxStake</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529889"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-930"></span><span>    </span><span id="local-6989586621681531902"><span class="annot"><span class="annottext">convertWithdrawals :: (StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
-&gt; (StakeAddress, Lovelace,
    BuildTxWith BuildTx (Witness WitCtxStake era))
</span><a href="#local-6989586621681531902"><span class="hs-identifier hs-var hs-var">convertWithdrawals</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531913"><span class="annot"><span class="annottext">StakeAddress
</span><a href="#local-6989586621681531913"><span class="hs-identifier hs-var">sAddr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531914"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531914"><span class="hs-identifier hs-var">ll</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531915"><span class="annot"><span class="annottext">Maybe (WithdrawalScriptWitness era)
</span><a href="#local-6989586621681531915"><span class="hs-identifier hs-var">mScriptWitnessFiles</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-931"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (WithdrawalScriptWitness era)
</span><a href="#local-6989586621681531915"><span class="hs-identifier hs-var">mScriptWitnessFiles</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-932"></span><span>        </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681531916"><span class="annot"><span class="annottext">WithdrawalScriptWitness era
</span><a href="#local-6989586621681531916"><span class="hs-identifier hs-var">sWit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeAddress
</span><a href="#local-6989586621681531913"><span class="hs-identifier hs-var">sAddr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531914"><span class="hs-identifier hs-var">ll</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Witness WitCtxStake era
-&gt; BuildTxWith BuildTx (Witness WitCtxStake era)
forall a. a -&gt; BuildTxWith BuildTx a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-var">BuildTxWith</span></a></span><span> </span><span class="annot"><span class="annottext">(Witness WitCtxStake era
 -&gt; BuildTxWith BuildTx (Witness WitCtxStake era))
-&gt; Witness WitCtxStake era
-&gt; BuildTxWith BuildTx (Witness WitCtxStake era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptWitnessInCtx WitCtxStake
-&gt; ScriptWitness WitCtxStake era -&gt; Witness WitCtxStake era
forall witctx era.
ScriptWitnessInCtx witctx
-&gt; ScriptWitness witctx era -&gt; Witness witctx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitness"><span class="hs-identifier hs-var">ScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptWitnessInCtx WitCtxStake
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitnessForStakeAddr"><span class="hs-identifier hs-var">ScriptWitnessForStakeAddr</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptWitness WitCtxStake era -&gt; Witness WitCtxStake era)
-&gt; ScriptWitness WitCtxStake era -&gt; Witness WitCtxStake era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">WithdrawalScriptWitness era -&gt; ScriptWitness WitCtxStake era
forall era.
WithdrawalScriptWitness era -&gt; ScriptWitness WitCtxStake era
</span><a href="Cardano.CLI.EraBased.Script.Withdrawal.Type.html#wswScriptWitness"><span class="hs-identifier hs-var">wswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">WithdrawalScriptWitness era
</span><a href="#local-6989586621681531916"><span class="hs-identifier hs-var">sWit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>        </span><span class="annot"><span class="annottext">Maybe (WithdrawalScriptWitness era)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeAddress
</span><a href="#local-6989586621681531913"><span class="hs-identifier hs-var">sAddr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681531914"><span class="hs-identifier hs-var">ll</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Witness WitCtxStake era
-&gt; BuildTxWith BuildTx (Witness WitCtxStake era)
forall a. a -&gt; BuildTxWith BuildTx a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-var">BuildTxWith</span></a></span><span> </span><span class="annot"><span class="annottext">(Witness WitCtxStake era
 -&gt; BuildTxWith BuildTx (Witness WitCtxStake era))
-&gt; Witness WitCtxStake era
-&gt; BuildTxWith BuildTx (Witness WitCtxStake era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxStake -&gt; Witness WitCtxStake era
forall witctx era. KeyWitnessInCtx witctx -&gt; Witness witctx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#KeyWitness"><span class="hs-identifier hs-var">KeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxStake
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#KeyWitnessForStakeAddr"><span class="hs-identifier hs-var">KeyWitnessForStakeAddr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-934"></span><span>
</span><span id="line-935"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuild"><span class="hs-identifier hs-type">runTxBuild</span></a></span><span>
</span><span id="line-936"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681529791"><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-937"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-938"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#SocketPath"><span class="hs-identifier hs-type">SocketPath</span></a></span><span>
</span><span id="line-939"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.Internal.NetworkId.html#NetworkId"><span class="hs-identifier hs-type">NetworkId</span></a></span><span>
</span><span id="line-940"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ScriptValidity"><span class="hs-identifier hs-type">ScriptValidity</span></a></span><span>
</span><span id="line-941"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Mark script as expected to pass or fail validation</span></span><span>
</span><span id="line-942"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#SpendScriptWitness"><span class="hs-identifier hs-type">SpendScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-943"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Read only reference inputs</span></span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-945"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn with potential script witness</span></span><span>
</span><span id="line-946"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-947"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn for collateral</span></span><span>
</span><span id="line-948"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#CtxTx"><span class="hs-identifier hs-type">CtxTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-949"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Return collateral</span></span><span>
</span><span id="line-950"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-951"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Total collateral</span></span><span>
</span><span id="line-952"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#CtxTx"><span class="hs-identifier hs-type">CtxTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-953"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Normal outputs</span></span><span>
</span><span id="line-954"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutChangeAddress"><span class="hs-identifier hs-type">TxOutChangeAddress</span></a></span><span>
</span><span id="line-955"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ A change output</span></span><span>
</span><span id="line-956"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-mary-1.9.0.0-a1ffc3c47913e0a7fac21dcff59e9f0aaae21dc9a40339ecaf3d0d32915859b5/share/doc/html/src/Cardano.Ledger.Mary.Value.html#MultiAsset"><span class="hs-identifier hs-type">L.MultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Type.html#MintScriptWitnessWithPolicyId"><span class="hs-identifier hs-type">MintScriptWitnessWithPolicyId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-957"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Multi-Asset value(s)</span></span><span>
</span><span id="line-958"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-slotting-0.2.0.1-4931158e5859e803f65a880c95ecfbe9579b1a28852330a326f0fb66ea02801e/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-959"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx lower bound</span></span><span>
</span><span id="line-960"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxValidityUpperBound"><span class="hs-identifier hs-type">TxValidityUpperBound</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-961"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx upper bound</span></span><span>
</span><span id="line-962"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-963"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Certificate with potential script witness</span></span><span>
</span><span id="line-964"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Type.html#WithdrawalScriptWitness"><span class="hs-identifier hs-type">WithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-965"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-966"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Required signers</span></span><span>
</span><span id="line-967"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxAuxScripts"><span class="hs-identifier hs-type">TxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-968"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataInEra"><span class="hs-identifier hs-type">TxMetadataInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-969"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxUpdateProposal"><span class="hs-identifier hs-type">TxUpdateProposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-970"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#Word"><span class="hs-identifier hs-type">Word</span></a></span><span>
</span><span id="line-971"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.VotingProcedure.html#VotingProcedures"><span class="hs-identifier hs-type">VotingProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Vote.Type.html#VoteScriptWitness"><span class="hs-identifier hs-type">VoteScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-972"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#Proposal"><span class="hs-identifier hs-type">Proposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Type.html#ProposalScriptWitness"><span class="hs-identifier hs-type">ProposalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-973"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#TxCurrentTreasuryValue"><span class="hs-identifier hs-type">TxCurrentTreasuryValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxTreasuryDonation"><span class="hs-identifier hs-type">TxTreasuryDonation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-974"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The current treasury value and the donation.</span></span><span>
</span><span id="line-975"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#BalancedTxBody"><span class="hs-identifier hs-type">BalancedTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-976"></span><span id="runTxBuild"><span class="annot"><span class="annottext">runTxBuild :: forall era.
IsEra era =&gt;
SocketPath
-&gt; NetworkId
-&gt; Maybe ScriptValidity
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; TxOutChangeAddress
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; Maybe Word
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; ExceptT TxCmdError IO (BalancedTxBody era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuild"><span class="hs-identifier hs-var hs-var">runTxBuild</span></a></span></span><span>
</span><span id="line-977"></span><span>  </span><span id="local-6989586621681531925"><span class="annot"><span class="annottext">SocketPath
</span><a href="#local-6989586621681531925"><span class="hs-identifier hs-var">socketPath</span></a></span></span><span>
</span><span id="line-978"></span><span>  </span><span id="local-6989586621681531926"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681531926"><span class="hs-identifier hs-var">networkId</span></a></span></span><span>
</span><span id="line-979"></span><span>  </span><span id="local-6989586621681531927"><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681531927"><span class="hs-identifier hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-980"></span><span>  </span><span id="local-6989586621681531928"><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531928"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-981"></span><span>  </span><span id="local-6989586621681531929"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531929"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-982"></span><span>  </span><span id="local-6989586621681531930"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531930"><span class="hs-identifier hs-var">txinsc</span></a></span></span><span>
</span><span id="line-983"></span><span>  </span><span id="local-6989586621681531931"><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531931"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span>
</span><span id="line-984"></span><span>  </span><span id="local-6989586621681531932"><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681531932"><span class="hs-identifier hs-var">mTotCollateral</span></a></span></span><span>
</span><span id="line-985"></span><span>  </span><span id="local-6989586621681531933"><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531933"><span class="hs-identifier hs-var">txouts</span></a></span></span><span>
</span><span id="line-986"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutChangeAddress"><span class="hs-identifier hs-type">TxOutChangeAddress</span></a></span><span> </span><span id="local-6989586621681531934"><span class="annot"><span class="annottext">AddressAny
</span><a href="#local-6989586621681531934"><span class="hs-identifier hs-var">changeAddr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-987"></span><span>  </span><span id="local-6989586621681531935"><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531935"><span class="hs-identifier hs-var">mintValueWithScriptWits</span></a></span></span><span>
</span><span id="line-988"></span><span>  </span><span id="local-6989586621681531936"><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681531936"><span class="hs-identifier hs-var">mLowerBound</span></a></span></span><span>
</span><span id="line-989"></span><span>  </span><span id="local-6989586621681531937"><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681531937"><span class="hs-identifier hs-var">mUpperBound</span></a></span></span><span>
</span><span id="line-990"></span><span>  </span><span id="local-6989586621681531938"><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531938"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-991"></span><span>  </span><span id="local-6989586621681531939"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531939"><span class="hs-identifier hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-992"></span><span>  </span><span id="local-6989586621681531940"><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531940"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-993"></span><span>  </span><span id="local-6989586621681531941"><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531941"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span>
</span><span id="line-994"></span><span>  </span><span id="local-6989586621681531942"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531942"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span>
</span><span id="line-995"></span><span>  </span><span id="local-6989586621681531943"><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681531943"><span class="hs-identifier hs-var">txUpdateProposal</span></a></span></span><span>
</span><span id="line-996"></span><span>  </span><span id="local-6989586621681531944"><span class="annot"><span class="annottext">Maybe Word
</span><a href="#local-6989586621681531944"><span class="hs-identifier hs-var">mOverrideWits</span></a></span></span><span>
</span><span id="line-997"></span><span>  </span><span id="local-6989586621681531945"><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531945"><span class="hs-identifier hs-var">votingProcedures</span></a></span></span><span>
</span><span id="line-998"></span><span>  </span><span id="local-6989586621681531946"><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531946"><span class="hs-identifier hs-var">proposals</span></a></span></span><span>
</span><span id="line-999"></span><span>  </span><span id="local-6989586621681531947"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531947"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1000"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531948"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621681531948"><span class="hs-identifier hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681529791"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1001"></span><span>    </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ExceptT TxCmdError IO (BalancedTxBody era))
-&gt; ExceptT TxCmdError IO (BalancedTxBody era)
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531948"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt;
  ExceptT TxCmdError IO (BalancedTxBody era))
 -&gt; ExceptT TxCmdError IO (BalancedTxBody era))
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ExceptT TxCmdError IO (BalancedTxBody era))
-&gt; ExceptT TxCmdError IO (BalancedTxBody era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1002"></span><span>      </span><span class="hs-comment">-- TODO: All functions should be parameterized by ShelleyBasedEra</span><span>
</span><span id="line-1003"></span><span>      </span><span class="hs-comment">-- as it's not possible to call this function with ByronEra</span><span>
</span><span id="line-1004"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531960"><span class="annot"><span class="annottext">era :: CardanoEra era
</span><a href="#local-6989586621681531960"><span class="hs-identifier hs-var hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531948"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-1005"></span><span>          </span><span id="local-6989586621681531961"><span class="annot"><span class="annottext">inputsThatRequireWitnessing :: [TxIn]
</span><a href="#local-6989586621681531961"><span class="hs-identifier hs-var hs-var">inputsThatRequireWitnessing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681531962"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681531962"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681531962"><span class="hs-identifier hs-var">input</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (SpendScriptWitness era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531928"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1006"></span><span>
</span><span id="line-1007"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531963"><span class="annot"><span class="annottext">allReferenceInputs :: [TxIn]
</span><a href="#local-6989586621681531963"><span class="hs-identifier hs-var hs-var">allReferenceInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1008"></span><span>            </span><span class="annot"><span class="annottext">[ScriptWitness WitCtxTxIn era]
-&gt; [ScriptWitness WitCtxMint era]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [WithdrawalScriptWitness era]
-&gt; [VoteScriptWitness era]
-&gt; [ProposalScriptWitness era]
-&gt; [TxIn]
-&gt; [TxIn]
forall era.
[ScriptWitness WitCtxTxIn era]
-&gt; [ScriptWitness WitCtxMint era]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [WithdrawalScriptWitness era]
-&gt; [VoteScriptWitness era]
-&gt; [ProposalScriptWitness era]
-&gt; [TxIn]
-&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-var">getAllReferenceInputs</span></a></span><span>
</span><span id="line-1009"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era)
-&gt; [SpendScriptWitness era] -&gt; [ScriptWitness WitCtxTxIn era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era
forall era. SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era
</span><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#sswScriptWitness"><span class="hs-identifier hs-var">sswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">([SpendScriptWitness era] -&gt; [ScriptWitness WitCtxTxIn era])
-&gt; [SpendScriptWitness era] -&gt; [ScriptWitness WitCtxTxIn era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((TxIn, Maybe (SpendScriptWitness era))
 -&gt; Maybe (SpendScriptWitness era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [SpendScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn, Maybe (SpendScriptWitness era))
-&gt; Maybe (SpendScriptWitness era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531928"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1010"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MintScriptWitnessWithPolicyId era -&gt; ScriptWitness WitCtxMint era)
-&gt; [MintScriptWitnessWithPolicyId era]
-&gt; [ScriptWitness WitCtxMint era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">MintScriptWitnessWithPolicyId era -&gt; ScriptWitness WitCtxMint era
forall era.
MintScriptWitnessWithPolicyId era -&gt; ScriptWitness WitCtxMint era
</span><a href="Cardano.CLI.EraBased.Script.Mint.Type.html#mswScriptWitness"><span class="hs-identifier hs-var">mswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">([MintScriptWitnessWithPolicyId era]
 -&gt; [ScriptWitness WitCtxMint era])
-&gt; [MintScriptWitnessWithPolicyId era]
-&gt; [ScriptWitness WitCtxMint era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [MintScriptWitnessWithPolicyId era]
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531935"><span class="hs-identifier hs-var">mintValueWithScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1011"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531938"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1012"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))
 -&gt; Maybe (WithdrawalScriptWitness era))
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [WithdrawalScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeAddress
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681531964"><span class="annot"><span class="annottext">Maybe (WithdrawalScriptWitness era)
</span><a href="#local-6989586621681531964"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (WithdrawalScriptWitness era)
</span><a href="#local-6989586621681531964"><span class="hs-identifier hs-var">mSwit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531939"><span class="hs-identifier hs-var">withdrawals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1013"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((VotingProcedures era, Maybe (VoteScriptWitness era))
 -&gt; Maybe (VoteScriptWitness era))
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [VoteScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(VotingProcedures era, Maybe (VoteScriptWitness era))
-&gt; Maybe (VoteScriptWitness era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531945"><span class="hs-identifier hs-var">votingProcedures</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1014"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Proposal era, Maybe (ProposalScriptWitness era))
 -&gt; Maybe (ProposalScriptWitness era))
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; [ProposalScriptWitness era]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Proposal era, Maybe (ProposalScriptWitness era))
-&gt; Maybe (ProposalScriptWitness era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531946"><span class="hs-identifier hs-var">proposals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1015"></span><span>              </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531929"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-1016"></span><span>
</span><span id="line-1017"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681531965"><span class="annot"><span class="annottext">allTxInputs :: [TxIn]
</span><a href="#local-6989586621681531965"><span class="hs-identifier hs-var hs-var">allTxInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531961"><span class="hs-identifier hs-var">inputsThatRequireWitnessing</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn] -&gt; [TxIn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531963"><span class="hs-identifier hs-var">allReferenceInputs</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn] -&gt; [TxIn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531930"><span class="hs-identifier hs-var">txinsc</span></a></span><span>
</span><span id="line-1018"></span><span>          </span><span id="local-6989586621681531966"><span class="annot"><span class="annottext">localNodeConnInfo :: LocalNodeConnectInfo
</span><a href="#local-6989586621681531966"><span class="hs-identifier hs-var hs-var">localNodeConnInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1019"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#LocalNodeConnectInfo"><span class="hs-identifier hs-type">LocalNodeConnectInfo</span></a></span><span>
</span><span id="line-1020"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">localConsensusModeParams :: ConsensusModeParams
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localConsensusModeParams"><span class="hs-identifier hs-var">localConsensusModeParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpochSlots -&gt; ConsensusModeParams
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Consensus.Internal.Mode.html#CardanoModeParams"><span class="hs-identifier hs-var">CardanoModeParams</span></a></span><span> </span><span class="annot"><span class="annottext">(EpochSlots -&gt; ConsensusModeParams)
-&gt; EpochSlots -&gt; ConsensusModeParams
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; EpochSlots
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-byron-1.2.0.0-40d2b8a81df85a49e4ac993959fc2bbcd96db1ce6f3db76397ac7b36fe6b3b4e/share/doc/html/src/Cardano.Chain.Slotting.EpochSlots.html#EpochSlots"><span class="hs-identifier hs-var">EpochSlots</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">21600</span></span><span>
</span><span id="line-1021"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">localNodeNetworkId :: NetworkId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localNodeNetworkId"><span class="hs-identifier hs-var">localNodeNetworkId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681531926"><span class="hs-identifier hs-var">networkId</span></a></span><span>
</span><span id="line-1022"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">localNodeSocketPath :: SocketPath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localNodeSocketPath"><span class="hs-identifier hs-var">localNodeSocketPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SocketPath
</span><a href="#local-6989586621681531925"><span class="hs-identifier hs-var">socketPath</span></a></span><span>
</span><span id="line-1023"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-1024"></span><span>
</span><span id="line-1025"></span><span>      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span id="local-6989586621681531974"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531974"><span class="hs-identifier hs-var">nodeEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1026"></span><span>        </span><span class="annot"><span class="annottext">IO
  (Either
     AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; IO
     (Either
        AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
forall a.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr BlockInMode ChainPoint QueryInMode () IO a
-&gt; IO (Either AcquiringFailure a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-var">executeLocalStateQueryExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681531966"><span class="hs-identifier hs-var">localNodeConnInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Target ChainPoint
forall point. Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-network-protocols-0.15.0.0-8a75db3c7530192ceb2b37ee5fd7844775e5fdcb8e5aebb7df567dc0ceaba20b/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-var">Consensus.VolatileTip</span></a></span><span> </span><span class="annot"><span class="annottext">LocalStateQueryExpr
  BlockInMode
  ChainPoint
  QueryInMode
  ()
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
forall block point r.
LocalStateQueryExpr
  block
  point
  QueryInMode
  r
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryCurrentEra"><span class="hs-identifier hs-var">queryCurrentEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1027"></span><span>          </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either
     AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either
         AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
    -&gt; ExceptT
         TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(AcquiringFailure
 -&gt; ExceptT
      TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError
 -&gt; ExceptT
      TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; (AcquiringFailure -&gt; TxCmdError)
-&gt; AcquiringFailure
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError -&gt; TxCmdError)
-&gt; (AcquiringFailure -&gt; QueryConvenienceError)
-&gt; AcquiringFailure
-&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#AcqFailure"><span class="hs-identifier hs-var">AcqFailure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1028"></span><span>          </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; (ExceptT
      TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
    -&gt; ExceptT TxCmdError IO AnyCardanoEra)
-&gt; ExceptT TxCmdError IO AnyCardanoEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsupportedNtcVersionError -&gt; ExceptT TxCmdError IO AnyCardanoEra)
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; ExceptT TxCmdError IO AnyCardanoEra
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO AnyCardanoEra
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO AnyCardanoEra)
-&gt; (UnsupportedNtcVersionError -&gt; TxCmdError)
-&gt; UnsupportedNtcVersionError
-&gt; ExceptT TxCmdError IO AnyCardanoEra
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError -&gt; TxCmdError)
-&gt; (UnsupportedNtcVersionError -&gt; QueryConvenienceError)
-&gt; UnsupportedNtcVersionError
-&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UnsupportedNtcVersionError -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-var">QceUnsupportedNtcVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1029"></span><span>
</span><span id="line-1030"></span><span>      </span><span class="annot"><span class="annottext">era :~: era
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#Refl"><span class="hs-identifier hs-var">Refl</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1031"></span><span>        </span><span class="annot"><span class="annottext">CardanoEra era -&gt; CardanoEra era -&gt; Maybe (era :~: era)
forall a b. CardanoEra a -&gt; CardanoEra b -&gt; Maybe (a :~: b)
forall {k} (f :: k -&gt; *) (a :: k) (b :: k).
TestEquality f =&gt;
f a -&gt; f b -&gt; Maybe (a :~: b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#testEquality"><span class="hs-identifier hs-var">testEquality</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531960"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531974"><span class="hs-identifier hs-var">nodeEra</span></a></span><span>
</span><span id="line-1032"></span><span>          </span><span class="annot"><span class="annottext">Maybe (era :~: era)
-&gt; (Maybe (era :~: era) -&gt; ExceptT TxCmdError IO (era :~: era))
-&gt; ExceptT TxCmdError IO (era :~: era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError
-&gt; Maybe (era :~: era) -&gt; ExceptT TxCmdError IO (era :~: era)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; Maybe a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NodeEraMismatchError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxNodeEraMismatchError"><span class="hs-identifier hs-var">TxCmdTxNodeEraMismatchError</span></a></span><span> </span><span class="annot"><span class="annottext">(NodeEraMismatchError -&gt; TxCmdError)
-&gt; NodeEraMismatchError -&gt; TxCmdError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; CardanoEra era -&gt; NodeEraMismatchError
forall era nodeEra.
CardanoEra era -&gt; CardanoEra nodeEra -&gt; NodeEraMismatchError
</span><a href="Cardano.CLI.Type.Error.NodeEraMismatchError.html#NodeEraMismatchError"><span class="hs-identifier hs-var">NodeEraMismatchError</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531960"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531974"><span class="hs-identifier hs-var">nodeEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1033"></span><span>
</span><span id="line-1034"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532029"><span class="annot"><span class="annottext">certsToQuery :: [Certificate era]
</span><a href="#local-6989586621681532029"><span class="hs-identifier hs-var hs-var">certsToQuery</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era) -&gt; Certificate era)
-&gt; [Certificate (LedgerEra era)] -&gt; [Certificate era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; Certificate (LedgerEra era) -&gt; Certificate era
forall era.
Era era -&gt; Certificate (LedgerEra era) -&gt; Certificate era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.html#convertToOldApiCertificate"><span class="hs-identifier hs-var">Exp.convertToOldApiCertificate</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Certificate (LedgerEra era)] -&gt; [Certificate era])
-&gt; [Certificate (LedgerEra era)] -&gt; [Certificate era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; Certificate (LedgerEra era)
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
 -&gt; Certificate (LedgerEra era))
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [Certificate (LedgerEra era)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531938"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-1035"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681532031"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532031"><span class="hs-identifier hs-var">txEraUtxo</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532032"><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681532032"><span class="hs-identifier hs-var">pparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532033"><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681532033"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532034"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532034"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532035"><span class="annot"><span class="annottext">Set PoolId
</span><a href="#local-6989586621681532035"><span class="hs-identifier hs-var">stakePools</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532036"><span class="annot"><span class="annottext">Map StakeCredential Lovelace
</span><a href="#local-6989586621681532036"><span class="hs-identifier hs-var">stakeDelegDeposits</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532037"><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (CompactForm Lovelace)
</span><a href="#local-6989586621681532037"><span class="hs-identifier hs-var">drepDelegDeposits</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1036"></span><span>        </span><span class="annot"><span class="annottext">IO
  (Either
     AcquiringFailure
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
            Set PoolId, Map StakeCredential Lovelace,
            Map (Credential 'DRepRole) (CompactForm Lovelace),
            Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span>
</span><span id="line-1037"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
            Set PoolId, Map StakeCredential Lovelace,
            Map (Credential 'DRepRole) (CompactForm Lovelace),
            Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
forall a.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr BlockInMode ChainPoint QueryInMode () IO a
-&gt; IO (Either AcquiringFailure a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-var">executeLocalStateQueryExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681531966"><span class="hs-identifier hs-var">localNodeConnInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Target ChainPoint
forall point. Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-network-protocols-0.15.0.0-8a75db3c7530192ceb2b37ee5fd7844775e5fdcb8e5aebb7df567dc0ceaba20b/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-var">Consensus.VolatileTip</span></a></span><span> </span><span class="annot"><span class="annottext">(LocalStateQueryExpr
   BlockInMode
   ChainPoint
   QueryInMode
   ()
   IO
   (Either
      QueryConvenienceError
      (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
       Set PoolId, Map StakeCredential Lovelace,
       Map (Credential 'DRepRole) (CompactForm Lovelace),
       Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
 -&gt; IO
      (Either
         AcquiringFailure
         (Either
            QueryConvenienceError
            (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
             Set PoolId, Map StakeCredential Lovelace,
             Map (Credential 'DRepRole) (CompactForm Lovelace),
             Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))))
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
            Set PoolId, Map StakeCredential Lovelace,
            Map (Credential 'DRepRole) (CompactForm Lovelace),
            Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1038"></span><span>              </span><span class="annot"><span class="annottext">CardanoEra era
-&gt; [TxIn]
-&gt; [Certificate era]
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
forall era block point r.
CardanoEra era
-&gt; [TxIn]
-&gt; [Certificate era]
-&gt; LocalStateQueryExpr
     block
     point
     QueryInMode
     r
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#queryStateForBalancedTx"><span class="hs-identifier hs-var">queryStateForBalancedTx</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531974"><span class="hs-identifier hs-var">nodeEra</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531965"><span class="hs-identifier hs-var">allTxInputs</span></a></span><span> </span><span class="annot"><span class="annottext">[Certificate era]
</span><a href="#local-6989586621681532029"><span class="hs-identifier hs-var">certsToQuery</span></a></span><span>
</span><span id="line-1039"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1040"></span><span>          </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either
     AcquiringFailure
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either
         AcquiringFailure
         (Either
            QueryConvenienceError
            (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
             Set PoolId, Map StakeCredential Lovelace,
             Map (Credential 'DRepRole) (CompactForm Lovelace),
             Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
    -&gt; ExceptT
         TxCmdError
         IO
         (Either
            QueryConvenienceError
            (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
             Set PoolId, Map StakeCredential Lovelace,
             Map (Credential 'DRepRole) (CompactForm Lovelace),
             Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(AcquiringFailure
 -&gt; ExceptT
      TxCmdError
      IO
      (Either
         QueryConvenienceError
         (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
          Set PoolId, Map StakeCredential Lovelace,
          Map (Credential 'DRepRole) (CompactForm Lovelace),
          Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
            Set PoolId, Map StakeCredential Lovelace,
            Map (Credential 'DRepRole) (CompactForm Lovelace),
            Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError
 -&gt; ExceptT
      TxCmdError
      IO
      (Either
         QueryConvenienceError
         (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
          Set PoolId, Map StakeCredential Lovelace,
          Map (Credential 'DRepRole) (CompactForm Lovelace),
          Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))))
-&gt; (AcquiringFailure -&gt; TxCmdError)
-&gt; AcquiringFailure
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError -&gt; TxCmdError)
-&gt; (AcquiringFailure -&gt; QueryConvenienceError)
-&gt; AcquiringFailure
-&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#AcqFailure"><span class="hs-identifier hs-var">AcqFailure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1041"></span><span>          </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either
     QueryConvenienceError
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either
         QueryConvenienceError
         (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
          Set PoolId, Map StakeCredential Lovelace,
          Map (Credential 'DRepRole) (CompactForm Lovelace),
          Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
    -&gt; ExceptT
         TxCmdError
         IO
         (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
          Set PoolId, Map StakeCredential Lovelace,
          Map (Credential 'DRepRole) (CompactForm Lovelace),
          Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; ExceptT
     TxCmdError
     IO
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError
 -&gt; ExceptT
      TxCmdError
      IO
      (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
       Set PoolId, Map StakeCredential Lovelace,
       Map (Credential 'DRepRole) (CompactForm Lovelace),
       Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
         Set PoolId, Map StakeCredential Lovelace,
         Map (Credential 'DRepRole) (CompactForm Lovelace),
         Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; ExceptT
     TxCmdError
     IO
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError
-&gt; ExceptT
     TxCmdError
     IO
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError
 -&gt; ExceptT
      TxCmdError
      IO
      (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
       Set PoolId, Map StakeCredential Lovelace,
       Map (Credential 'DRepRole) (CompactForm Lovelace),
       Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)))
-&gt; (QueryConvenienceError -&gt; TxCmdError)
-&gt; QueryConvenienceError
-&gt; ExceptT
     TxCmdError
     IO
     (UTxO era, LedgerProtocolParameters era, EraHistory, SystemStart,
      Set PoolId, Map StakeCredential Lovelace,
      Map (Credential 'DRepRole) (CompactForm Lovelace),
      Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1042"></span><span>
</span><span id="line-1043"></span><span>      </span><span id="local-6989586621681532038"><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681532038"><span class="hs-identifier hs-var">txBodyContent</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1044"></span><span>        </span><span class="annot"><span class="annottext">Either TxCmdError (TxBodyContent BuildTx era)
-&gt; ExceptT TxCmdError IO (TxBodyContent BuildTx era)
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistEither</span></span><span> </span><span class="annot"><span class="annottext">(Either TxCmdError (TxBodyContent BuildTx era)
 -&gt; ExceptT TxCmdError IO (TxBodyContent BuildTx era))
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
-&gt; ExceptT TxCmdError IO (TxBodyContent BuildTx era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1045"></span><span>          </span><span class="annot"><span class="annottext">Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
forall era.
IsEra era =&gt;
Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut CtxTx era)
-&gt; Maybe Lovelace
-&gt; [TxOut CtxTx era]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; [(VotingProcedures era, Maybe (VoteScriptWitness era))]
-&gt; [(Proposal era, Maybe (ProposalScriptWitness era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent BuildTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-var">constructTxBodyContent</span></a></span><span>
</span><span id="line-1046"></span><span>            </span><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681531927"><span class="hs-identifier hs-var">mScriptValidity</span></a></span><span>
</span><span id="line-1047"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PParams (LedgerEra era) -&gt; Maybe (PParams (LedgerEra era))
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PParams (LedgerEra era) -&gt; Maybe (PParams (LedgerEra era)))
-&gt; PParams (LedgerEra era) -&gt; Maybe (PParams (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era)
forall era.
Era era
-&gt; PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-var">fromShelleyLedgerPParamsShim</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">(PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era))
-&gt; PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era -&gt; PParams (ShelleyLedgerEra era)
forall era.
LedgerProtocolParameters era -&gt; PParams (ShelleyLedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#unLedgerProtocolParameters"><span class="hs-identifier hs-var">unLedgerProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681532032"><span class="hs-identifier hs-var">pparams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1048"></span><span>            </span><span class="annot"><span class="annottext">[(TxIn, Maybe (SpendScriptWitness era))]
</span><a href="#local-6989586621681531928"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-1049"></span><span>            </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531929"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-1050"></span><span>            </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531930"><span class="hs-identifier hs-var">txinsc</span></a></span><span>
</span><span id="line-1051"></span><span>            </span><span class="annot"><span class="annottext">Maybe (TxOut CtxTx era)
</span><a href="#local-6989586621681531931"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span>
</span><span id="line-1052"></span><span>            </span><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681531932"><span class="hs-identifier hs-var">mTotCollateral</span></a></span><span>
</span><span id="line-1053"></span><span>            </span><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681531933"><span class="hs-identifier hs-var">txouts</span></a></span><span>
</span><span id="line-1054"></span><span>            </span><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681531936"><span class="hs-identifier hs-var">mLowerBound</span></a></span><span>
</span><span id="line-1055"></span><span>            </span><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681531937"><span class="hs-identifier hs-var">mUpperBound</span></a></span><span>
</span><span id="line-1056"></span><span>            </span><span class="annot"><span class="annottext">(MultiAsset, [MintScriptWitnessWithPolicyId era])
</span><a href="#local-6989586621681531935"><span class="hs-identifier hs-var">mintValueWithScriptWits</span></a></span><span>
</span><span id="line-1057"></span><span>            </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681531938"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-1058"></span><span>            </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, Maybe (WithdrawalScriptWitness era))]
</span><a href="#local-6989586621681531939"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-1059"></span><span>            </span><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681531940"><span class="hs-identifier hs-var">reqSigners</span></a></span><span>
</span><span id="line-1060"></span><span>            </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-number">0</span></span><span>
</span><span id="line-1061"></span><span>            </span><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681531941"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span>
</span><span id="line-1062"></span><span>            </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681531942"><span class="hs-identifier hs-var">txMetadata</span></a></span><span>
</span><span id="line-1063"></span><span>            </span><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681531943"><span class="hs-identifier hs-var">txUpdateProposal</span></a></span><span>
</span><span id="line-1064"></span><span>            </span><span class="annot"><span class="annottext">[(VotingProcedures era, Maybe (VoteScriptWitness era))]
</span><a href="#local-6989586621681531945"><span class="hs-identifier hs-var">votingProcedures</span></a></span><span>
</span><span id="line-1065"></span><span>            </span><span class="annot"><span class="annottext">[(Proposal era, Maybe (ProposalScriptWitness era))]
</span><a href="#local-6989586621681531946"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-1066"></span><span>            </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681531947"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-1067"></span><span>
</span><span id="line-1068"></span><span>      </span><span class="annot"><span class="annottext">(TxInsExistError -&gt; TxCmdError)
-&gt; ExceptT TxInsExistError IO () -&gt; ExceptT TxCmdError IO ()
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">TxInsExistError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxInsDoNotExist"><span class="hs-identifier hs-var">TxCmdTxInsDoNotExist</span></a></span><span>
</span><span id="line-1069"></span><span>        </span><span class="annot"><span class="annottext">(ExceptT TxInsExistError IO () -&gt; ExceptT TxCmdError IO ())
-&gt; (Either TxInsExistError () -&gt; ExceptT TxInsExistError IO ())
-&gt; Either TxInsExistError ()
-&gt; ExceptT TxCmdError IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either TxInsExistError () -&gt; ExceptT TxInsExistError IO ()
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistEither</span></span><span>
</span><span id="line-1070"></span><span>        </span><span class="annot"><span class="annottext">(Either TxInsExistError () -&gt; ExceptT TxCmdError IO ())
-&gt; Either TxInsExistError () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; UTxO era -&gt; Either TxInsExistError ()
forall era. [TxIn] -&gt; UTxO era -&gt; Either TxInsExistError ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Convenience.html#txInsExistInUTxO"><span class="hs-identifier hs-var">txInsExistInUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531965"><span class="hs-identifier hs-var">allTxInputs</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532031"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-1071"></span><span>      </span><span class="annot"><span class="annottext">(ScriptLockedTxInsError -&gt; TxCmdError)
-&gt; ExceptT ScriptLockedTxInsError IO () -&gt; ExceptT TxCmdError IO ()
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">ScriptLockedTxInsError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryNotScriptLocked"><span class="hs-identifier hs-var">TxCmdQueryNotScriptLocked</span></a></span><span>
</span><span id="line-1072"></span><span>        </span><span class="annot"><span class="annottext">(ExceptT ScriptLockedTxInsError IO () -&gt; ExceptT TxCmdError IO ())
-&gt; (Either ScriptLockedTxInsError ()
    -&gt; ExceptT ScriptLockedTxInsError IO ())
-&gt; Either ScriptLockedTxInsError ()
-&gt; ExceptT TxCmdError IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either ScriptLockedTxInsError ()
-&gt; ExceptT ScriptLockedTxInsError IO ()
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistEither</span></span><span>
</span><span id="line-1073"></span><span>        </span><span class="annot"><span class="annottext">(Either ScriptLockedTxInsError () -&gt; ExceptT TxCmdError IO ())
-&gt; Either ScriptLockedTxInsError () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; UTxO era -&gt; Either ScriptLockedTxInsError ()
forall era. [TxIn] -&gt; UTxO era -&gt; Either ScriptLockedTxInsError ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Convenience.html#notScriptLockedTxIns"><span class="hs-identifier hs-var">notScriptLockedTxIns</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681531930"><span class="hs-identifier hs-var">txinsc</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532031"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-1074"></span><span>
</span><span id="line-1075"></span><span>      </span><span id="local-6989586621681532045"><span class="annot"><span class="annottext">AddressInEra era
</span><a href="#local-6989586621681532045"><span class="hs-identifier hs-var">cAddr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1076"></span><span>        </span><span class="annot"><span class="annottext">Either FilePath (AddressInEra era)
-&gt; ExceptT TxCmdError IO (Either FilePath (AddressInEra era))
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; AddressAny -&gt; Either FilePath (AddressInEra era)
forall era.
CardanoEra era -&gt; AddressAny -&gt; Either FilePath (AddressInEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#anyAddressInEra"><span class="hs-identifier hs-var">anyAddressInEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681531960"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">AddressAny
</span><a href="#local-6989586621681531934"><span class="hs-identifier hs-var">changeAddr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1077"></span><span>          </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO (Either FilePath (AddressInEra era))
-&gt; (ExceptT TxCmdError IO (Either FilePath (AddressInEra era))
    -&gt; ExceptT TxCmdError IO (AddressInEra era))
-&gt; ExceptT TxCmdError IO (AddressInEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; ExceptT TxCmdError IO (AddressInEra era))
-&gt; ExceptT TxCmdError IO (Either FilePath (AddressInEra era))
-&gt; ExceptT TxCmdError IO (AddressInEra era)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; ExceptT TxCmdError IO (AddressInEra era)
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; FilePath -&gt; ExceptT TxCmdError IO (AddressInEra era))
-&gt; FilePath -&gt; FilePath -&gt; ExceptT TxCmdError IO (AddressInEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;runTxBuild: Byron address used: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AddressAny -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">AddressAny
</span><a href="#local-6989586621681531934"><span class="hs-identifier hs-var">changeAddr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- should this throw instead?</span><span>
</span><span id="line-1078"></span><span>      </span><span id="local-6989586621681532049"><span class="annot"><span class="annottext">balancedTxBody :: BalancedTxBody era
</span><a href="#local-6989586621681532049"><span class="hs-identifier hs-var">balancedTxBody</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#BalancedTxBody"><span class="hs-identifier hs-type">BalancedTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TxOut CtxTx era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681532050"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681532050"><span class="hs-identifier hs-var">fee</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1079"></span><span>        </span><span class="annot"><span class="annottext">(TxBodyErrorAutoBalance era -&gt; TxCmdError)
-&gt; ExceptT (TxBodyErrorAutoBalance era) IO (BalancedTxBody era)
-&gt; ExceptT TxCmdError IO (BalancedTxBody era)
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyTxBodyErrorAutoBalance -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdBalanceTxBody"><span class="hs-identifier hs-var">TxCmdBalanceTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">(AnyTxBodyErrorAutoBalance -&gt; TxCmdError)
-&gt; (TxBodyErrorAutoBalance era -&gt; AnyTxBodyErrorAutoBalance)
-&gt; TxBodyErrorAutoBalance era
-&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyErrorAutoBalance era -&gt; AnyTxBodyErrorAutoBalance
forall era. TxBodyErrorAutoBalance era -&gt; AnyTxBodyErrorAutoBalance
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#AnyTxBodyErrorAutoBalance"><span class="hs-identifier hs-var">AnyTxBodyErrorAutoBalance</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1080"></span><span>          </span><span class="annot"><span class="annottext">(ExceptT (TxBodyErrorAutoBalance era) IO (BalancedTxBody era)
 -&gt; ExceptT TxCmdError IO (BalancedTxBody era))
-&gt; (Either (TxBodyErrorAutoBalance era) (BalancedTxBody era)
    -&gt; ExceptT (TxBodyErrorAutoBalance era) IO (BalancedTxBody era))
-&gt; Either (TxBodyErrorAutoBalance era) (BalancedTxBody era)
-&gt; ExceptT TxCmdError IO (BalancedTxBody era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either (TxBodyErrorAutoBalance era) (BalancedTxBody era)
-&gt; ExceptT (TxBodyErrorAutoBalance era) IO (BalancedTxBody era)
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistEither</span></span><span>
</span><span id="line-1081"></span><span>          </span><span class="annot"><span class="annottext">(Either (TxBodyErrorAutoBalance era) (BalancedTxBody era)
 -&gt; ExceptT TxCmdError IO (BalancedTxBody era))
-&gt; Either (TxBodyErrorAutoBalance era) (BalancedTxBody era)
-&gt; ExceptT TxCmdError IO (BalancedTxBody era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; SystemStart
-&gt; LedgerEpochInfo
-&gt; LedgerProtocolParameters era
-&gt; Set PoolId
-&gt; Map StakeCredential Lovelace
-&gt; Map (Credential 'DRepRole) Lovelace
-&gt; UTxO era
-&gt; TxBodyContent BuildTx era
-&gt; AddressInEra era
-&gt; Maybe Word
-&gt; Either (TxBodyErrorAutoBalance era) (BalancedTxBody era)
forall era.
HasCallStack =&gt;
ShelleyBasedEra era
-&gt; SystemStart
-&gt; LedgerEpochInfo
-&gt; LedgerProtocolParameters era
-&gt; Set PoolId
-&gt; Map StakeCredential Lovelace
-&gt; Map (Credential 'DRepRole) Lovelace
-&gt; UTxO era
-&gt; TxBodyContent BuildTx era
-&gt; AddressInEra era
-&gt; Maybe Word
-&gt; Either (TxBodyErrorAutoBalance era) (BalancedTxBody era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#makeTransactionBodyAutoBalance"><span class="hs-identifier hs-var">makeTransactionBodyAutoBalance</span></a></span><span>
</span><span id="line-1082"></span><span>            </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681531948"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-1083"></span><span>            </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532034"><span class="hs-identifier hs-var">systemStart</span></a></span><span>
</span><span id="line-1084"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EraHistory -&gt; LedgerEpochInfo
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerEpochInfo"><span class="hs-identifier hs-var">toLedgerEpochInfo</span></a></span><span> </span><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681532033"><span class="hs-identifier hs-var">eraHistory</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1085"></span><span>            </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
LedgerProtocolParameters era
</span><a href="#local-6989586621681532032"><span class="hs-identifier hs-var">pparams</span></a></span><span>
</span><span id="line-1086"></span><span>            </span><span class="annot"><span class="annottext">Set PoolId
</span><a href="#local-6989586621681532035"><span class="hs-identifier hs-var">stakePools</span></a></span><span>
</span><span id="line-1087"></span><span>            </span><span class="annot"><span class="annottext">Map StakeCredential Lovelace
</span><a href="#local-6989586621681532036"><span class="hs-identifier hs-var">stakeDelegDeposits</span></a></span><span>
</span><span id="line-1088"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CompactForm Lovelace -&gt; Lovelace)
-&gt; Map (Credential 'DRepRole) (CompactForm Lovelace)
-&gt; Map (Credential 'DRepRole) Lovelace
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Map.Strict.Internal.html#map"><span class="hs-identifier hs-var">Map.map</span></a></span><span> </span><span class="annot"><span class="annottext">CompactForm Lovelace -&gt; Lovelace
forall a. Compactible a =&gt; CompactForm a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Compactible.html#fromCompact"><span class="hs-identifier hs-var">L.fromCompact</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Credential 'DRepRole) (CompactForm Lovelace)
</span><a href="#local-6989586621681532037"><span class="hs-identifier hs-var">drepDelegDeposits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1089"></span><span>            </span><span class="annot"><span class="annottext">UTxO era
UTxO era
</span><a href="#local-6989586621681532031"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-1090"></span><span>            </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681532038"><span class="hs-identifier hs-var">txBodyContent</span></a></span><span>
</span><span id="line-1091"></span><span>            </span><span class="annot"><span class="annottext">AddressInEra era
</span><a href="#local-6989586621681532045"><span class="hs-identifier hs-var">cAddr</span></a></span><span>
</span><span id="line-1092"></span><span>            </span><span class="annot"><span class="annottext">Maybe Word
</span><a href="#local-6989586621681531944"><span class="hs-identifier hs-var">mOverrideWits</span></a></span><span>
</span><span id="line-1093"></span><span>
</span><span id="line-1094"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT TxCmdError IO ()
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT TxCmdError IO ())
-&gt; (Doc AnsiStyle -&gt; IO ())
-&gt; Doc AnsiStyle
-&gt; ExceptT TxCmdError IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; IO ())
-&gt; (Doc AnsiStyle -&gt; FilePath) -&gt; Doc AnsiStyle -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Pretty.html#docToString"><span class="hs-identifier hs-var">docToString</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc AnsiStyle -&gt; ExceptT TxCmdError IO ())
-&gt; Doc AnsiStyle -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle
</span><span class="hs-string">&quot;Estimated transaction fee:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; Doc AnsiStyle -&gt; Doc AnsiStyle
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Doc AnsiStyle
forall ann. Lovelace -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681532050"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-1095"></span><span>
</span><span id="line-1096"></span><span>      </span><span class="annot"><span class="annottext">BalancedTxBody era -&gt; ExceptT TxCmdError IO (BalancedTxBody era)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">BalancedTxBody era
</span><a href="#local-6989586621681532049"><span class="hs-identifier hs-var">balancedTxBody</span></a></span><span>
</span><span id="line-1097"></span><span>
</span><span id="line-1098"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1099"></span><span class="hs-comment">-- Transaction body validation and conversion</span><span>
</span><span id="line-1100"></span><span class="hs-comment">--</span><span>
</span><span id="line-1101"></span><span>
</span><span id="line-1102"></span><span id="local-6989586621681530071"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxIns"><span class="hs-identifier hs-type">validateTxIns</span></a></span><span>
</span><span id="line-1103"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#SpendScriptWitness"><span class="hs-identifier hs-type">SpendScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530071"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1104"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-type">BuildTxWith</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#Witness"><span class="hs-identifier hs-type">Witness</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#WitCtxTxIn"><span class="hs-identifier hs-type">WitCtxTxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530071"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-1105"></span><span id="validateTxIns"><span class="annot"><span class="annottext">validateTxIns :: forall era.
[(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [(TxIn, BuildTxWith BuildTx (Witness WitCtxTxIn era))]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxIns"><span class="hs-identifier hs-var hs-var">validateTxIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((TxIn, Maybe (SpendScriptWitness era))
 -&gt; (TxIn, BuildTxWith BuildTx (Witness WitCtxTxIn era)))
-&gt; [(TxIn, Maybe (SpendScriptWitness era))]
-&gt; [(TxIn, BuildTxWith BuildTx (Witness WitCtxTxIn era))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn, Maybe (SpendScriptWitness era))
-&gt; (TxIn, BuildTxWith BuildTx (Witness WitCtxTxIn era))
forall era.
(TxIn, Maybe (SpendScriptWitness era))
-&gt; (TxIn, BuildTxWith BuildTx (Witness WitCtxTxIn era))
</span><a href="#local-6989586621681532060"><span class="hs-identifier hs-var">convertTxIn</span></a></span><span>
</span><span id="line-1106"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1107"></span><span>  </span><span id="local-6989586621681530179"><span class="annot"><a href="#local-6989586621681532060"><span class="hs-identifier hs-type">convertTxIn</span></a></span><span>
</span><span id="line-1108"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#SpendScriptWitness"><span class="hs-identifier hs-type">SpendScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530179"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1109"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-type">BuildTxWith</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#Witness"><span class="hs-identifier hs-type">Witness</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#WitCtxTxIn"><span class="hs-identifier hs-type">WitCtxTxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530179"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-1110"></span><span>  </span><span id="local-6989586621681532060"><span class="annot"><span class="annottext">convertTxIn :: forall era.
(TxIn, Maybe (SpendScriptWitness era))
-&gt; (TxIn, BuildTxWith BuildTx (Witness WitCtxTxIn era))
</span><a href="#local-6989586621681532060"><span class="hs-identifier hs-var hs-var">convertTxIn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681532061"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681532061"><span class="hs-identifier hs-var">txin</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532062"><span class="annot"><span class="annottext">Maybe (SpendScriptWitness era)
</span><a href="#local-6989586621681532062"><span class="hs-identifier hs-var">mScriptWitness</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1111"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (SpendScriptWitness era)
</span><a href="#local-6989586621681532062"><span class="hs-identifier hs-var">mScriptWitness</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1112"></span><span>      </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681532063"><span class="annot"><span class="annottext">SpendScriptWitness era
</span><a href="#local-6989586621681532063"><span class="hs-identifier hs-var">sWit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1113"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681532061"><span class="hs-identifier hs-var">txin</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Witness WitCtxTxIn era
-&gt; BuildTxWith BuildTx (Witness WitCtxTxIn era)
forall a. a -&gt; BuildTxWith BuildTx a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-var">BuildTxWith</span></a></span><span> </span><span class="annot"><span class="annottext">(Witness WitCtxTxIn era
 -&gt; BuildTxWith BuildTx (Witness WitCtxTxIn era))
-&gt; Witness WitCtxTxIn era
-&gt; BuildTxWith BuildTx (Witness WitCtxTxIn era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptWitnessInCtx WitCtxTxIn
-&gt; ScriptWitness WitCtxTxIn era -&gt; Witness WitCtxTxIn era
forall witctx era.
ScriptWitnessInCtx witctx
-&gt; ScriptWitness witctx era -&gt; Witness witctx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitness"><span class="hs-identifier hs-var">ScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptWitnessInCtx WitCtxTxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitnessForSpending"><span class="hs-identifier hs-var">ScriptWitnessForSpending</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptWitness WitCtxTxIn era -&gt; Witness WitCtxTxIn era)
-&gt; ScriptWitness WitCtxTxIn era -&gt; Witness WitCtxTxIn era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era
forall era. SpendScriptWitness era -&gt; ScriptWitness WitCtxTxIn era
</span><a href="Cardano.CLI.EraBased.Script.Spend.Type.html#sswScriptWitness"><span class="hs-identifier hs-var">sswScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">SpendScriptWitness era
</span><a href="#local-6989586621681532063"><span class="hs-identifier hs-var">sWit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1114"></span><span>      </span><span class="annot"><span class="annottext">Maybe (SpendScriptWitness era)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1115"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681532061"><span class="hs-identifier hs-var">txin</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Witness WitCtxTxIn era
-&gt; BuildTxWith BuildTx (Witness WitCtxTxIn era)
forall a. a -&gt; BuildTxWith BuildTx a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-var">BuildTxWith</span></a></span><span> </span><span class="annot"><span class="annottext">(Witness WitCtxTxIn era
 -&gt; BuildTxWith BuildTx (Witness WitCtxTxIn era))
-&gt; Witness WitCtxTxIn era
-&gt; BuildTxWith BuildTx (Witness WitCtxTxIn era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxTxIn -&gt; Witness WitCtxTxIn era
forall witctx era. KeyWitnessInCtx witctx -&gt; Witness witctx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#KeyWitness"><span class="hs-identifier hs-var">KeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxTxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#KeyWitnessForSpending"><span class="hs-identifier hs-var">KeyWitnessForSpending</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1116"></span><span>
</span><span id="line-1117"></span><span id="local-6989586621681530014"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxInsCollateral"><span class="hs-identifier hs-type">validateTxInsCollateral</span></a></span><span>
</span><span id="line-1118"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530014"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1119"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1120"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsCollateral"><span class="hs-identifier hs-type">TxInsCollateral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530014"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-1121"></span><span id="validateTxInsCollateral"><span class="annot"><span class="annottext">validateTxInsCollateral :: forall era. IsEra era =&gt; [TxIn] -&gt; TxInsCollateral era
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxInsCollateral"><span class="hs-identifier hs-var hs-var">validateTxInsCollateral</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxInsCollateral era
forall era. TxInsCollateral era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsCollateralNone"><span class="hs-identifier hs-var">TxInsCollateralNone</span></a></span><span>
</span><span id="line-1122"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxInsCollateral"><span class="hs-identifier hs-var">validateTxInsCollateral</span></a></span><span> </span><span id="local-6989586621681532071"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681532071"><span class="hs-identifier hs-var">txins</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1123"></span><span>  </span><span class="annot"><span class="annottext">AlonzoEraOnwards era -&gt; [TxIn] -&gt; TxInsCollateral era
forall era. AlonzoEraOnwards era -&gt; [TxIn] -&gt; TxInsCollateral era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsCollateral"><span class="hs-identifier hs-var">TxInsCollateral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; AlonzoEraOnwards era
forall era. Era era -&gt; AlonzoEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681532071"><span class="hs-identifier hs-var">txins</span></a></span><span>
</span><span id="line-1124"></span><span>
</span><span id="line-1125"></span><span id="local-6989586621681530016"><span id="local-6989586621681530017"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxInsReference"><span class="hs-identifier hs-type">validateTxInsReference</span></a></span><span>
</span><span id="line-1126"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-type">BuildTxWith</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530016"><span class="hs-identifier hs-type">build</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530017"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1127"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1128"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#HashableScriptData"><span class="hs-identifier hs-type">HashableScriptData</span></a></span><span>
</span><span id="line-1129"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsReference"><span class="hs-identifier hs-type">TxInsReference</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530016"><span class="hs-identifier hs-type">build</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530017"><span class="hs-identifier hs-type">era</span></a></span></span></span><span>
</span><span id="line-1130"></span><span id="validateTxInsReference"><span class="annot"><span class="annottext">validateTxInsReference :: forall build era.
(Applicative (BuildTxWith build), IsEra era) =&gt;
[TxIn] -&gt; Set ScriptRedeemer -&gt; TxInsReference build era
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxInsReference"><span class="hs-identifier hs-var hs-var">validateTxInsReference</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Set ScriptRedeemer
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxInsReference build era
forall build era. TxInsReference build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsReferenceNone"><span class="hs-identifier hs-var">TxInsReferenceNone</span></a></span><span>
</span><span id="line-1131"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#validateTxInsReference"><span class="hs-identifier hs-var">validateTxInsReference</span></a></span><span> </span><span id="local-6989586621681532080"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681532080"><span class="hs-identifier hs-var">allRefIns</span></a></span></span><span> </span><span id="local-6989586621681532081"><span class="annot"><span class="annottext">Set ScriptRedeemer
</span><a href="#local-6989586621681532081"><span class="hs-identifier hs-var">datumSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BabbageEraOnwards era
-&gt; [TxIn] -&gt; TxInsReferenceDatums build -&gt; TxInsReference build era
forall era build.
BabbageEraOnwards era
-&gt; [TxIn] -&gt; TxInsReferenceDatums build -&gt; TxInsReference build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsReference"><span class="hs-identifier hs-var">TxInsReference</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; BabbageEraOnwards era
forall era. Era era -&gt; BabbageEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681532080"><span class="hs-identifier hs-var">allRefIns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set ScriptRedeemer -&gt; TxInsReferenceDatums build
forall a. a -&gt; BuildTxWith build a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Set ScriptRedeemer
</span><a href="#local-6989586621681532081"><span class="hs-identifier hs-var">datumSet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1132"></span><span>
</span><span id="line-1133"></span><span id="local-6989586621681529756"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-type">getAllReferenceInputs</span></a></span><span>
</span><span id="line-1134"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitness"><span class="hs-identifier hs-type">ScriptWitness</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#WitCtxTxIn"><span class="hs-identifier hs-type">WitCtxTxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529756"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1135"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitness"><span class="hs-identifier hs-type">ScriptWitness</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#WitCtxMint"><span class="hs-identifier hs-type">WitCtxMint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529756"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1136"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529756"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1137"></span><span>  </span><span class="hs-comment">-- \^ Certificate witnesses</span><span>
</span><span id="line-1138"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Type.html#WithdrawalScriptWitness"><span class="hs-identifier hs-type">WithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529756"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1139"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Vote.Type.html#VoteScriptWitness"><span class="hs-identifier hs-type">VoteScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529756"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1140"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Type.html#ProposalScriptWitness"><span class="hs-identifier hs-type">ProposalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529756"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1141"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1142"></span><span>  </span><span class="hs-comment">-- \^ Read only reference inputs</span><span>
</span><span id="line-1143"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-1144"></span><span id="getAllReferenceInputs"><span class="annot"><span class="annottext">getAllReferenceInputs :: forall era.
[ScriptWitness WitCtxTxIn era]
-&gt; [ScriptWitness WitCtxMint era]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [WithdrawalScriptWitness era]
-&gt; [VoteScriptWitness era]
-&gt; [ProposalScriptWitness era]
-&gt; [TxIn]
-&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-var hs-var">getAllReferenceInputs</span></a></span></span><span>
</span><span id="line-1145"></span><span>  </span><span id="local-6989586621681532084"><span class="annot"><span class="annottext">[ScriptWitness WitCtxTxIn era]
</span><a href="#local-6989586621681532084"><span class="hs-identifier hs-var">spendingWitnesses</span></a></span></span><span>
</span><span id="line-1146"></span><span>  </span><span id="local-6989586621681532085"><span class="annot"><span class="annottext">[ScriptWitness WitCtxMint era]
</span><a href="#local-6989586621681532085"><span class="hs-identifier hs-var">mintWitnesses</span></a></span></span><span>
</span><span id="line-1147"></span><span>  </span><span id="local-6989586621681532086"><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681532086"><span class="hs-identifier hs-var">certScriptWitnesses</span></a></span></span><span>
</span><span id="line-1148"></span><span>  </span><span id="local-6989586621681532087"><span class="annot"><span class="annottext">[WithdrawalScriptWitness era]
</span><a href="#local-6989586621681532087"><span class="hs-identifier hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-1149"></span><span>  </span><span id="local-6989586621681532088"><span class="annot"><span class="annottext">[VoteScriptWitness era]
</span><a href="#local-6989586621681532088"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-1150"></span><span>  </span><span id="local-6989586621681532089"><span class="annot"><span class="annottext">[ProposalScriptWitness era]
</span><a href="#local-6989586621681532089"><span class="hs-identifier hs-var">propProceduresAnMaybeScriptWits</span></a></span></span><span>
</span><span id="line-1151"></span><span>  </span><span id="local-6989586621681532090"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681532090"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1152"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532091"><span class="annot"><span class="annottext">txinsWitByRefInputs :: [Maybe TxIn]
</span><a href="#local-6989586621681532091"><span class="hs-identifier hs-var hs-var">txinsWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ScriptWitness WitCtxTxIn era -&gt; Maybe TxIn)
-&gt; [ScriptWitness WitCtxTxIn era] -&gt; [Maybe TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptWitness WitCtxTxIn era -&gt; Maybe TxIn
forall witctx era. ScriptWitness witctx era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#getScriptWitnessReferenceInput"><span class="hs-identifier hs-var">getScriptWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptWitness WitCtxTxIn era]
</span><a href="#local-6989586621681532084"><span class="hs-identifier hs-var">spendingWitnesses</span></a></span><span>
</span><span id="line-1153"></span><span>        </span><span id="local-6989586621681532093"><span class="annot"><span class="annottext">mintingRefInputs :: [Maybe TxIn]
</span><a href="#local-6989586621681532093"><span class="hs-identifier hs-var hs-var">mintingRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ScriptWitness WitCtxMint era -&gt; Maybe TxIn)
-&gt; [ScriptWitness WitCtxMint era] -&gt; [Maybe TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptWitness WitCtxMint era -&gt; Maybe TxIn
forall witctx era. ScriptWitness witctx era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#getScriptWitnessReferenceInput"><span class="hs-identifier hs-var">getScriptWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptWitness WitCtxMint era]
</span><a href="#local-6989586621681532085"><span class="hs-identifier hs-var">mintWitnesses</span></a></span><span>
</span><span id="line-1154"></span><span>        </span><span id="local-6989586621681532094"><span class="annot"><span class="annottext">certsWitByRefInputs :: [Maybe TxIn]
</span><a href="#local-6989586621681532094"><span class="hs-identifier hs-var hs-var">certsWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnyWitness (LedgerEra era) -&gt; Maybe TxIn)
-&gt; [AnyWitness (LedgerEra era)] -&gt; [Maybe TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era) -&gt; Maybe TxIn
forall era. AnyWitness era -&gt; Maybe TxIn
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var">getAnyWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681532086"><span class="hs-identifier hs-var">certScriptWitnesses</span></a></span><span>
</span><span id="line-1155"></span><span>        </span><span id="local-6989586621681532096"><span class="annot"><span class="annottext">withdrawalsWitByRefInputs :: [Maybe TxIn]
</span><a href="#local-6989586621681532096"><span class="hs-identifier hs-var hs-var">withdrawalsWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WithdrawalScriptWitness era -&gt; Maybe TxIn)
-&gt; [WithdrawalScriptWitness era] -&gt; [Maybe TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptWitness WitCtxStake era -&gt; Maybe TxIn
forall witctx era. ScriptWitness witctx era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#getScriptWitnessReferenceInput"><span class="hs-identifier hs-var">getScriptWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptWitness WitCtxStake era -&gt; Maybe TxIn)
-&gt; (WithdrawalScriptWitness era -&gt; ScriptWitness WitCtxStake era)
-&gt; WithdrawalScriptWitness era
-&gt; Maybe TxIn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">WithdrawalScriptWitness era -&gt; ScriptWitness WitCtxStake era
forall era.
WithdrawalScriptWitness era -&gt; ScriptWitness WitCtxStake era
</span><a href="Cardano.CLI.EraBased.Script.Withdrawal.Type.html#wswScriptWitness"><span class="hs-identifier hs-var">wswScriptWitness</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[WithdrawalScriptWitness era]
</span><a href="#local-6989586621681532087"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-1156"></span><span>        </span><span id="local-6989586621681532097"><span class="annot"><span class="annottext">votesWitByRefInputs :: [Maybe TxIn]
</span><a href="#local-6989586621681532097"><span class="hs-identifier hs-var hs-var">votesWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(VoteScriptWitness era -&gt; Maybe TxIn)
-&gt; [VoteScriptWitness era] -&gt; [Maybe TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptWitness WitCtxStake era -&gt; Maybe TxIn
forall witctx era. ScriptWitness witctx era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#getScriptWitnessReferenceInput"><span class="hs-identifier hs-var">getScriptWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptWitness WitCtxStake era -&gt; Maybe TxIn)
-&gt; (VoteScriptWitness era -&gt; ScriptWitness WitCtxStake era)
-&gt; VoteScriptWitness era
-&gt; Maybe TxIn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">VoteScriptWitness era -&gt; ScriptWitness WitCtxStake era
forall era. VoteScriptWitness era -&gt; ScriptWitness WitCtxStake era
</span><a href="Cardano.CLI.EraBased.Script.Vote.Type.html#vswScriptWitness"><span class="hs-identifier hs-var">vswScriptWitness</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[VoteScriptWitness era]
</span><a href="#local-6989586621681532088"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span><span>
</span><span id="line-1157"></span><span>        </span><span id="local-6989586621681532098"><span class="annot"><span class="annottext">propsWitByRefInputs :: [Maybe TxIn]
</span><a href="#local-6989586621681532098"><span class="hs-identifier hs-var hs-var">propsWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ProposalScriptWitness era -&gt; Maybe TxIn)
-&gt; [ProposalScriptWitness era] -&gt; [Maybe TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptWitness WitCtxStake era -&gt; Maybe TxIn
forall witctx era. ScriptWitness witctx era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#getScriptWitnessReferenceInput"><span class="hs-identifier hs-var">getScriptWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptWitness WitCtxStake era -&gt; Maybe TxIn)
-&gt; (ProposalScriptWitness era -&gt; ScriptWitness WitCtxStake era)
-&gt; ProposalScriptWitness era
-&gt; Maybe TxIn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ProposalScriptWitness era -&gt; ScriptWitness WitCtxStake era
forall era.
ProposalScriptWitness era -&gt; ScriptWitness WitCtxStake era
</span><a href="Cardano.CLI.EraBased.Script.Proposal.Type.html#pswScriptWitness"><span class="hs-identifier hs-var">pswScriptWitness</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ProposalScriptWitness era]
</span><a href="#local-6989586621681532089"><span class="hs-identifier hs-var">propProceduresAnMaybeScriptWits</span></a></span><span>
</span><span id="line-1158"></span><span>
</span><span id="line-1159"></span><span>    </span><span class="annot"><span class="annottext">([Maybe TxIn] -&gt; [TxIn]) -&gt; [[Maybe TxIn]] -&gt; [TxIn]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span>
</span><span id="line-1160"></span><span>      </span><span class="annot"><span class="annottext">[Maybe TxIn] -&gt; [TxIn]
forall a. [Maybe a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-1161"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Maybe TxIn]
</span><a href="#local-6989586621681532091"><span class="hs-identifier hs-var">txinsWitByRefInputs</span></a></span><span>
</span><span id="line-1162"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Maybe TxIn]
</span><a href="#local-6989586621681532093"><span class="hs-identifier hs-var">mintingRefInputs</span></a></span><span>
</span><span id="line-1163"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Maybe TxIn]
</span><a href="#local-6989586621681532094"><span class="hs-identifier hs-var">certsWitByRefInputs</span></a></span><span>
</span><span id="line-1164"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Maybe TxIn]
</span><a href="#local-6989586621681532096"><span class="hs-identifier hs-var">withdrawalsWitByRefInputs</span></a></span><span>
</span><span id="line-1165"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Maybe TxIn]
</span><a href="#local-6989586621681532097"><span class="hs-identifier hs-var">votesWitByRefInputs</span></a></span><span>
</span><span id="line-1166"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Maybe TxIn]
</span><a href="#local-6989586621681532098"><span class="hs-identifier hs-var">propsWitByRefInputs</span></a></span><span>
</span><span id="line-1167"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(TxIn -&gt; Maybe TxIn) -&gt; [TxIn] -&gt; [Maybe TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; Maybe TxIn
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681532090"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-1168"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-1169"></span><span>
</span><span id="line-1170"></span><span id="local-6989586621681530191"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-type">getAnyWitnessReferenceInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530191"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span></span><span>
</span><span id="line-1171"></span><span id="getAnyWitnessReferenceInput"><span class="annot"><span class="annottext">getAnyWitnessReferenceInput :: forall era. AnyWitness era -&gt; Maybe TxIn
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var hs-var">getAnyWitnessReferenceInput</span></a></span></span><span> </span><span class="annot"><span class="annottext">AnyWitness era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyKeyWitnessPlaceholder"><span class="hs-identifier hs-var">Exp.AnyKeyWitnessPlaceholder</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TxIn
forall a. Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1172"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var">getAnyWitnessReferenceInput</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnySimpleScriptWitness"><span class="hs-identifier hs-type">Exp.AnySimpleScriptWitness</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TxIn
forall a. Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1173"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var">getAnyWitnessReferenceInput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyPlutusScriptWitness"><span class="hs-identifier hs-type">Exp.AnyPlutusScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Plutus.Internal.ScriptWitness.html#PlutusScriptWitness"><span class="hs-identifier hs-type">Exp.PlutusScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">SLanguage lang
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Plutus.Internal.Script.html#PReferenceScript"><span class="hs-identifier hs-type">Exp.PReferenceScript</span></a></span><span> </span><span id="local-6989586621681532105"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681532105"><span class="hs-identifier hs-var">ref</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PlutusScriptDatum lang purpose
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ScriptRedeemer
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; Maybe TxIn
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681532105"><span class="hs-identifier hs-var">ref</span></a></span><span>
</span><span id="line-1174"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var">getAnyWitnessReferenceInput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyPlutusScriptWitness"><span class="hs-identifier hs-type">Exp.AnyPlutusScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Plutus.Internal.ScriptWitness.html#PlutusScriptWitness"><span class="hs-identifier hs-type">Exp.PlutusScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">SLanguage lang
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Plutus.Internal.Script.html#PScript"><span class="hs-identifier hs-type">Exp.PScript</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PlutusScriptDatum lang purpose
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ScriptRedeemer
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TxIn
forall a. Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1175"></span><span>
</span><span id="line-1176"></span><span id="local-6989586621681529706"><span id="local-6989586621681529707"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-type">toTxOutInShelleyBasedEra</span></a></span><span>
</span><span id="line-1177"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529706"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1178"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutShelleyBasedEra"><span class="hs-identifier hs-type">TxOutShelleyBasedEra</span></a></span><span>
</span><span id="line-1179"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529707"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#CtxTx"><span class="hs-identifier hs-type">CtxTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529706"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1180"></span><span id="toTxOutInShelleyBasedEra"><span class="annot"><span class="annottext">toTxOutInShelleyBasedEra :: forall era e.
IsEra era =&gt;
TxOutShelleyBasedEra -&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-var hs-var">toTxOutInShelleyBasedEra</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutShelleyBasedEra"><span class="hs-identifier hs-type">TxOutShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532112"><span class="annot"><span class="annottext">Address ShelleyAddr
</span><a href="#local-6989586621681532112"><span class="hs-identifier hs-var">addr'</span></a></span></span><span> </span><span id="local-6989586621681532113"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681532113"><span class="hs-identifier hs-var">val'</span></a></span></span><span> </span><span id="local-6989586621681532114"><span class="annot"><span class="annottext">TxOutDatumAnyEra
</span><a href="#local-6989586621681532114"><span class="hs-identifier hs-var">mDatumHash</span></a></span></span><span> </span><span id="local-6989586621681532115"><span class="annot"><span class="annottext">ReferenceScriptAnyEra
</span><a href="#local-6989586621681532115"><span class="hs-identifier hs-var">refScriptFp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1181"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532118"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621681532118"><span class="hs-identifier hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span>
</span><span id="line-1182"></span><span>      </span><span id="local-6989586621681532119"><span class="annot"><span class="annottext">addr :: AddressInEra era
</span><a href="#local-6989586621681532119"><span class="hs-identifier hs-var hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Address ShelleyAddr -&gt; AddressInEra era
forall era.
ShelleyBasedEra era -&gt; Address ShelleyAddr -&gt; AddressInEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Address.html#shelleyAddressInEra"><span class="hs-identifier hs-var">shelleyAddressInEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532118"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">Address ShelleyAddr
</span><a href="#local-6989586621681532112"><span class="hs-identifier hs-var">addr'</span></a></span><span>
</span><span id="line-1183"></span><span>  </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; AddressInEra era
-&gt; Value
-&gt; TxOutDatumAnyEra
-&gt; ReferenceScriptAnyEra
-&gt; CIO e (TxOut CtxTx era)
forall era e.
ShelleyBasedEra era
-&gt; AddressInEra era
-&gt; Value
-&gt; TxOutDatumAnyEra
-&gt; ReferenceScriptAnyEra
-&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.Compatible.Transaction.TxOut.html#mkTxOut"><span class="hs-identifier hs-var">mkTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532118"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra era
</span><a href="#local-6989586621681532119"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681532113"><span class="hs-identifier hs-var">val'</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutDatumAnyEra
</span><a href="#local-6989586621681532114"><span class="hs-identifier hs-var">mDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">ReferenceScriptAnyEra
</span><a href="#local-6989586621681532115"><span class="hs-identifier hs-var">refScriptFp</span></a></span><span>
</span><span id="line-1184"></span><span>
</span><span id="line-1185"></span><span class="hs-comment">-- TODO: Currently we specify the policyId with the '--mint' option on the cli</span><span>
</span><span id="line-1186"></span><span class="hs-comment">-- and we added a separate '--policy-id' parser that parses the policy id for the</span><span>
</span><span id="line-1187"></span><span class="hs-comment">-- given reference input (since we don't have the script in this case). To avoid asking</span><span>
</span><span id="line-1188"></span><span class="hs-comment">-- for the policy id twice (in the build command) we can potentially query the UTxO and</span><span>
</span><span id="line-1189"></span><span class="hs-comment">-- access the script (and therefore the policy id).</span><span>
</span><span id="line-1190"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#createTxMintValue"><span class="hs-identifier hs-type">createTxMintValue</span></a></span><span>
</span><span id="line-1191"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681530031"><span class="annot"><a href="#local-6989586621681530031"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-1192"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530031"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1193"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-mary-1.9.0.0-a1ffc3c47913e0a7fac21dcff59e9f0aaae21dc9a40339ecaf3d0d32915859b5/share/doc/html/src/Cardano.Ledger.Mary.Value.html#MultiAsset"><span class="hs-identifier hs-type">L.MultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Type.html#MintScriptWitnessWithPolicyId"><span class="hs-identifier hs-type">MintScriptWitnessWithPolicyId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530031"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1194"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMintValue"><span class="hs-identifier hs-type">TxMintValue</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530031"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1195"></span><span id="createTxMintValue"><span class="annot"><span class="annottext">createTxMintValue :: forall era.
IsEra era =&gt;
(MultiAsset, [MintScriptWitnessWithPolicyId era])
-&gt; Either TxCmdError (TxMintValue BuildTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#createTxMintValue"><span class="hs-identifier hs-var hs-var">createTxMintValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681532139"><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681532139"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532140"><span class="annot"><span class="annottext">[MintScriptWitnessWithPolicyId era]
</span><a href="#local-6989586621681532140"><span class="hs-identifier hs-var">scriptWitnesses</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1196"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">MultiAsset
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">MultiAsset -&gt; MultiAsset -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681532139"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">[MintScriptWitnessWithPolicyId era] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">List.null</span></a></span><span> </span><span class="annot"><span class="annottext">[MintScriptWitnessWithPolicyId era]
</span><a href="#local-6989586621681532140"><span class="hs-identifier hs-var">scriptWitnesses</span></a></span><span>
</span><span id="line-1197"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TxMintValue BuildTx era
-&gt; Either TxCmdError (TxMintValue BuildTx era)
forall a. a -&gt; Either TxCmdError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">TxMintValue BuildTx era
forall build era. TxMintValue build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMintNone"><span class="hs-identifier hs-var">TxMintNone</span></a></span><span>
</span><span id="line-1198"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1199"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621681532143"><span class="hs-identifier hs-type">policiesWithAssets</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyAssets"><span class="hs-identifier hs-type">PolicyAssets</span></a></span><span>
</span><span id="line-1200"></span><span>          </span><span id="local-6989586621681532143"><span class="annot"><span class="annottext">policiesWithAssets :: Map PolicyId PolicyAssets
</span><a href="#local-6989586621681532143"><span class="hs-identifier hs-var hs-var">policiesWithAssets</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MultiAsset -&gt; Map PolicyId PolicyAssets
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#multiAssetToPolicyAssets"><span class="hs-identifier hs-var">multiAssetToPolicyAssets</span></a></span><span> </span><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681532139"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-1201"></span><span>          </span><span class="hs-comment">-- The set of policy ids for which we need witnesses:</span><span>
</span><span id="line-1202"></span><span>          </span><span class="annot"><a href="#local-6989586621681532145"><span class="hs-identifier hs-type">witnessesNeededSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span>
</span><span id="line-1203"></span><span>          </span><span id="local-6989586621681532145"><span class="annot"><span class="annottext">witnessesNeededSet :: Set PolicyId
</span><a href="#local-6989586621681532145"><span class="hs-identifier hs-var hs-var">witnessesNeededSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map PolicyId PolicyAssets -&gt; Set PolicyId
forall k a. Map k a -&gt; Set k
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Map.Internal.html#keysSet"><span class="hs-identifier hs-var">Map.keysSet</span></a></span><span> </span><span class="annot"><span class="annottext">Map PolicyId PolicyAssets
</span><a href="#local-6989586621681532143"><span class="hs-identifier hs-var">policiesWithAssets</span></a></span><span>
</span><span id="line-1204"></span><span>
</span><span id="line-1205"></span><span>          </span><span class="annot"><a href="#local-6989586621681532147"><span class="hs-identifier hs-type">witnessesProvidedMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitness"><span class="hs-identifier hs-type">ScriptWitness</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#WitCtxMint"><span class="hs-identifier hs-type">WitCtxMint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530031"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1206"></span><span>          </span><span id="local-6989586621681532147"><span class="annot"><span class="annottext">witnessesProvidedMap :: Map PolicyId (ScriptWitness WitCtxMint era)
</span><a href="#local-6989586621681532147"><span class="hs-identifier hs-var hs-var">witnessesProvidedMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Item (Map PolicyId (ScriptWitness WitCtxMint era))]
-&gt; Map PolicyId (ScriptWitness WitCtxMint era)
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Item (Map PolicyId (ScriptWitness WitCtxMint era))]
 -&gt; Map PolicyId (ScriptWitness WitCtxMint era))
-&gt; [Item (Map PolicyId (ScriptWitness WitCtxMint era))]
-&gt; Map PolicyId (ScriptWitness WitCtxMint era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621681532148"><span class="hs-identifier hs-var">polid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ScriptWitness WitCtxMint era
</span><a href="#local-6989586621681532149"><span class="hs-identifier hs-var">sWit</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Type.html#MintScriptWitnessWithPolicyId"><span class="hs-identifier hs-type">MintScriptWitnessWithPolicyId</span></a></span><span> </span><span id="local-6989586621681532148"><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621681532148"><span class="hs-identifier hs-var">polid</span></a></span></span><span> </span><span id="local-6989586621681532149"><span class="annot"><span class="annottext">ScriptWitness WitCtxMint era
</span><a href="#local-6989586621681532149"><span class="hs-identifier hs-var">sWit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[MintScriptWitnessWithPolicyId era]
</span><a href="#local-6989586621681532140"><span class="hs-identifier hs-var">scriptWitnesses</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1207"></span><span>
</span><span id="line-1208"></span><span>          </span><span class="annot"><a href="#local-6989586621681532151"><span class="hs-identifier hs-type">witnessesProvidedSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span>
</span><span id="line-1209"></span><span>          </span><span id="local-6989586621681532151"><span class="annot"><span class="annottext">witnessesProvidedSet :: Set PolicyId
</span><a href="#local-6989586621681532151"><span class="hs-identifier hs-var hs-var">witnessesProvidedSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map PolicyId (ScriptWitness WitCtxMint era) -&gt; Set PolicyId
forall k a. Map k a -&gt; Set k
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Map.Internal.html#keysSet"><span class="hs-identifier hs-var">Map.keysSet</span></a></span><span> </span><span class="annot"><span class="annottext">Map PolicyId (ScriptWitness WitCtxMint era)
</span><a href="#local-6989586621681532147"><span class="hs-identifier hs-var">witnessesProvidedMap</span></a></span><span>
</span><span id="line-1210"></span><span>      </span><span class="hs-comment">-- Check not too many, nor too few:</span><span>
</span><span id="line-1211"></span><span>      </span><span class="annot"><span class="annottext">Set PolicyId -&gt; Set PolicyId -&gt; Either TxCmdError ()
</span><a href="#local-6989586621681532152"><span class="hs-identifier hs-var">validateAllWitnessesProvided</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532145"><span class="hs-identifier hs-var">witnessesNeededSet</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532151"><span class="hs-identifier hs-var">witnessesProvidedSet</span></a></span><span>
</span><span id="line-1212"></span><span>      </span><span class="annot"><span class="annottext">Set PolicyId -&gt; Set PolicyId -&gt; Either TxCmdError ()
</span><a href="#local-6989586621681532153"><span class="hs-identifier hs-var">validateNoUnnecessaryWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532145"><span class="hs-identifier hs-var">witnessesNeededSet</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532151"><span class="hs-identifier hs-var">witnessesProvidedSet</span></a></span><span>
</span><span id="line-1213"></span><span>      </span><span class="annot"><span class="annottext">TxMintValue BuildTx era
-&gt; Either TxCmdError (TxMintValue BuildTx era)
forall a. a -&gt; Either TxCmdError a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TxMintValue BuildTx era
 -&gt; Either TxCmdError (TxMintValue BuildTx era))
-&gt; TxMintValue BuildTx era
-&gt; Either TxCmdError (TxMintValue BuildTx era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1214"></span><span>        </span><span class="annot"><span class="annottext">MaryEraOnwards era
-&gt; Map
     PolicyId
     (PolicyAssets, BuildTxWith BuildTx (ScriptWitness WitCtxMint era))
-&gt; TxMintValue BuildTx era
forall era build.
MaryEraOnwards era
-&gt; Map
     PolicyId
     (PolicyAssets, BuildTxWith build (ScriptWitness WitCtxMint era))
-&gt; TxMintValue build era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMintValue"><span class="hs-identifier hs-var">TxMintValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; MaryEraOnwards era
forall era. Era era -&gt; MaryEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Map
   PolicyId
   (PolicyAssets, BuildTxWith BuildTx (ScriptWitness WitCtxMint era))
 -&gt; TxMintValue BuildTx era)
-&gt; Map
     PolicyId
     (PolicyAssets, BuildTxWith BuildTx (ScriptWitness WitCtxMint era))
-&gt; TxMintValue BuildTx era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1215"></span><span>          </span><span class="annot"><span class="annottext">(PolicyAssets
 -&gt; ScriptWitness WitCtxMint era
 -&gt; (PolicyAssets,
     BuildTxWith BuildTx (ScriptWitness WitCtxMint era)))
-&gt; Map PolicyId PolicyAssets
-&gt; Map PolicyId (ScriptWitness WitCtxMint era)
-&gt; Map
     PolicyId
     (PolicyAssets, BuildTxWith BuildTx (ScriptWitness WitCtxMint era))
forall k a b c.
Ord k =&gt;
(a -&gt; b -&gt; c) -&gt; Map k a -&gt; Map k b -&gt; Map k c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Map.Strict.Internal.html#intersectionWith"><span class="hs-identifier hs-var">Map.intersectionWith</span></a></span><span>
</span><span id="line-1216"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681532156"><span class="annot"><span class="annottext">PolicyAssets
</span><a href="#local-6989586621681532156"><span class="hs-identifier hs-var">assets</span></a></span></span><span> </span><span id="local-6989586621681532157"><span class="annot"><span class="annottext">ScriptWitness WitCtxMint era
</span><a href="#local-6989586621681532157"><span class="hs-identifier hs-var">wit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PolicyAssets
</span><a href="#local-6989586621681532156"><span class="hs-identifier hs-var">assets</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ScriptWitness WitCtxMint era
-&gt; BuildTxWith BuildTx (ScriptWitness WitCtxMint era)
forall a. a -&gt; BuildTxWith BuildTx a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTxWith"><span class="hs-identifier hs-var">BuildTxWith</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptWitness WitCtxMint era
</span><a href="#local-6989586621681532157"><span class="hs-identifier hs-var">wit</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1217"></span><span>            </span><span class="annot"><span class="annottext">Map PolicyId PolicyAssets
</span><a href="#local-6989586621681532143"><span class="hs-identifier hs-var">policiesWithAssets</span></a></span><span>
</span><span id="line-1218"></span><span>            </span><span class="annot"><span class="annottext">Map PolicyId (ScriptWitness WitCtxMint era)
</span><a href="#local-6989586621681532147"><span class="hs-identifier hs-var">witnessesProvidedMap</span></a></span><span>
</span><span id="line-1219"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1220"></span><span>  </span><span id="local-6989586621681532152"><span class="annot"><span class="annottext">validateAllWitnessesProvided :: Set PolicyId -&gt; Set PolicyId -&gt; Either TxCmdError ()
</span><a href="#local-6989586621681532152"><span class="hs-identifier hs-var hs-var">validateAllWitnessesProvided</span></a></span></span><span> </span><span id="local-6989586621681532162"><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532162"><span class="hs-identifier hs-var">witnessesNeeded</span></a></span></span><span> </span><span id="local-6989586621681532163"><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532163"><span class="hs-identifier hs-var">witnessesProvided</span></a></span></span><span>
</span><span id="line-1221"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[PolicyId] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[PolicyId]
</span><a href="#local-6989586621681532164"><span class="hs-identifier hs-var">witnessesMissing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Either TxCmdError ()
forall a. a -&gt; Either TxCmdError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1222"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxCmdError -&gt; Either TxCmdError ()
forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PolicyId] -&gt; [PolicyId] -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdPolicyIdsMissing"><span class="hs-identifier hs-var">TxCmdPolicyIdsMissing</span></a></span><span> </span><span class="annot"><span class="annottext">[PolicyId]
</span><a href="#local-6989586621681532164"><span class="hs-identifier hs-var">witnessesMissing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set PolicyId -&gt; [Item (Set PolicyId)]
forall l. IsList l =&gt; l -&gt; [Item l]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IsList.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532163"><span class="hs-identifier hs-var">witnessesProvided</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1223"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1224"></span><span>    </span><span id="local-6989586621681532164"><span class="annot"><span class="annottext">witnessesMissing :: [PolicyId]
</span><a href="#local-6989586621681532164"><span class="hs-identifier hs-var hs-var">witnessesMissing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set PolicyId -&gt; [PolicyId]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#elems"><span class="hs-identifier hs-var">Set.elems</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532162"><span class="hs-identifier hs-var">witnessesNeeded</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId -&gt; Set PolicyId -&gt; Set PolicyId
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#%5C%5C"><span class="hs-operator hs-var">Set.\\</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532163"><span class="hs-identifier hs-var">witnessesProvided</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1225"></span><span>
</span><span id="line-1226"></span><span>  </span><span id="local-6989586621681532153"><span class="annot"><span class="annottext">validateNoUnnecessaryWitnesses :: Set PolicyId -&gt; Set PolicyId -&gt; Either TxCmdError ()
</span><a href="#local-6989586621681532153"><span class="hs-identifier hs-var hs-var">validateNoUnnecessaryWitnesses</span></a></span></span><span> </span><span id="local-6989586621681532171"><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532171"><span class="hs-identifier hs-var">witnessesNeeded</span></a></span></span><span> </span><span id="local-6989586621681532172"><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532172"><span class="hs-identifier hs-var">witnessesProvided</span></a></span></span><span>
</span><span id="line-1227"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[PolicyId] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[PolicyId]
</span><a href="#local-6989586621681532173"><span class="hs-identifier hs-var">witnessesExtra</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Either TxCmdError ()
forall a. a -&gt; Either TxCmdError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1228"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxCmdError -&gt; Either TxCmdError ()
forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PolicyId] -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdPolicyIdsExcess"><span class="hs-identifier hs-var">TxCmdPolicyIdsExcess</span></a></span><span> </span><span class="annot"><span class="annottext">[PolicyId]
</span><a href="#local-6989586621681532173"><span class="hs-identifier hs-var">witnessesExtra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1229"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1230"></span><span>    </span><span id="local-6989586621681532173"><span class="annot"><span class="annottext">witnessesExtra :: [PolicyId]
</span><a href="#local-6989586621681532173"><span class="hs-identifier hs-var hs-var">witnessesExtra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set PolicyId -&gt; [PolicyId]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#elems"><span class="hs-identifier hs-var">Set.elems</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532172"><span class="hs-identifier hs-var">witnessesProvided</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId -&gt; Set PolicyId -&gt; Set PolicyId
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#%5C%5C"><span class="hs-operator hs-var">Set.\\</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681532171"><span class="hs-identifier hs-var">witnessesNeeded</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1231"></span><span>
</span><span id="line-1232"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1233"></span><span class="hs-comment">-- Transaction signing</span><span>
</span><span id="line-1234"></span><span class="hs-comment">--</span><span>
</span><span id="line-1235"></span><span>
</span><span id="line-1236"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignCmd"><span class="hs-identifier hs-type">runTransactionSignCmd</span></a></span><span>
</span><span id="line-1237"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1238"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSignCmdArgs</span></a></span><span>
</span><span id="line-1239"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1240"></span><span id="runTransactionSignCmd"><span class="annot"><span class="annottext">runTransactionSignCmd :: TransactionSignCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignCmd"><span class="hs-identifier hs-var hs-var">runTransactionSignCmd</span></a></span></span><span>
</span><span id="line-1241"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSignCmdArgs</span></a></span><span>
</span><span id="line-1242"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txOrTxBodyFile :: TransactionSignCmdArgs -&gt; InputTxBodyOrTxFile
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txOrTxBodyFile"><span class="hs-identifier hs-var">txOrTxBodyFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681532177"><span class="annot"><span class="annottext">InputTxBodyOrTxFile
</span><a href="#local-6989586621681532177"><span class="hs-identifier hs-var">txOrTxBody</span></a></span></span><span>
</span><span id="line-1243"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532178"><span class="annot"><span class="annottext">[WitnessSigningData]
witnessSigningData :: [WitnessSigningData]
witnessSigningData :: TransactionSignCmdArgs -&gt; [WitnessSigningData]
</span><a href="#local-6989586621681532178"><span class="hs-identifier hs-var hs-var">witnessSigningData</span></a></span></span><span>
</span><span id="line-1244"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532180"><span class="annot"><span class="annottext">Maybe NetworkId
mNetworkId :: Maybe NetworkId
mNetworkId :: TransactionSignCmdArgs -&gt; Maybe NetworkId
</span><a href="#local-6989586621681532180"><span class="hs-identifier hs-var hs-var">mNetworkId</span></a></span></span><span>
</span><span id="line-1245"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532182"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: TransactionSignCmdArgs -&gt; TxCborFormat
</span><a href="#local-6989586621681532182"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-1246"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532184"><span class="annot"><span class="annottext">TxFile 'Out
outTxFile :: TxFile 'Out
outTxFile :: TransactionSignCmdArgs -&gt; TxFile 'Out
</span><a href="#local-6989586621681532184"><span class="hs-identifier hs-var hs-var">outTxFile</span></a></span></span><span>
</span><span id="line-1247"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1248"></span><span>    </span><span id="local-6989586621681532186"><span class="annot"><span class="annottext">[SomeSigningWitness]
</span><a href="#local-6989586621681532186"><span class="hs-identifier hs-var">sks</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[WitnessSigningData]
-&gt; (WitnessSigningData -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; ExceptT TxCmdError IO [SomeSigningWitness]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[WitnessSigningData]
</span><a href="#local-6989586621681532178"><span class="hs-identifier hs-var">witnessSigningData</span></a></span><span> </span><span class="annot"><span class="annottext">((WitnessSigningData -&gt; ExceptT TxCmdError IO SomeSigningWitness)
 -&gt; ExceptT TxCmdError IO [SomeSigningWitness])
-&gt; (WitnessSigningData -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; ExceptT TxCmdError IO [SomeSigningWitness]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681532187"><span class="annot"><span class="annottext">WitnessSigningData
</span><a href="#local-6989586621681532187"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1249"></span><span>      </span><span class="annot"><span class="annottext">IO (Either ReadWitnessSigningDataError SomeSigningWitness)
-&gt; ExceptT
     TxCmdError
     IO
     (Either ReadWitnessSigningDataError SomeSigningWitness)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitnessSigningData
-&gt; IO (Either ReadWitnessSigningDataError SomeSigningWitness)
</span><a href="Cardano.CLI.Read.html#readWitnessSigningData"><span class="hs-identifier hs-var">readWitnessSigningData</span></a></span><span> </span><span class="annot"><span class="annottext">WitnessSigningData
</span><a href="#local-6989586621681532187"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1250"></span><span>        </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either ReadWitnessSigningDataError SomeSigningWitness)
-&gt; (ExceptT
      TxCmdError
      IO
      (Either ReadWitnessSigningDataError SomeSigningWitness)
    -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; ExceptT TxCmdError IO SomeSigningWitness
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(ReadWitnessSigningDataError
 -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; ExceptT
     TxCmdError
     IO
     (Either ReadWitnessSigningDataError SomeSigningWitness)
-&gt; ExceptT TxCmdError IO SomeSigningWitness
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO SomeSigningWitness
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; (ReadWitnessSigningDataError -&gt; TxCmdError)
-&gt; ReadWitnessSigningDataError
-&gt; ExceptT TxCmdError IO SomeSigningWitness
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ReadWitnessSigningDataError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdReadWitnessSigningDataError"><span class="hs-identifier hs-var">TxCmdReadWitnessSigningDataError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1251"></span><span>
</span><span id="line-1252"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681532190"><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
</span><a href="#local-6989586621681532190"><span class="hs-identifier hs-var">sksByron</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532191"><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681532191"><span class="hs-identifier hs-var">sksShelley</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ByronOrShelleyWitness]
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#partitionSomeWitnesses"><span class="hs-identifier hs-var">partitionSomeWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">([ByronOrShelleyWitness]
 -&gt; ([ShelleyBootstrapWitnessSigningKeyData],
     [ShelleyWitnessSigningKey]))
-&gt; [ByronOrShelleyWitness]
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeSigningWitness -&gt; ByronOrShelleyWitness)
-&gt; [SomeSigningWitness] -&gt; [ByronOrShelleyWitness]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">SomeSigningWitness -&gt; ByronOrShelleyWitness
</span><a href="Cardano.CLI.Read.html#categoriseSomeSigningWitness"><span class="hs-identifier hs-var">categoriseSomeSigningWitness</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeSigningWitness]
</span><a href="#local-6989586621681532186"><span class="hs-identifier hs-var">sks</span></a></span><span>
</span><span id="line-1253"></span><span>
</span><span id="line-1254"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">InputTxBodyOrTxFile
</span><a href="#local-6989586621681532177"><span class="hs-identifier hs-var">txOrTxBody</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1255"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#InputTxFile"><span class="hs-identifier hs-type">InputTxFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681532194"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532194"><span class="hs-identifier hs-var">inputTxFilePath</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1256"></span><span>        </span><span id="local-6989586621681532195"><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532195"><span class="hs-identifier hs-var">inputTxFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532194"><span class="hs-identifier hs-var">inputTxFilePath</span></a></span><span>
</span><span id="line-1257"></span><span>        </span><span id="local-6989586621681532197"><span class="annot"><span class="annottext">InAnyShelleyBasedEra Tx
</span><a href="#local-6989586621681532197"><span class="hs-identifier hs-var">anyTx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FileOrPipe
-&gt; IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
</span><a href="Cardano.CLI.Read.html#readFileTx"><span class="hs-identifier hs-var">readFileTx</span></a></span><span> </span><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532195"><span class="hs-identifier hs-var">inputTxFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
    -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError
 -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; (FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; FileError TextEnvelopeError
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1258"></span><span>
</span><span id="line-1259"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532217"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532217"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681532218"><span class="annot"><span class="annottext">tx :: Tx era
</span><a href="#local-6989586621681532218"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTx"><span class="hs-identifier hs-type">ShelleyTx</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681532220"><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532220"><span class="hs-identifier hs-var">ledgerTx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra Tx
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra Tx
</span><a href="#local-6989586621681532197"><span class="hs-identifier hs-var">anyTx</span></a></span><span>
</span><span id="line-1260"></span><span>
</span><span id="line-1261"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681532221"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532221"><span class="hs-identifier hs-var">apiTxBody</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532222"><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532222"><span class="hs-identifier hs-var">existingTxKeyWits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; (TxBody era, [KeyWitness era])
forall era. Tx era -&gt; (TxBody era, [KeyWitness era])
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#getTxBodyAndWitnesses"><span class="hs-identifier hs-var">getTxBodyAndWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532218"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1262"></span><span>
</span><span id="line-1263"></span><span>        </span><span id="local-6989586621681532224"><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532224"><span class="hs-identifier hs-var">byronWitnesses</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1264"></span><span>          </span><span class="annot"><span class="annottext">(BootstrapWitnessError -&gt; TxCmdError)
-&gt; ExceptT BootstrapWitnessError IO [KeyWitness era]
-&gt; ExceptT TxCmdError IO [KeyWitness era]
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">BootstrapWitnessError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdBootstrapWitnessError"><span class="hs-identifier hs-var">TxCmdBootstrapWitnessError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT BootstrapWitnessError IO [KeyWitness era]
 -&gt; ExceptT TxCmdError IO [KeyWitness era])
-&gt; (Either BootstrapWitnessError [KeyWitness era]
    -&gt; ExceptT BootstrapWitnessError IO [KeyWitness era])
-&gt; Either BootstrapWitnessError [KeyWitness era]
-&gt; ExceptT TxCmdError IO [KeyWitness era]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either BootstrapWitnessError [KeyWitness era]
-&gt; ExceptT BootstrapWitnessError IO [KeyWitness era]
forall e (m :: * -&gt; *) a. MonadError e m =&gt; Either e a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/mtl-2.3.1-inplace/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-var">liftEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either BootstrapWitnessError [KeyWitness era]
 -&gt; ExceptT TxCmdError IO [KeyWitness era])
-&gt; Either BootstrapWitnessError [KeyWitness era]
-&gt; ExceptT TxCmdError IO [KeyWitness era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1265"></span><span>            </span><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
-&gt; (ShelleyBootstrapWitnessSigningKeyData
    -&gt; Either BootstrapWitnessError (KeyWitness era))
-&gt; Either BootstrapWitnessError [KeyWitness era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
</span><a href="#local-6989586621681532190"><span class="hs-identifier hs-var">sksByron</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBootstrapWitnessSigningKeyData
  -&gt; Either BootstrapWitnessError (KeyWitness era))
 -&gt; Either BootstrapWitnessError [KeyWitness era])
-&gt; (ShelleyBootstrapWitnessSigningKeyData
    -&gt; Either BootstrapWitnessError (KeyWitness era))
-&gt; Either BootstrapWitnessError [KeyWitness era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1266"></span><span>              </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ShelleyBootstrapWitnessSigningKeyData
    -&gt; Either BootstrapWitnessError (KeyWitness era))
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532217"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt;
  ShelleyBootstrapWitnessSigningKeyData
  -&gt; Either BootstrapWitnessError (KeyWitness era))
 -&gt; ShelleyBootstrapWitnessSigningKeyData
 -&gt; Either BootstrapWitnessError (KeyWitness era))
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ShelleyBootstrapWitnessSigningKeyData
    -&gt; Either BootstrapWitnessError (KeyWitness era))
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1267"></span><span>                </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; Maybe NetworkId
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
forall era.
ShelleyBasedEra era
-&gt; Maybe NetworkId
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
</span><a href="Cardano.CLI.Read.html#mkShelleyBootstrapWitness"><span class="hs-identifier hs-var">mkShelleyBootstrapWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532217"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe NetworkId
</span><a href="#local-6989586621681532180"><span class="hs-identifier hs-var">mNetworkId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532220"><span class="hs-identifier hs-var">ledgerTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
-&gt; Getting
     (TxBody (ShelleyLedgerEra era))
     (Tx (ShelleyLedgerEra era))
     (TxBody (ShelleyLedgerEra era))
-&gt; TxBody (ShelleyLedgerEra era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (TxBody (ShelleyLedgerEra era))
  (Tx (ShelleyLedgerEra era))
  (TxBody (ShelleyLedgerEra era))
forall era. EraTx era =&gt; Lens' (Tx era) (TxBody era)
Lens' (Tx (ShelleyLedgerEra era)) (TxBody (ShelleyLedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.html#bodyTxL"><span class="hs-identifier hs-var">L.bodyTxL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1268"></span><span>
</span><span id="line-1269"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532233"><span class="annot"><span class="annottext">newShelleyKeyWits :: [KeyWitness era]
</span><a href="#local-6989586621681532233"><span class="hs-identifier hs-var hs-var">newShelleyKeyWits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ShelleyWitnessSigningKey -&gt; KeyWitness era)
-&gt; [ShelleyWitnessSigningKey] -&gt; [KeyWitness era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
forall era.
ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeShelleyKeyWitness"><span class="hs-identifier hs-var">makeShelleyKeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532217"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532221"><span class="hs-identifier hs-var">apiTxBody</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681532191"><span class="hs-identifier hs-var">sksShelley</span></a></span><span>
</span><span id="line-1270"></span><span>            </span><span id="local-6989586621681532235"><span class="annot"><span class="annottext">allKeyWits :: [KeyWitness era]
</span><a href="#local-6989586621681532235"><span class="hs-identifier hs-var hs-var">allKeyWits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532222"><span class="hs-identifier hs-var">existingTxKeyWits</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; [KeyWitness era] -&gt; [KeyWitness era]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532233"><span class="hs-identifier hs-var">newShelleyKeyWits</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; [KeyWitness era] -&gt; [KeyWitness era]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532224"><span class="hs-identifier hs-var">byronWitnesses</span></a></span><span>
</span><span id="line-1271"></span><span>            </span><span id="local-6989586621681532236"><span class="annot"><span class="annottext">signedTx :: Tx era
</span><a href="#local-6989586621681532236"><span class="hs-identifier hs-var hs-var">signedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532235"><span class="hs-identifier hs-var">allKeyWits</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532221"><span class="hs-identifier hs-var">apiTxBody</span></a></span><span>
</span><span id="line-1272"></span><span>
</span><span id="line-1273"></span><span>        </span><span class="annot"><span class="annottext">(FileError () -&gt; TxCmdError)
-&gt; ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ()
forall e' (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) e a.
MonadTransError e' t m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; t m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-var">modifyError</span></a></span><span> </span><span class="annot"><span class="annottext">FileError () -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWriteFileError"><span class="hs-identifier hs-var">TxCmdWriteFileError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ())
-&gt; ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1274"></span><span>          </span><span class="annot"><span class="annottext">IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ()
forall e (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
MonadIOTransError e t m =&gt;
IO (Either e a) -&gt; t m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Monad.Error.html#hoistIOEither"><span class="hs-identifier hs-var">hoistIOEither</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ())
-&gt; IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1275"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="#local-6989586621681532182"><span class="hs-identifier hs-var">isCborOutCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat -&gt; TxCborFormat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-var">TxCborCanonical</span></a></span><span>
</span><span id="line-1276"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-var">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532217"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxFile 'Out
</span><a href="#local-6989586621681532184"><span class="hs-identifier hs-var">outTxFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532236"><span class="hs-identifier hs-var">signedTx</span></a></span><span>
</span><span id="line-1277"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-var">writeTxFileTextEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532217"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxFile 'Out
</span><a href="#local-6989586621681532184"><span class="hs-identifier hs-var">outTxFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532236"><span class="hs-identifier hs-var">signedTx</span></a></span><span>
</span><span id="line-1278"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#InputTxBodyFile"><span class="hs-identifier hs-type">InputTxBodyFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681532241"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532241"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1279"></span><span>        </span><span id="local-6989586621681532242"><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532242"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532241"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1280"></span><span>        </span><span id="local-6989586621681532243"><span class="annot"><span class="annottext">IncompleteTxBody
</span><a href="#local-6989586621681532243"><span class="hs-identifier hs-var">unwitnessed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1281"></span><span>          </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody
 -&gt; ExceptT TxCmdError IO IncompleteTxBody)
-&gt; (IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
    -&gt; ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody)
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody
forall (m :: * -&gt; *) x a. m (Either x a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">newExceptT</span></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
 -&gt; ExceptT TxCmdError IO IncompleteTxBody)
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1282"></span><span>            </span><span class="annot"><span class="annottext">FileOrPipe
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
</span><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-var">readFileTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532242"><span class="hs-identifier hs-var">txbodyFile</span></a></span><span>
</span><span id="line-1283"></span><span>
</span><span id="line-1284"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IncompleteTxBody
</span><a href="#local-6989586621681532243"><span class="hs-identifier hs-var">unwitnessed</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1285"></span><span>          </span><span class="annot"><a href="Cardano.CLI.Read.html#IncompleteTxBody"><span class="hs-identifier hs-type">IncompleteTxBody</span></a></span><span> </span><span id="local-6989586621681532247"><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
</span><a href="#local-6989586621681532247"><span class="hs-identifier hs-var">anyTxBody</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1286"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532262"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532262"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681532263"><span class="annot"><span class="annottext">txbody :: TxBody era
</span><a href="#local-6989586621681532263"><span class="hs-identifier hs-var">txbody</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTxBody"><span class="hs-identifier hs-type">ShelleyTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681532265"><span class="annot"><span class="annottext">TxBody (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532265"><span class="hs-identifier hs-var">ledgerTxBody</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Script (ShelleyLedgerEra era)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TxBodyScriptData era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe (TxAuxData (ShelleyLedgerEra era))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity era
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
</span><a href="#local-6989586621681532247"><span class="hs-identifier hs-var">anyTxBody</span></a></span><span>
</span><span id="line-1287"></span><span>
</span><span id="line-1288"></span><span>            </span><span class="hs-comment">-- Byron witnesses require the network ID. This can either be provided</span><span>
</span><span id="line-1289"></span><span>            </span><span class="hs-comment">-- directly or derived from a provided Byron address.</span><span>
</span><span id="line-1290"></span><span>            </span><span id="local-6989586621681532266"><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532266"><span class="hs-identifier hs-var">byronWitnesses</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1291"></span><span>              </span><span class="annot"><span class="annottext">(BootstrapWitnessError -&gt; TxCmdError)
-&gt; ExceptT BootstrapWitnessError IO [KeyWitness era]
-&gt; ExceptT TxCmdError IO [KeyWitness era]
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">BootstrapWitnessError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdBootstrapWitnessError"><span class="hs-identifier hs-var">TxCmdBootstrapWitnessError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT BootstrapWitnessError IO [KeyWitness era]
 -&gt; ExceptT TxCmdError IO [KeyWitness era])
-&gt; (Either BootstrapWitnessError [KeyWitness era]
    -&gt; ExceptT BootstrapWitnessError IO [KeyWitness era])
-&gt; Either BootstrapWitnessError [KeyWitness era]
-&gt; ExceptT TxCmdError IO [KeyWitness era]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either BootstrapWitnessError [KeyWitness era]
-&gt; ExceptT BootstrapWitnessError IO [KeyWitness era]
forall e (m :: * -&gt; *) a. MonadError e m =&gt; Either e a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/mtl-2.3.1-inplace/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-var">liftEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either BootstrapWitnessError [KeyWitness era]
 -&gt; ExceptT TxCmdError IO [KeyWitness era])
-&gt; Either BootstrapWitnessError [KeyWitness era]
-&gt; ExceptT TxCmdError IO [KeyWitness era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1292"></span><span>                </span><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
-&gt; (ShelleyBootstrapWitnessSigningKeyData
    -&gt; Either BootstrapWitnessError (KeyWitness era))
-&gt; Either BootstrapWitnessError [KeyWitness era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
</span><a href="#local-6989586621681532190"><span class="hs-identifier hs-var">sksByron</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBootstrapWitnessSigningKeyData
  -&gt; Either BootstrapWitnessError (KeyWitness era))
 -&gt; Either BootstrapWitnessError [KeyWitness era])
-&gt; (ShelleyBootstrapWitnessSigningKeyData
    -&gt; Either BootstrapWitnessError (KeyWitness era))
-&gt; Either BootstrapWitnessError [KeyWitness era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1293"></span><span>                  </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; Maybe NetworkId
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
forall era.
ShelleyBasedEra era
-&gt; Maybe NetworkId
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
</span><a href="Cardano.CLI.Read.html#mkShelleyBootstrapWitness"><span class="hs-identifier hs-var">mkShelleyBootstrapWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532262"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe NetworkId
</span><a href="#local-6989586621681532180"><span class="hs-identifier hs-var">mNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532265"><span class="hs-identifier hs-var">ledgerTxBody</span></a></span><span>
</span><span id="line-1294"></span><span>
</span><span id="line-1295"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532267"><span class="annot"><span class="annottext">shelleyKeyWitnesses :: [KeyWitness era]
</span><a href="#local-6989586621681532267"><span class="hs-identifier hs-var hs-var">shelleyKeyWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ShelleyWitnessSigningKey -&gt; KeyWitness era)
-&gt; [ShelleyWitnessSigningKey] -&gt; [KeyWitness era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
forall era.
ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeShelleyKeyWitness"><span class="hs-identifier hs-var">makeShelleyKeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532262"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532263"><span class="hs-identifier hs-var">txbody</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681532191"><span class="hs-identifier hs-var">sksShelley</span></a></span><span>
</span><span id="line-1296"></span><span>                </span><span id="local-6989586621681532268"><span class="annot"><span class="annottext">tx :: Tx era
</span><a href="#local-6989586621681532268"><span class="hs-identifier hs-var hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532266"><span class="hs-identifier hs-var">byronWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; [KeyWitness era] -&gt; [KeyWitness era]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532267"><span class="hs-identifier hs-var">shelleyKeyWitnesses</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532263"><span class="hs-identifier hs-var">txbody</span></a></span><span>
</span><span id="line-1297"></span><span>
</span><span id="line-1298"></span><span>            </span><span class="annot"><span class="annottext">(FileError () -&gt; TxCmdError)
-&gt; ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ()
forall e' (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) e a.
MonadTransError e' t m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; t m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-var">modifyError</span></a></span><span> </span><span class="annot"><span class="annottext">FileError () -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWriteFileError"><span class="hs-identifier hs-var">TxCmdWriteFileError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ())
-&gt; ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1299"></span><span>              </span><span class="annot"><span class="annottext">IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ()
forall e (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
MonadIOTransError e t m =&gt;
IO (Either e a) -&gt; t m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Monad.Error.html#hoistIOEither"><span class="hs-identifier hs-var">hoistIOEither</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ())
-&gt; IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1300"></span><span>                </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="#local-6989586621681532182"><span class="hs-identifier hs-var">isCborOutCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat -&gt; TxCborFormat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-var">TxCborCanonical</span></a></span><span>
</span><span id="line-1301"></span><span>                  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-var">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532262"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxFile 'Out
</span><a href="#local-6989586621681532184"><span class="hs-identifier hs-var">outTxFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532268"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1302"></span><span>                  </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-var">writeTxFileTextEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532262"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxFile 'Out
</span><a href="#local-6989586621681532184"><span class="hs-identifier hs-var">outTxFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532268"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1303"></span><span>
</span><span id="line-1304"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1305"></span><span class="hs-comment">-- Transaction submission</span><span>
</span><span id="line-1306"></span><span class="hs-comment">--</span><span>
</span><span id="line-1307"></span><span>
</span><span id="line-1308"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSubmitCmd"><span class="hs-identifier hs-type">runTransactionSubmitCmd</span></a></span><span>
</span><span id="line-1309"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1310"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSubmitCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSubmitCmdArgs</span></a></span><span>
</span><span id="line-1311"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1312"></span><span id="runTransactionSubmitCmd"><span class="annot"><span class="annottext">runTransactionSubmitCmd :: TransactionSubmitCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSubmitCmd"><span class="hs-identifier hs-var hs-var">runTransactionSubmitCmd</span></a></span></span><span>
</span><span id="line-1313"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSubmitCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSubmitCmdArgs</span></a></span><span>
</span><span id="line-1314"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681532270"><span class="annot"><span class="annottext">LocalNodeConnectInfo
nodeConnInfo :: LocalNodeConnectInfo
nodeConnInfo :: TransactionSubmitCmdArgs -&gt; LocalNodeConnectInfo
</span><a href="#local-6989586621681532270"><span class="hs-identifier hs-var hs-var">nodeConnInfo</span></a></span></span><span>
</span><span id="line-1315"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532272"><span class="annot"><span class="annottext">FilePath
txFile :: FilePath
txFile :: TransactionSubmitCmdArgs -&gt; FilePath
</span><a href="#local-6989586621681532272"><span class="hs-identifier hs-var hs-var">txFile</span></a></span></span><span>
</span><span id="line-1316"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1317"></span><span>    </span><span id="local-6989586621681532274"><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532274"><span class="hs-identifier hs-var">txFileOrPipe</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532272"><span class="hs-identifier hs-var">txFile</span></a></span><span>
</span><span id="line-1318"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532287"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532287"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681532288"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532288"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1319"></span><span>      </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FileOrPipe
-&gt; IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
</span><a href="Cardano.CLI.Read.html#readFileTx"><span class="hs-identifier hs-var">readFileTx</span></a></span><span> </span><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532274"><span class="hs-identifier hs-var">txFileOrPipe</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
    -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError
 -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; (FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; FileError TextEnvelopeError
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1320"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532289"><span class="annot"><span class="annottext">txInMode :: TxInMode
</span><a href="#local-6989586621681532289"><span class="hs-identifier hs-var hs-var">txInMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Tx era -&gt; TxInMode
forall era. ShelleyBasedEra era -&gt; Tx era -&gt; TxInMode
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxInMode"><span class="hs-identifier hs-var">TxInMode</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532287"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532288"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1321"></span><span>    </span><span id="local-6989586621681532291"><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621681532291"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (SubmitResult TxValidationErrorInCardanoMode)
-&gt; ExceptT
     TxCmdError IO (SubmitResult TxValidationErrorInCardanoMode)
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (SubmitResult TxValidationErrorInCardanoMode)
 -&gt; ExceptT
      TxCmdError IO (SubmitResult TxValidationErrorInCardanoMode))
-&gt; IO (SubmitResult TxValidationErrorInCardanoMode)
-&gt; ExceptT
     TxCmdError IO (SubmitResult TxValidationErrorInCardanoMode)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; TxInMode -&gt; IO (SubmitResult TxValidationErrorInCardanoMode)
forall (m :: * -&gt; *).
MonadIO m =&gt;
LocalNodeConnectInfo
-&gt; TxInMode -&gt; m (SubmitResult TxValidationErrorInCardanoMode)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#submitTxToNodeLocal"><span class="hs-identifier hs-var">submitTxToNodeLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681532270"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621681532289"><span class="hs-identifier hs-var">txInMode</span></a></span><span>
</span><span id="line-1322"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621681532291"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1323"></span><span>      </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-network-protocols-0.15.0.0-8a75db3c7530192ceb2b37ee5fd7844775e5fdcb8e5aebb7df567dc0ceaba20b/share/doc/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitSuccess"><span class="hs-identifier hs-var">Net.Tx.SubmitSuccess</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1324"></span><span>        </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT TxCmdError IO ()
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT TxCmdError IO ())
-&gt; IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; Text -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/text-2.1.1-inplace/src/Data.Text.IO.html#hPutStrLn"><span class="hs-identifier hs-var">Text.hPutStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.IO.StdHandles.html#stderr"><span class="hs-identifier hs-var">IO.stderr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Transaction successfully submitted. Transaction hash is:&quot;</span></span><span>
</span><span id="line-1325"></span><span>        </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT TxCmdError IO ()
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT TxCmdError IO ())
-&gt; IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxSubmissionResult -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">Aeson.encode</span></span><span> </span><span class="annot"><span class="annottext">(TxSubmissionResult -&gt; ByteString)
-&gt; TxSubmissionResult -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxSubmissionResult
</span><a href="Cardano.CLI.Type.Common.html#TxSubmissionResult"><span class="hs-identifier hs-var">TxSubmissionResult</span></a></span><span> </span><span class="annot"><span class="annottext">(TxId -&gt; TxSubmissionResult) -&gt; TxId -&gt; TxSubmissionResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; TxId
forall era. TxBody era -&gt; TxId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#getTxId"><span class="hs-identifier hs-var">getTxId</span></a></span><span> </span><span class="annot"><span class="annottext">(TxBody era -&gt; TxId) -&gt; TxBody era -&gt; TxId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; TxBody era
forall era. Tx era -&gt; TxBody era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#getTxBody"><span class="hs-identifier hs-var">getTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532288"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1326"></span><span>      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-network-protocols-0.15.0.0-8a75db3c7530192ceb2b37ee5fd7844775e5fdcb8e5aebb7df567dc0ceaba20b/share/doc/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitFail"><span class="hs-identifier hs-type">Net.Tx.SubmitFail</span></a></span><span> </span><span id="local-6989586621681532301"><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode
</span><a href="#local-6989586621681532301"><span class="hs-identifier hs-var">reason</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1327"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode
</span><a href="#local-6989586621681532301"><span class="hs-identifier hs-var">reason</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1328"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxValidationErrorInCardanoMode"><span class="hs-identifier hs-type">TxValidationErrorInCardanoMode</span></a></span><span> </span><span id="local-6989586621681532306"><span class="annot"><span class="annottext">TxValidationError era
</span><a href="#local-6989586621681532306"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO ()
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO ())
-&gt; (FilePath -&gt; TxCmdError) -&gt; FilePath -&gt; ExceptT TxCmdError IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxSubmitError"><span class="hs-identifier hs-var">TxCmdTxSubmitError</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxCmdError)
-&gt; (FilePath -&gt; Text) -&gt; FilePath -&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Text
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/text-2.1.1-inplace/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; ExceptT TxCmdError IO ())
-&gt; FilePath -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidationError era -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidationError era
</span><a href="#local-6989586621681532306"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-1329"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxValidationEraMismatch"><span class="hs-identifier hs-type">TxValidationEraMismatch</span></a></span><span> </span><span id="local-6989586621681532310"><span class="annot"><span class="annottext">EraMismatch
</span><a href="#local-6989586621681532310"><span class="hs-identifier hs-var">mismatchErr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO ()
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO ())
-&gt; TxCmdError -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EraMismatch -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxSubmitErrorEraMismatch"><span class="hs-identifier hs-var">TxCmdTxSubmitErrorEraMismatch</span></a></span><span> </span><span class="annot"><span class="annottext">EraMismatch
</span><a href="#local-6989586621681532310"><span class="hs-identifier hs-var">mismatchErr</span></a></span><span>
</span><span id="line-1330"></span><span>
</span><span id="line-1331"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1332"></span><span class="hs-comment">-- Transaction fee calculation</span><span>
</span><span id="line-1333"></span><span class="hs-comment">--</span><span>
</span><span id="line-1334"></span><span>
</span><span id="line-1335"></span><span id="local-6989586621681529450"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinFeeCmd"><span class="hs-identifier hs-type">runTransactionCalculateMinFeeCmd</span></a></span><span>
</span><span id="line-1336"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1337"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinFeeCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinFeeCmdArgs</span></a></span><span>
</span><span id="line-1338"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529450"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1339"></span><span id="runTransactionCalculateMinFeeCmd"><span class="annot"><span class="annottext">runTransactionCalculateMinFeeCmd :: forall e. TransactionCalculateMinFeeCmdArgs -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinFeeCmd"><span class="hs-identifier hs-var hs-var">runTransactionCalculateMinFeeCmd</span></a></span></span><span>
</span><span id="line-1340"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinFeeCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinFeeCmdArgs</span></a></span><span>
</span><span id="line-1341"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txBodyFile :: TransactionCalculateMinFeeCmdArgs -&gt; File (TxBody ()) 'In
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txBodyFile"><span class="hs-identifier hs-var">txBodyFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681532333"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532333"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span>
</span><span id="line-1342"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamsFile :: TransactionCalculateMinFeeCmdArgs -&gt; ProtocolParamsFile
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#protocolParamsFile"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681532335"><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681532335"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span></span><span>
</span><span id="line-1343"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txShelleyWitnessCount :: TransactionCalculateMinFeeCmdArgs -&gt; TxShelleyWitnessCount
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txShelleyWitnessCount"><span class="hs-identifier hs-var">txShelleyWitnessCount</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxShelleyWitnessCount"><span class="hs-identifier hs-type">TxShelleyWitnessCount</span></a></span><span> </span><span id="local-6989586621681532338"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532338"><span class="hs-identifier hs-var">nShelleyKeyWitnesses</span></a></span></span><span>
</span><span id="line-1344"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txByronWitnessCount :: TransactionCalculateMinFeeCmdArgs -&gt; TxByronWitnessCount
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txByronWitnessCount"><span class="hs-identifier hs-var">txByronWitnessCount</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxByronWitnessCount"><span class="hs-identifier hs-type">TxByronWitnessCount</span></a></span><span> </span><span id="local-6989586621681532341"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532341"><span class="hs-identifier hs-var">nByronKeyWitnesses</span></a></span></span><span>
</span><span id="line-1345"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">referenceScriptSize :: TransactionCalculateMinFeeCmdArgs -&gt; ReferenceScriptSize
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#referenceScriptSize"><span class="hs-identifier hs-var">referenceScriptSize</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#ReferenceScriptSize"><span class="hs-identifier hs-type">ReferenceScriptSize</span></a></span><span> </span><span id="local-6989586621681532344"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532344"><span class="hs-identifier hs-var">sReferenceScript</span></a></span></span><span>
</span><span id="line-1346"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532345"><span class="annot"><span class="annottext">Vary '[FormatJson, FormatText, FormatYaml]
outputFormat :: Vary '[FormatJson, FormatText, FormatYaml]
outputFormat :: TransactionCalculateMinFeeCmdArgs
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
</span><a href="#local-6989586621681532345"><span class="hs-identifier hs-var hs-var">outputFormat</span></a></span></span><span>
</span><span id="line-1347"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532347"><span class="annot"><span class="annottext">Maybe (File () 'Out)
outFile :: Maybe (File () 'Out)
outFile :: TransactionCalculateMinFeeCmdArgs -&gt; Maybe (File () 'Out)
</span><a href="#local-6989586621681532347"><span class="hs-identifier hs-var hs-var">outFile</span></a></span></span><span>
</span><span id="line-1348"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1349"></span><span>    </span><span id="local-6989586621681532349"><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532349"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; RIO e FileOrPipe
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; RIO e FileOrPipe)
-&gt; IO FileOrPipe -&gt; RIO e FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532333"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1350"></span><span>    </span><span id="local-6989586621681532350"><span class="annot"><span class="annottext">IncompleteTxBody
</span><a href="#local-6989586621681532350"><span class="hs-identifier hs-var">unwitnessed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1351"></span><span>      </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; RIO e IncompleteTxBody
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
 -&gt; RIO e IncompleteTxBody)
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; RIO e IncompleteTxBody
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1352"></span><span>        </span><span class="annot"><span class="annottext">FileOrPipe
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
</span><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-var">readFileTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532349"><span class="hs-identifier hs-var">txbodyFile</span></a></span><span>
</span><span id="line-1353"></span><span>
</span><span id="line-1354"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532351"><span class="annot"><span class="annottext">nShelleyKeyWitW32 :: Word
</span><a href="#local-6989586621681532351"><span class="hs-identifier hs-var hs-var">nShelleyKeyWitW32</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532338"><span class="hs-identifier hs-var">nShelleyKeyWitnesses</span></a></span><span>
</span><span id="line-1355"></span><span>
</span><span id="line-1356"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532414"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532414"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681532415"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532415"><span class="hs-identifier hs-var">txbody</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody -&gt; RIO e (InAnyShelleyBasedEra TxBody)
forall a. a -&gt; RIO e a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyShelleyBasedEra TxBody
 -&gt; RIO e (InAnyShelleyBasedEra TxBody))
-&gt; InAnyShelleyBasedEra TxBody
-&gt; RIO e (InAnyShelleyBasedEra TxBody)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IncompleteTxBody -&gt; InAnyShelleyBasedEra TxBody
</span><a href="Cardano.CLI.Read.html#unIncompleteTxBody"><span class="hs-identifier hs-var">unIncompleteTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">IncompleteTxBody
</span><a href="#local-6989586621681532350"><span class="hs-identifier hs-var">unwitnessed</span></a></span><span>
</span><span id="line-1357"></span><span>
</span><span id="line-1358"></span><span>    </span><span id="local-6989586621681532417"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532417"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either (DeprecatedEra era) (Era era) -&gt; RIO e (Era era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
Either e a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-var">fromEitherCli</span></a></span><span> </span><span class="annot"><span class="annottext">(Either (DeprecatedEra era) (Era era) -&gt; RIO e (Era era))
-&gt; Either (DeprecatedEra era) (Era era) -&gt; RIO e (Era era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Either (DeprecatedEra era) (Era era)
forall era (m :: * -&gt; *).
MonadError (DeprecatedEra era) m =&gt;
ShelleyBasedEra era -&gt; m (Era era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#sbeToEra"><span class="hs-identifier hs-var">Exp.sbeToEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532414"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-1359"></span><span>    </span><span id="local-6989586621681532419"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532419"><span class="hs-identifier hs-var">lpparams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1360"></span><span>      </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.CLI.Type.Error.ProtocolParamsError.html#ProtocolParamsError"><span class="hs-identifier hs-type">ProtocolParamsError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
 -&gt; RIO e (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
-&gt; RIO e (PParams (ShelleyLedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1361"></span><span>        </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">Exp.obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532417"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt;
  ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
 -&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1362"></span><span>          </span><span class="annot"><span class="annottext">ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
forall era.
IsEra era =&gt;
ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-var">readProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681532335"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span>
</span><span id="line-1363"></span><span>
</span><span id="line-1364"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532425"><span class="annot"><span class="annottext">shelleyfee :: Lovelace
</span><a href="#local-6989586621681532425"><span class="hs-identifier hs-var hs-var">shelleyfee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era)
-&gt; TxBody era
-&gt; Word
-&gt; Word
-&gt; Int
-&gt; Lovelace
forall era.
ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era)
-&gt; TxBody era
-&gt; Word
-&gt; Word
-&gt; Int
-&gt; Lovelace
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#evaluateTransactionFee"><span class="hs-identifier hs-var">evaluateTransactionFee</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532414"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532419"><span class="hs-identifier hs-var">lpparams</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532415"><span class="hs-identifier hs-var">txbody</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681532351"><span class="hs-identifier hs-var">nShelleyKeyWitW32</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532344"><span class="hs-identifier hs-var">sReferenceScript</span></a></span><span>
</span><span id="line-1365"></span><span>
</span><span id="line-1366"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532427"><span class="annot"><span class="annottext">byronfee :: Lovelace
</span><a href="#local-6989586621681532427"><span class="hs-identifier hs-var hs-var">byronfee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1367"></span><span>          </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt; Lovelace) -&gt; Lovelace
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532414"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt; Lovelace) -&gt; Lovelace)
-&gt; (ShelleyBasedEraConstraints era =&gt; Lovelace) -&gt; Lovelace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1368"></span><span>            </span><span class="annot"><span class="annottext">Lovelace -&gt; Int -&gt; Lovelace
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#calculateByronWitnessFees"><span class="hs-identifier hs-var">calculateByronWitnessFees</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532419"><span class="hs-identifier hs-var">lpparams</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
-&gt; Getting Lovelace (PParams (ShelleyLedgerEra era)) Lovelace
-&gt; Lovelace
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Lovelace (PParams (ShelleyLedgerEra era)) Lovelace
forall era. EraPParams era =&gt; Lens' (PParams era) Lovelace
Lens' (PParams (ShelleyLedgerEra era)) Lovelace
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.PParams.html#ppMinFeeAL"><span class="hs-identifier hs-var">L.ppMinFeeAL</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532341"><span class="hs-identifier hs-var">nByronKeyWitnesses</span></a></span><span>
</span><span id="line-1369"></span><span>
</span><span id="line-1370"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532435"><span class="annot"><span class="annottext">fee :: Lovelace
</span><a href="#local-6989586621681532435"><span class="hs-identifier hs-var hs-var">fee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681532425"><span class="hs-identifier hs-var">shelleyfee</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Lovelace -&gt; Lovelace
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681532427"><span class="hs-identifier hs-var">byronfee</span></a></span><span>
</span><span id="line-1371"></span><span>        </span><span id="local-6989586621681532437"><span class="annot"><span class="annottext">textToWrite :: Text
</span><a href="#local-6989586621681532437"><span class="hs-identifier hs-var hs-var">textToWrite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Pretty.html#docToText"><span class="hs-identifier hs-var">docToText</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc AnsiStyle -&gt; Text) -&gt; Doc AnsiStyle -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Doc AnsiStyle
forall ann. Lovelace -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681532435"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-1372"></span><span>        </span><span id="local-6989586621681532439"><span class="annot"><span class="annottext">content :: Value
</span><a href="#local-6989586621681532439"><span class="hs-identifier hs-var hs-var">content</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fee&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Lovelace -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681532435"><span class="hs-identifier hs-var">fee</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1373"></span><span>
</span><span id="line-1374"></span><span>    </span><span class="annot"><span class="annottext">Vary '[FormatJson, FormatText, FormatYaml]
</span><a href="#local-6989586621681532345"><span class="hs-identifier hs-var">outputFormat</span></a></span><span>
</span><span id="line-1375"></span><span>      </span><span class="annot"><span class="annottext">Vary '[FormatJson, FormatText, FormatYaml]
-&gt; (Vary '[FormatJson, FormatText, FormatYaml] -&gt; RIO e ())
-&gt; RIO e ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(Vary '[FormatJson, FormatText, FormatYaml] -&gt; RIO e ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; RIO e ()
forall a. a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-1376"></span><span>            </span><span class="annot"><span class="annottext">((Vary '[FormatJson, FormatText, FormatYaml] -&gt; RIO e ())
 -&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; RIO e ())
-&gt; ((Vary '[] -&gt; RIO e ())
    -&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; RIO e ())
-&gt; (Vary '[] -&gt; RIO e ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
-&gt; RIO e ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(FormatJson -&gt; RIO e ())
-&gt; (Vary '[FormatText, FormatYaml] -&gt; RIO e ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
-&gt; RIO e ()
forall a b (l :: [*]).
(a -&gt; b) -&gt; (Vary l -&gt; b) -&gt; Vary (a : l) -&gt; b
</span><span class="hs-identifier hs-var">Vary.on</span></span><span>
</span><span id="line-1377"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatJson
</span><a href="Cardano.CLI.Type.Common.html#FormatJson"><span class="hs-identifier hs-var">FormatJson</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="#local-6989586621681532347"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1378"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1379"></span><span>                    </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeJson"><span class="hs-identifier hs-var">Json.encodeJson</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681532439"><span class="hs-identifier hs-var">content</span></a></span><span>
</span><span id="line-1380"></span><span>                  </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681532445"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532445"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1381"></span><span>                    </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Error.html#FileError"><span class="hs-identifier hs-type">FileError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1382"></span><span>                      </span><span class="annot"><span class="annottext">File () 'Out -&gt; ByteString -&gt; IO (Either (FileError ()) ())
forall (m :: * -&gt; *) content e.
MonadIO m =&gt;
File content 'Out -&gt; ByteString -&gt; m (Either (FileError e) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.html#writeLazyByteStringFile"><span class="hs-identifier hs-var">writeLazyByteStringFile</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532445"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO (Either (FileError ()) ()))
-&gt; ByteString -&gt; IO (Either (FileError ()) ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1383"></span><span>                        </span><span class="annot"><span class="annottext">Value -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeJson"><span class="hs-identifier hs-var">Json.encodeJson</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681532439"><span class="hs-identifier hs-var">content</span></a></span><span>
</span><span id="line-1384"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-1385"></span><span>            </span><span class="annot"><span class="annottext">((Vary '[FormatText, FormatYaml] -&gt; RIO e ())
 -&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; RIO e ())
-&gt; ((Vary '[] -&gt; RIO e ())
    -&gt; Vary '[FormatText, FormatYaml] -&gt; RIO e ())
-&gt; (Vary '[] -&gt; RIO e ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
-&gt; RIO e ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(FormatText -&gt; RIO e ())
-&gt; (Vary '[FormatYaml] -&gt; RIO e ())
-&gt; Vary '[FormatText, FormatYaml]
-&gt; RIO e ()
forall a b (l :: [*]).
(a -&gt; b) -&gt; (Vary l -&gt; b) -&gt; Vary (a : l) -&gt; b
</span><span class="hs-identifier hs-var">Vary.on</span></span><span>
</span><span id="line-1386"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatText
</span><a href="Cardano.CLI.Type.Common.html#FormatText"><span class="hs-identifier hs-var">FormatText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="#local-6989586621681532347"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1387"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1388"></span><span>                    </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/text-2.1.1-inplace/src/Data.Text.IO.html#putStrLn"><span class="hs-identifier hs-var">Text.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681532437"><span class="hs-identifier hs-var">textToWrite</span></a></span><span>
</span><span id="line-1389"></span><span>                  </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681532449"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532449"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1390"></span><span>                    </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Error.html#FileError"><span class="hs-identifier hs-type">FileError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out -&gt; Text -&gt; IO (Either (FileError ()) ())
forall (m :: * -&gt; *) content e.
MonadIO m =&gt;
File content 'Out -&gt; Text -&gt; m (Either (FileError e) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.html#writeTextFile"><span class="hs-identifier hs-var">writeTextFile</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532449"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681532437"><span class="hs-identifier hs-var">textToWrite</span></a></span><span>
</span><span id="line-1391"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-1392"></span><span>            </span><span class="annot"><span class="annottext">((Vary '[FormatYaml] -&gt; RIO e ())
 -&gt; Vary '[FormatText, FormatYaml] -&gt; RIO e ())
-&gt; ((Vary '[] -&gt; RIO e ()) -&gt; Vary '[FormatYaml] -&gt; RIO e ())
-&gt; (Vary '[] -&gt; RIO e ())
-&gt; Vary '[FormatText, FormatYaml]
-&gt; RIO e ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(FormatYaml -&gt; RIO e ())
-&gt; (Vary '[] -&gt; RIO e ()) -&gt; Vary '[FormatYaml] -&gt; RIO e ()
forall a b (l :: [*]).
(a -&gt; b) -&gt; (Vary l -&gt; b) -&gt; Vary (a : l) -&gt; b
</span><span class="hs-identifier hs-var">Vary.on</span></span><span>
</span><span id="line-1393"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatYaml
</span><a href="Cardano.CLI.Type.Common.html#FormatYaml"><span class="hs-identifier hs-var">FormatYaml</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="#local-6989586621681532347"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1394"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1395"></span><span>                    </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeYaml"><span class="hs-identifier hs-var">Json.encodeYaml</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681532439"><span class="hs-identifier hs-var">content</span></a></span><span>
</span><span id="line-1396"></span><span>                  </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681532453"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532453"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1397"></span><span>                    </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Error.html#FileError"><span class="hs-identifier hs-type">FileError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1398"></span><span>                      </span><span class="annot"><span class="annottext">File () 'Out -&gt; ByteString -&gt; IO (Either (FileError ()) ())
forall (m :: * -&gt; *) content e.
MonadIO m =&gt;
File content 'Out -&gt; ByteString -&gt; m (Either (FileError e) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.html#writeLazyByteStringFile"><span class="hs-identifier hs-var">writeLazyByteStringFile</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532453"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO (Either (FileError ()) ()))
-&gt; ByteString -&gt; IO (Either (FileError ()) ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1399"></span><span>                        </span><span class="annot"><span class="annottext">Value -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeYaml"><span class="hs-identifier hs-var">Json.encodeYaml</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681532439"><span class="hs-identifier hs-var">content</span></a></span><span>
</span><span id="line-1400"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-1401"></span><span>            </span><span class="annot"><span class="annottext">((Vary '[] -&gt; RIO e ())
 -&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; RIO e ())
-&gt; (Vary '[] -&gt; RIO e ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
-&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Vary '[] -&gt; RIO e ()
forall anything. Vary '[] -&gt; anything
</span><span class="hs-identifier hs-var">Vary.exhaustiveCase</span></span><span>
</span><span id="line-1402"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1403"></span><span>
</span><span id="line-1404"></span><span class="hs-comment">-- Extra logic to handle byron witnesses.</span><span>
</span><span id="line-1405"></span><span class="hs-comment">-- TODO: move this to Cardano.API.Fee.evaluateTransactionFee.</span><span>
</span><span id="line-1406"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#calculateByronWitnessFees"><span class="hs-identifier hs-type">calculateByronWitnessFees</span></a></span><span>
</span><span id="line-1407"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1408"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-1409"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The tx fee per byte (from protocol parameters)</span></span><span>
</span><span id="line-1410"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-1411"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The number of Byron key witnesses</span></span><span>
</span><span id="line-1412"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-1413"></span><span id="calculateByronWitnessFees"><span class="annot"><span class="annottext">calculateByronWitnessFees :: Lovelace -&gt; Int -&gt; Lovelace
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#calculateByronWitnessFees"><span class="hs-identifier hs-var hs-var">calculateByronWitnessFees</span></a></span></span><span> </span><span id="local-6989586621681532455"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681532455"><span class="hs-identifier hs-var">txFeePerByte</span></a></span></span><span> </span><span id="local-6989586621681532456"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532456"><span class="hs-identifier hs-var">byronwitcount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1414"></span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; Lovelace
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">L.Coin</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Lovelace) -&gt; Integer -&gt; Lovelace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1415"></span><span>    </span><span class="annot"><span class="annottext">Lovelace -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Real.html#toInteger"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681532455"><span class="hs-identifier hs-var">txFeePerByte</span></a></span><span>
</span><span id="line-1416"></span><span>      </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Real.html#toInteger"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532456"><span class="hs-identifier hs-var">byronwitcount</span></a></span><span>
</span><span id="line-1417"></span><span>      </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Real.html#toInteger"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532459"><span class="hs-identifier hs-var">sizeByronKeyWitnesses</span></a></span><span>
</span><span id="line-1418"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1419"></span><span>  </span><span id="local-6989586621681532459"><span class="annot"><span class="annottext">sizeByronKeyWitnesses :: Int
</span><a href="#local-6989586621681532459"><span class="hs-identifier hs-var hs-var">sizeByronKeyWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532460"><span class="hs-identifier hs-var">smallArray</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532461"><span class="hs-identifier hs-var">keyObj</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532462"><span class="hs-identifier hs-var">sigObj</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532463"><span class="hs-identifier hs-var">ccodeObj</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532464"><span class="hs-identifier hs-var">attrsObj</span></a></span><span>
</span><span id="line-1420"></span><span>
</span><span id="line-1421"></span><span>  </span><span id="local-6989586621681532460"><span class="annot"><span class="annottext">smallArray :: Int
</span><a href="#local-6989586621681532460"><span class="hs-identifier hs-var hs-var">smallArray</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-1422"></span><span>
</span><span id="line-1423"></span><span>  </span><span id="local-6989586621681532461"><span class="annot"><span class="annottext">keyObj :: Int
</span><a href="#local-6989586621681532461"><span class="hs-identifier hs-var hs-var">keyObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532466"><span class="hs-identifier hs-var">keyLen</span></a></span><span>
</span><span id="line-1424"></span><span>  </span><span id="local-6989586621681532466"><span class="annot"><span class="annottext">keyLen :: Int
</span><a href="#local-6989586621681532466"><span class="hs-identifier hs-var hs-var">keyLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span>
</span><span id="line-1425"></span><span>
</span><span id="line-1426"></span><span>  </span><span id="local-6989586621681532462"><span class="annot"><span class="annottext">sigObj :: Int
</span><a href="#local-6989586621681532462"><span class="hs-identifier hs-var hs-var">sigObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532468"><span class="hs-identifier hs-var">sigLen</span></a></span><span>
</span><span id="line-1427"></span><span>  </span><span id="local-6989586621681532468"><span class="annot"><span class="annottext">sigLen :: Int
</span><a href="#local-6989586621681532468"><span class="hs-identifier hs-var hs-var">sigLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">64</span></span><span>
</span><span id="line-1428"></span><span>
</span><span id="line-1429"></span><span>  </span><span id="local-6989586621681532463"><span class="annot"><span class="annottext">ccodeObj :: Int
</span><a href="#local-6989586621681532463"><span class="hs-identifier hs-var hs-var">ccodeObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681532470"><span class="hs-identifier hs-var">ccodeLen</span></a></span><span>
</span><span id="line-1430"></span><span>  </span><span id="local-6989586621681532470"><span class="annot"><span class="annottext">ccodeLen :: Int
</span><a href="#local-6989586621681532470"><span class="hs-identifier hs-var hs-var">ccodeLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span>
</span><span id="line-1431"></span><span>
</span><span id="line-1432"></span><span>  </span><span id="local-6989586621681532464"><span class="annot"><span class="annottext">attrsObj :: Int
</span><a href="#local-6989586621681532464"><span class="hs-identifier hs-var hs-var">attrsObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.html#length"><span class="hs-identifier hs-var">Data.Bytestring.length</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621681532475"><span class="hs-identifier hs-var">attributes</span></a></span><span>
</span><span id="line-1433"></span><span>
</span><span id="line-1434"></span><span>  </span><span class="hs-comment">-- We assume testnet network magic here to avoid having</span><span>
</span><span id="line-1435"></span><span>  </span><span class="hs-comment">-- to thread the actual network ID into this function</span><span>
</span><span id="line-1436"></span><span>  </span><span class="hs-comment">-- merely to calculate the fees of byron witnesses more accurately.</span><span>
</span><span id="line-1437"></span><span>  </span><span class="hs-comment">-- This may slightly over-estimate min fees for byron witnesses</span><span>
</span><span id="line-1438"></span><span>  </span><span class="hs-comment">-- in mainnet transaction by one Word32 per witness.</span><span>
</span><span id="line-1439"></span><span>  </span><span id="local-6989586621681532475"><span class="annot"><span class="annottext">attributes :: ByteString
</span><a href="#local-6989586621681532475"><span class="hs-identifier hs-var hs-var">attributes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1440"></span><span>    </span><span class="annot"><span class="annottext">Attributes AddrAttributes -&gt; ByteString
forall a. ToCBOR a =&gt; a -&gt; ByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-binary-1.7.2.0-579c4455999545449e0c3353d2e39fed055e9a4429df3cfba8bab4b9d5885bb8/share/doc/html/src/Cardano.Binary.Serialize.html#serialize%27"><span class="hs-identifier hs-var">CBOR.serialize'</span></a></span><span> </span><span class="annot"><span class="annottext">(Attributes AddrAttributes -&gt; ByteString)
-&gt; Attributes AddrAttributes -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1441"></span><span>      </span><span class="annot"><span class="annottext">AddrAttributes -&gt; Attributes AddrAttributes
forall h. h -&gt; Attributes h
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-byron-1.2.0.0-40d2b8a81df85a49e4ac993959fc2bbcd96db1ce6f3db76397ac7b36fe6b3b4e/share/doc/html/src/Cardano.Chain.Common.Attributes.html#mkAttributes"><span class="hs-identifier hs-var">Byron.mkAttributes</span></a></span><span>
</span><span id="line-1442"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-byron-1.2.0.0-40d2b8a81df85a49e4ac993959fc2bbcd96db1ce6f3db76397ac7b36fe6b3b4e/share/doc/html/src/Cardano.Chain.Common.AddrAttributes.html#AddrAttributes"><span class="hs-identifier hs-type">Byron.AddrAttributes</span></a></span><span>
</span><span id="line-1443"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">aaVKDerivationPath :: Maybe HDAddressPayload
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-byron-1.2.0.0-40d2b8a81df85a49e4ac993959fc2bbcd96db1ce6f3db76397ac7b36fe6b3b4e/share/doc/html/src/Cardano.Chain.Common.AddrAttributes.html#aaVKDerivationPath"><span class="hs-identifier hs-var">Byron.aaVKDerivationPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe HDAddressPayload
forall a. Maybe a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1444"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">aaNetworkMagic :: NetworkMagic
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-byron-1.2.0.0-40d2b8a81df85a49e4ac993959fc2bbcd96db1ce6f3db76397ac7b36fe6b3b4e/share/doc/html/src/Cardano.Chain.Common.AddrAttributes.html#aaNetworkMagic"><span class="hs-identifier hs-var">Byron.aaNetworkMagic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; NetworkMagic
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-byron-1.2.0.0-40d2b8a81df85a49e4ac993959fc2bbcd96db1ce6f3db76397ac7b36fe6b3b4e/share/doc/html/src/Cardano.Chain.Common.NetworkMagic.html#NetworkTestnet"><span class="hs-identifier hs-var">Byron.NetworkTestnet</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
forall a. Bounded a =&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Enum.html#maxBound"><span class="hs-identifier hs-var">maxBound</span></a></span><span>
</span><span id="line-1445"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-1446"></span><span>
</span><span id="line-1447"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1448"></span><span class="hs-comment">-- Transaction fee calculation</span><span>
</span><span id="line-1449"></span><span class="hs-comment">--</span><span>
</span><span id="line-1450"></span><span>
</span><span id="line-1451"></span><span id="local-6989586621681529452"><span id="local-6989586621681529453"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinValueCmd"><span class="hs-identifier hs-type">runTransactionCalculateMinValueCmd</span></a></span><span>
</span><span id="line-1452"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1453"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinValueCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinValueCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529452"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1454"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529453"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1455"></span><span id="runTransactionCalculateMinValueCmd"><span class="annot"><span class="annottext">runTransactionCalculateMinValueCmd :: forall era e. TransactionCalculateMinValueCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinValueCmd"><span class="hs-identifier hs-var hs-var">runTransactionCalculateMinValueCmd</span></a></span></span><span>
</span><span id="line-1456"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinValueCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinValueCmdArgs</span></a></span><span>
</span><span id="line-1457"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681532503"><span class="annot"><span class="annottext">Era era
era :: Era era
era :: forall era. TransactionCalculateMinValueCmdArgs era -&gt; Era era
</span><a href="#local-6989586621681532503"><span class="hs-identifier hs-var hs-var">era</span></a></span></span><span>
</span><span id="line-1458"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532505"><span class="annot"><span class="annottext">ProtocolParamsFile
protocolParamsFile :: ProtocolParamsFile
protocolParamsFile :: forall era.
TransactionCalculateMinValueCmdArgs era -&gt; ProtocolParamsFile
</span><a href="#local-6989586621681532505"><span class="hs-identifier hs-var hs-var">protocolParamsFile</span></a></span></span><span>
</span><span id="line-1459"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532507"><span class="annot"><span class="annottext">TxOutShelleyBasedEra
txOut :: TxOutShelleyBasedEra
txOut :: forall era.
TransactionCalculateMinValueCmdArgs era -&gt; TxOutShelleyBasedEra
</span><a href="#local-6989586621681532507"><span class="hs-identifier hs-var hs-var">txOut</span></a></span></span><span>
</span><span id="line-1460"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1461"></span><span>    </span><span id="local-6989586621681532509"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532509"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1462"></span><span>      </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.CLI.Type.Error.ProtocolParamsError.html#ProtocolParamsError"><span class="hs-identifier hs-type">ProtocolParamsError</span></a></span><span>
</span><span id="line-1463"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532503"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt;
  ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
 -&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
forall era.
IsEra era =&gt;
ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-var">readProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681532505"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1464"></span><span>    </span><span id="local-6989586621681532515"><span class="annot"><span class="annottext">TxOut CtxTx era
</span><a href="#local-6989586621681532515"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; RIO e (TxOut CtxTx era))
-&gt; RIO e (TxOut CtxTx era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532503"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; RIO e (TxOut CtxTx era))
 -&gt; RIO e (TxOut CtxTx era))
-&gt; (EraCommonConstraints era =&gt; RIO e (TxOut CtxTx era))
-&gt; RIO e (TxOut CtxTx era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutShelleyBasedEra -&gt; CIO e (TxOut CtxTx era)
forall era e.
IsEra era =&gt;
TxOutShelleyBasedEra -&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-var">toTxOutInShelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutShelleyBasedEra
</span><a href="#local-6989586621681532507"><span class="hs-identifier hs-var">txOut</span></a></span><span>
</span><span id="line-1465"></span><span>
</span><span id="line-1466"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532521"><span class="annot"><span class="annottext">minValue :: Lovelace
</span><a href="#local-6989586621681532521"><span class="hs-identifier hs-var hs-var">minValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era) -&gt; TxOut CtxTx era -&gt; Lovelace
forall era.
HasCallStack =&gt;
ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era) -&gt; TxOut CtxTx era -&gt; Lovelace
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#calculateMinimumUTxO"><span class="hs-identifier hs-var">calculateMinimumUTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532503"><span class="hs-identifier hs-var">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532509"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut CtxTx era
</span><a href="#local-6989586621681532515"><span class="hs-identifier hs-var">out</span></a></span><span>
</span><span id="line-1467"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; (Lovelace -&gt; IO ()) -&gt; Lovelace -&gt; RIO e ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; IO ()
forall a. Show a =&gt; a -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/System.IO.html#print"><span class="hs-identifier hs-var">IO.print</span></a></span><span> </span><span class="annot"><span class="annottext">(Lovelace -&gt; RIO e ()) -&gt; Lovelace -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681532521"><span class="hs-identifier hs-var">minValue</span></a></span><span>
</span><span id="line-1468"></span><span>
</span><span id="line-1469"></span><span id="local-6989586621681529455"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculatePlutusScriptCostCmd"><span class="hs-identifier hs-type">runTransactionCalculatePlutusScriptCostCmd</span></a></span><span>
</span><span id="line-1470"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculatePlutusScriptCostCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculatePlutusScriptCostCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529455"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1471"></span><span id="runTransactionCalculatePlutusScriptCostCmd"><span class="annot"><span class="annottext">runTransactionCalculatePlutusScriptCostCmd :: forall era.
TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculatePlutusScriptCostCmd"><span class="hs-identifier hs-var hs-var">runTransactionCalculatePlutusScriptCostCmd</span></a></span></span><span>
</span><span id="line-1472"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculatePlutusScriptCostCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculatePlutusScriptCostCmdArgs</span></a></span><span>
</span><span id="line-1473"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681532530"><span class="annot"><span class="annottext">NodeContextInfoSource era
nodeContextInfoSource :: NodeContextInfoSource era
nodeContextInfoSource :: forall era.
TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; NodeContextInfoSource era
</span><a href="#local-6989586621681532530"><span class="hs-identifier hs-var hs-var">nodeContextInfoSource</span></a></span></span><span>
</span><span id="line-1474"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532532"><span class="annot"><span class="annottext">FilePath
txFileIn :: FilePath
txFileIn :: forall era.
TransactionCalculatePlutusScriptCostCmdArgs era -&gt; FilePath
</span><a href="#local-6989586621681532532"><span class="hs-identifier hs-var hs-var">txFileIn</span></a></span></span><span>
</span><span id="line-1475"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532534"><span class="annot"><span class="annottext">Maybe (File () 'Out)
outputFile :: Maybe (File () 'Out)
outputFile :: forall era.
TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; Maybe (File () 'Out)
</span><a href="#local-6989586621681532534"><span class="hs-identifier hs-var hs-var">outputFile</span></a></span></span><span>
</span><span id="line-1476"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1477"></span><span>    </span><span id="local-6989586621681532536"><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532536"><span class="hs-identifier hs-var">txFileOrPipeIn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532532"><span class="hs-identifier hs-var">txFileIn</span></a></span><span>
</span><span id="line-1478"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532572"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532572"><span class="hs-identifier hs-var">txEra</span></a></span></span><span> </span><span id="local-6989586621681532573"><span class="annot"><span class="annottext">tx :: Tx era
</span><a href="#local-6989586621681532573"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTx"><span class="hs-identifier hs-type">ShelleyTx</span></a></span><span> </span><span id="local-6989586621681532574"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532574"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681532575"><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532575"><span class="hs-identifier hs-var">ledgerTx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1479"></span><span>      </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FileOrPipe
-&gt; IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
</span><a href="Cardano.CLI.Read.html#readFileTx"><span class="hs-identifier hs-var">readFileTx</span></a></span><span> </span><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532536"><span class="hs-identifier hs-var">txFileOrPipeIn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
    -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError
 -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; (FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; FileError TextEnvelopeError
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1480"></span><span>
</span><span id="line-1481"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621681532576"><span class="hs-identifier hs-type">relevantTxIns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span>
</span><span id="line-1482"></span><span>        </span><span id="local-6989586621681532576"><span class="annot"><span class="annottext">relevantTxIns :: Set TxIn
</span><a href="#local-6989586621681532576"><span class="hs-identifier hs-var hs-var">relevantTxIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxIn -&gt; TxIn) -&gt; Set TxIn -&gt; Set TxIn
forall b a. Ord b =&gt; (a -&gt; b) -&gt; Set a -&gt; Set b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#map"><span class="hs-identifier hs-var">Set.map</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#fromShelleyTxIn"><span class="hs-identifier hs-var">fromShelleyTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">(Set TxIn -&gt; Set TxIn) -&gt; Set TxIn -&gt; Set TxIn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt; Set TxIn) -&gt; Set TxIn
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532574"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532575"><span class="hs-identifier hs-var">ledgerTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
-&gt; Getting (Set TxIn) (Tx (ShelleyLedgerEra era)) (Set TxIn)
-&gt; Set TxIn
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">(TxBody (ShelleyLedgerEra era)
 -&gt; Const (Set TxIn) (TxBody (ShelleyLedgerEra era)))
-&gt; Tx (ShelleyLedgerEra era)
-&gt; Const (Set TxIn) (Tx (ShelleyLedgerEra era))
forall era. EraTx era =&gt; Lens' (Tx era) (TxBody era)
Lens' (Tx (ShelleyLedgerEra era)) (TxBody (ShelleyLedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.html#bodyTxL"><span class="hs-identifier hs-var">bodyTxL</span></a></span><span> </span><span class="annot"><span class="annottext">((TxBody (ShelleyLedgerEra era)
  -&gt; Const (Set TxIn) (TxBody (ShelleyLedgerEra era)))
 -&gt; Tx (ShelleyLedgerEra era)
 -&gt; Const (Set TxIn) (Tx (ShelleyLedgerEra era)))
-&gt; ((Set TxIn -&gt; Const (Set TxIn) (Set TxIn))
    -&gt; TxBody (ShelleyLedgerEra era)
    -&gt; Const (Set TxIn) (TxBody (ShelleyLedgerEra era)))
-&gt; Getting (Set TxIn) (Tx (ShelleyLedgerEra era)) (Set TxIn)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Set TxIn -&gt; Const (Set TxIn) (Set TxIn))
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; Const (Set TxIn) (TxBody (ShelleyLedgerEra era))
forall era. EraTxBody era =&gt; SimpleGetter (TxBody era) (Set TxIn)
SimpleGetter (TxBody (ShelleyLedgerEra era)) (Set TxIn)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-core-1.18.0.0-6e0250e78e8ec6677b892ee29e3f389b726c8808e593e0b6a9e376b9310642ba/share/doc/html/src/Cardano.Ledger.Core.html#allInputsTxBodyF"><span class="hs-identifier hs-var">allInputsTxBodyF</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1483"></span><span>
</span><span id="line-1484"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span id="local-6989586621681532596"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681532596"><span class="hs-identifier hs-var">nodeEra</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532597"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532597"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532598"><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681532598"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532599"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532599"><span class="hs-identifier hs-var">txEraUtxo</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532600"><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681532600"><span class="hs-identifier hs-var">pparams</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1485"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NodeContextInfoSource era
</span><a href="#local-6989586621681532530"><span class="hs-identifier hs-var">nodeContextInfoSource</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1486"></span><span>        </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#NodeConnectionInfo"><span class="hs-identifier hs-type">NodeConnectionInfo</span></a></span><span> </span><span id="local-6989586621681532602"><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681532602"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1487"></span><span>          </span><span class="annot"><span class="annottext">IO
  (Either
     AcquiringFailure
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era)))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
            LedgerProtocolParameters era)))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span>
</span><span id="line-1488"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
-&gt; IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
            LedgerProtocolParameters era)))
forall a.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr BlockInMode ChainPoint QueryInMode () IO a
-&gt; IO (Either AcquiringFailure a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-var">executeLocalStateQueryExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681532602"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Target ChainPoint
forall point. Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-network-protocols-0.15.0.0-8a75db3c7530192ceb2b37ee5fd7844775e5fdcb8e5aebb7df567dc0ceaba20b/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-var">Consensus.VolatileTip</span></a></span><span> </span><span class="annot"><span class="annottext">(LocalStateQueryExpr
   BlockInMode
   ChainPoint
   QueryInMode
   ()
   IO
   (Either
      QueryConvenienceError
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
 -&gt; IO
      (Either
         AcquiringFailure
         (Either
            QueryConvenienceError
            (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
             LedgerProtocolParameters era))))
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
-&gt; IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
            LedgerProtocolParameters era)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1489"></span><span>                </span><span id="local-6989586621681532603"><span class="annot"><span class="annottext">Either UnsupportedNtcVersionError AnyCardanoEra
</span><a href="#local-6989586621681532603"><span class="hs-identifier hs-var">eCurrentEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalStateQueryExpr
  BlockInMode
  ChainPoint
  QueryInMode
  ()
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
forall block point r.
LocalStateQueryExpr
  block
  point
  QueryInMode
  r
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryCurrentEra"><span class="hs-identifier hs-var">queryCurrentEra</span></a></span><span>
</span><span id="line-1490"></span><span>                </span><span id="local-6989586621681532604"><span class="annot"><span class="annottext">Either UnsupportedNtcVersionError SystemStart
</span><a href="#local-6989586621681532604"><span class="hs-identifier hs-var">eSystemStart</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalStateQueryExpr
  BlockInMode
  ChainPoint
  QueryInMode
  ()
  IO
  (Either UnsupportedNtcVersionError SystemStart)
forall block point r.
LocalStateQueryExpr
  block
  point
  QueryInMode
  r
  IO
  (Either UnsupportedNtcVersionError SystemStart)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#querySystemStart"><span class="hs-identifier hs-var">querySystemStart</span></a></span><span>
</span><span id="line-1491"></span><span>                </span><span id="local-6989586621681532606"><span class="annot"><span class="annottext">Either UnsupportedNtcVersionError EraHistory
</span><a href="#local-6989586621681532606"><span class="hs-identifier hs-var">eEraHistory</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalStateQueryExpr
  BlockInMode
  ChainPoint
  QueryInMode
  ()
  IO
  (Either UnsupportedNtcVersionError EraHistory)
forall block point r.
LocalStateQueryExpr
  block
  point
  QueryInMode
  r
  IO
  (Either UnsupportedNtcVersionError EraHistory)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryEraHistory"><span class="hs-identifier hs-var">queryEraHistory</span></a></span><span>
</span><span id="line-1492"></span><span>                </span><span id="local-6989586621681532608"><span class="annot"><span class="annottext">Either UnsupportedNtcVersionError (Either EraMismatch (UTxO era))
</span><a href="#local-6989586621681532608"><span class="hs-identifier hs-var">eeUtxo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; QueryUTxOFilter
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either UnsupportedNtcVersionError (Either EraMismatch (UTxO era)))
forall era block point r.
ShelleyBasedEra era
-&gt; QueryUTxOFilter
-&gt; LocalStateQueryExpr
     block
     point
     QueryInMode
     r
     IO
     (Either UnsupportedNtcVersionError (Either EraMismatch (UTxO era)))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryUtxo"><span class="hs-identifier hs-var">queryUtxo</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532572"><span class="hs-identifier hs-var">txEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set TxIn -&gt; QueryUTxOFilter
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryUTxOByTxIn"><span class="hs-identifier hs-var">QueryUTxOByTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">Set TxIn
</span><a href="#local-6989586621681532576"><span class="hs-identifier hs-var">relevantTxIns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1493"></span><span>                </span><span id="local-6989586621681532611"><span class="annot"><span class="annottext">Either
  UnsupportedNtcVersionError
  (Either EraMismatch (PParams (ShelleyLedgerEra era)))
</span><a href="#local-6989586621681532611"><span class="hs-identifier hs-var">ePp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QueryInMode (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        UnsupportedNtcVersionError
        (Either EraMismatch (PParams (ShelleyLedgerEra era))))
forall a block point r.
QueryInMode a
-&gt; LocalStateQueryExpr
     block point QueryInMode r IO (Either UnsupportedNtcVersionError a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#queryExpr"><span class="hs-identifier hs-var">queryExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryInMode (Either EraMismatch (PParams (ShelleyLedgerEra era)))
 -&gt; LocalStateQueryExpr
      BlockInMode
      ChainPoint
      QueryInMode
      ()
      IO
      (Either
         UnsupportedNtcVersionError
         (Either EraMismatch (PParams (ShelleyLedgerEra era)))))
-&gt; QueryInMode
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        UnsupportedNtcVersionError
        (Either EraMismatch (PParams (ShelleyLedgerEra era))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; QueryInMode
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
forall era result1.
QueryInEra era result1 -&gt; QueryInMode (Either EraMismatch result1)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryInEra"><span class="hs-identifier hs-var">QueryInEra</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryInEra era (PParams (ShelleyLedgerEra era))
 -&gt; QueryInMode
      (Either EraMismatch (PParams (ShelleyLedgerEra era))))
-&gt; QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; QueryInMode
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
-&gt; QueryInEra era (PParams (ShelleyLedgerEra era))
forall era result.
ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era result -&gt; QueryInEra era result
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryInShelleyBasedEra"><span class="hs-identifier hs-var">QueryInShelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532574"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
forall era.
QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryProtocolParameters"><span class="hs-identifier hs-var">Api.QueryProtocolParameters</span></a></span><span>
</span><span id="line-1494"></span><span>                </span><span class="annot"><span class="annottext">Either
  QueryConvenienceError
  (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
   LedgerProtocolParameters era)
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall a.
a -&gt; LocalStateQueryExpr BlockInMode ChainPoint QueryInMode () IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Either
   QueryConvenienceError
   (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
    LedgerProtocolParameters era)
 -&gt; LocalStateQueryExpr
      BlockInMode
      ChainPoint
      QueryInMode
      ()
      IO
      (Either
         QueryConvenienceError
         (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
          LedgerProtocolParameters era)))
-&gt; Either
     QueryConvenienceError
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1495"></span><span>                  </span><span id="local-6989586621681532616"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621681532616"><span class="hs-identifier hs-var">currentEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(UnsupportedNtcVersionError -&gt; QueryConvenienceError)
-&gt; Either UnsupportedNtcVersionError AnyCardanoEra
-&gt; Either QueryConvenienceError AnyCardanoEra
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">UnsupportedNtcVersionError -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-var">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Either UnsupportedNtcVersionError AnyCardanoEra
</span><a href="#local-6989586621681532603"><span class="hs-identifier hs-var">eCurrentEra</span></a></span><span>
</span><span id="line-1496"></span><span>                  </span><span id="local-6989586621681532617"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532617"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(UnsupportedNtcVersionError -&gt; QueryConvenienceError)
-&gt; Either UnsupportedNtcVersionError SystemStart
-&gt; Either QueryConvenienceError SystemStart
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">UnsupportedNtcVersionError -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-var">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Either UnsupportedNtcVersionError SystemStart
</span><a href="#local-6989586621681532604"><span class="hs-identifier hs-var">eSystemStart</span></a></span><span>
</span><span id="line-1497"></span><span>                  </span><span id="local-6989586621681532618"><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681532618"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(UnsupportedNtcVersionError -&gt; QueryConvenienceError)
-&gt; Either UnsupportedNtcVersionError EraHistory
-&gt; Either QueryConvenienceError EraHistory
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">UnsupportedNtcVersionError -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-var">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Either UnsupportedNtcVersionError EraHistory
</span><a href="#local-6989586621681532606"><span class="hs-identifier hs-var">eEraHistory</span></a></span><span>
</span><span id="line-1498"></span><span>                  </span><span id="local-6989586621681532619"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532619"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(EraMismatch -&gt; QueryConvenienceError)
-&gt; Either EraMismatch (UTxO era)
-&gt; Either QueryConvenienceError (UTxO era)
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">EraMismatch -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QueryEraMismatch"><span class="hs-identifier hs-var">QueryEraMismatch</span></a></span><span> </span><span class="annot"><span class="annottext">(Either EraMismatch (UTxO era)
 -&gt; Either QueryConvenienceError (UTxO era))
-&gt; Either QueryConvenienceError (Either EraMismatch (UTxO era))
-&gt; Either QueryConvenienceError (UTxO era)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsupportedNtcVersionError -&gt; QueryConvenienceError)
-&gt; Either
     UnsupportedNtcVersionError (Either EraMismatch (UTxO era))
-&gt; Either QueryConvenienceError (Either EraMismatch (UTxO era))
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">UnsupportedNtcVersionError -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-var">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Either UnsupportedNtcVersionError (Either EraMismatch (UTxO era))
</span><a href="#local-6989586621681532608"><span class="hs-identifier hs-var">eeUtxo</span></a></span><span>
</span><span id="line-1499"></span><span>                  </span><span id="local-6989586621681532622"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532622"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(EraMismatch -&gt; QueryConvenienceError)
-&gt; Either EraMismatch (PParams (ShelleyLedgerEra era))
-&gt; Either QueryConvenienceError (PParams (ShelleyLedgerEra era))
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">EraMismatch -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QueryEraMismatch"><span class="hs-identifier hs-var">QueryEraMismatch</span></a></span><span> </span><span class="annot"><span class="annottext">(Either EraMismatch (PParams (ShelleyLedgerEra era))
 -&gt; Either QueryConvenienceError (PParams (ShelleyLedgerEra era)))
-&gt; Either
     QueryConvenienceError
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; Either QueryConvenienceError (PParams (ShelleyLedgerEra era))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsupportedNtcVersionError -&gt; QueryConvenienceError)
-&gt; Either
     UnsupportedNtcVersionError
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; Either
     QueryConvenienceError
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">UnsupportedNtcVersionError -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-var">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Either
  UnsupportedNtcVersionError
  (Either EraMismatch (PParams (ShelleyLedgerEra era)))
</span><a href="#local-6989586621681532611"><span class="hs-identifier hs-var">ePp</span></a></span><span>
</span><span id="line-1500"></span><span>                  </span><span class="annot"><span class="annottext">(AnyCardanoEra, SystemStart, EraHistory, UTxO era,
 LedgerProtocolParameters era)
-&gt; Either
     QueryConvenienceError
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall a. a -&gt; Either QueryConvenienceError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621681532616"><span class="hs-identifier hs-var">currentEra</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532617"><span class="hs-identifier hs-var">systemStart</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681532618"><span class="hs-identifier hs-var">eraHistory</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532619"><span class="hs-identifier hs-var">utxo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
forall era.
PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-var">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532622"><span class="hs-identifier hs-var">pp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1501"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1502"></span><span>            </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either
     AcquiringFailure
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era)))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either
         AcquiringFailure
         (Either
            QueryConvenienceError
            (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
             LedgerProtocolParameters era)))
    -&gt; ExceptT
         TxCmdError
         IO
         (Either
            QueryConvenienceError
            (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
             LedgerProtocolParameters era)))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(AcquiringFailure
 -&gt; ExceptT
      TxCmdError
      IO
      (Either
         QueryConvenienceError
         (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
          LedgerProtocolParameters era)))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
            LedgerProtocolParameters era)))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError
 -&gt; ExceptT
      TxCmdError
      IO
      (Either
         QueryConvenienceError
         (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
          LedgerProtocolParameters era)))
-&gt; (AcquiringFailure -&gt; TxCmdError)
-&gt; AcquiringFailure
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError -&gt; TxCmdError)
-&gt; (AcquiringFailure -&gt; QueryConvenienceError)
-&gt; AcquiringFailure
-&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#AcqFailure"><span class="hs-identifier hs-var">AcqFailure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1503"></span><span>            </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either
     QueryConvenienceError
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either
         QueryConvenienceError
         (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
          LedgerProtocolParameters era))
    -&gt; ExceptT
         TxCmdError
         IO
         (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
          LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError
 -&gt; ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError
 -&gt; ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; (QueryConvenienceError -&gt; TxCmdError)
-&gt; QueryConvenienceError
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1504"></span><span>        </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#ProvidedTransactionContextInfo"><span class="hs-identifier hs-type">ProvidedTransactionContextInfo</span></a></span><span>
</span><span id="line-1505"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionContext"><span class="hs-identifier hs-type">TransactionContext</span></a></span><span>
</span><span id="line-1506"></span><span>              </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681532625"><span class="annot"><span class="annottext">SystemStartOrGenesisFileSource
systemStartSource :: SystemStartOrGenesisFileSource
systemStartSource :: forall era.
TransactionContext era -&gt; SystemStartOrGenesisFileSource
</span><a href="#local-6989586621681532625"><span class="hs-identifier hs-var hs-var">systemStartSource</span></a></span></span><span>
</span><span id="line-1507"></span><span>              </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532627"><span class="annot"><span class="annottext">MustExtendSafeZone
mustExtendSafeZone :: MustExtendSafeZone
mustExtendSafeZone :: forall era. TransactionContext era -&gt; MustExtendSafeZone
</span><a href="#local-6989586621681532627"><span class="hs-identifier hs-var hs-var">mustExtendSafeZone</span></a></span></span><span>
</span><span id="line-1508"></span><span>              </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532629"><span class="annot"><span class="annottext">File EraHistory 'In
eraHistoryFile :: File EraHistory 'In
eraHistoryFile :: forall era. TransactionContext era -&gt; File EraHistory 'In
</span><a href="#local-6989586621681532629"><span class="hs-identifier hs-var hs-var">eraHistoryFile</span></a></span></span><span>
</span><span id="line-1509"></span><span>              </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532631"><span class="annot"><span class="annottext">File (Some UTxO) 'In
utxoFile :: File (Some UTxO) 'In
utxoFile :: forall era. TransactionContext era -&gt; File (Some UTxO) 'In
</span><a href="#local-6989586621681532631"><span class="hs-identifier hs-var hs-var">utxoFile</span></a></span></span><span>
</span><span id="line-1510"></span><span>              </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532633"><span class="annot"><span class="annottext">ProtocolParamsFile
protocolParamsFile :: ProtocolParamsFile
protocolParamsFile :: forall era. TransactionContext era -&gt; ProtocolParamsFile
</span><a href="#local-6989586621681532633"><span class="hs-identifier hs-var hs-var">protocolParamsFile</span></a></span></span><span>
</span><span id="line-1511"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-1512"></span><span>            </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1513"></span><span>            </span><span id="local-6989586621681532635"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532635"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either TxCmdError (Era era) -&gt; ExceptT TxCmdError IO (Era era)
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistEither</span></span><span> </span><span class="annot"><span class="annottext">(Either TxCmdError (Era era) -&gt; ExceptT TxCmdError IO (Era era))
-&gt; Either TxCmdError (Era era) -&gt; ExceptT TxCmdError IO (Era era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(DeprecatedEra era -&gt; TxCmdError)
-&gt; Either (DeprecatedEra era) (Era era)
-&gt; Either TxCmdError (Era era)
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">DeprecatedEra era -&gt; TxCmdError
forall era. DeprecatedEra era -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdDeprecatedEra"><span class="hs-identifier hs-var">TxCmdDeprecatedEra</span></a></span><span> </span><span class="annot"><span class="annottext">(Either (DeprecatedEra era) (Era era)
 -&gt; Either TxCmdError (Era era))
-&gt; Either (DeprecatedEra era) (Era era)
-&gt; Either TxCmdError (Era era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Either (DeprecatedEra era) (Era era)
forall era (m :: * -&gt; *).
MonadError (DeprecatedEra era) m =&gt;
ShelleyBasedEra era -&gt; m (Era era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#sbeToEra"><span class="hs-identifier hs-var">Exp.sbeToEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532574"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-1514"></span><span>            </span><span class="annot"><span class="annottext">Era era
-&gt; SystemStartOrGenesisFileSource
-&gt; MustExtendSafeZone
-&gt; File EraHistory 'In
-&gt; File (Some UTxO) 'In
-&gt; ProtocolParamsFile
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall era.
Era era
-&gt; SystemStartOrGenesisFileSource
-&gt; MustExtendSafeZone
-&gt; File EraHistory 'In
-&gt; File (Some UTxO) 'In
-&gt; ProtocolParamsFile
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#buildTransactionContext"><span class="hs-identifier hs-var">buildTransactionContext</span></a></span><span>
</span><span id="line-1515"></span><span>              </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532635"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-1516"></span><span>              </span><span class="annot"><span class="annottext">SystemStartOrGenesisFileSource
</span><a href="#local-6989586621681532625"><span class="hs-identifier hs-var">systemStartSource</span></a></span><span>
</span><span id="line-1517"></span><span>              </span><span class="annot"><span class="annottext">MustExtendSafeZone
</span><a href="#local-6989586621681532627"><span class="hs-identifier hs-var">mustExtendSafeZone</span></a></span><span>
</span><span id="line-1518"></span><span>              </span><span class="annot"><span class="annottext">File EraHistory 'In
</span><a href="#local-6989586621681532629"><span class="hs-identifier hs-var">eraHistoryFile</span></a></span><span>
</span><span id="line-1519"></span><span>              </span><span class="annot"><span class="annottext">File (Some UTxO) 'In
</span><a href="#local-6989586621681532631"><span class="hs-identifier hs-var">utxoFile</span></a></span><span>
</span><span id="line-1520"></span><span>              </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681532633"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span>
</span><span id="line-1521"></span><span>
</span><span id="line-1522"></span><span>    </span><span class="annot"><span class="annottext">era :~: era
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#Refl"><span class="hs-identifier hs-var">Refl</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1523"></span><span>      </span><span class="annot"><span class="annottext">CardanoEra era -&gt; CardanoEra era -&gt; Maybe (era :~: era)
forall a b. CardanoEra a -&gt; CardanoEra b -&gt; Maybe (a :~: b)
forall {k} (f :: k -&gt; *) (a :: k) (b :: k).
TestEquality f =&gt;
f a -&gt; f b -&gt; Maybe (a :~: b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#testEquality"><span class="hs-identifier hs-var">testEquality</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681532596"><span class="hs-identifier hs-var">nodeEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532572"><span class="hs-identifier hs-var">txEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1524"></span><span>        </span><span class="annot"><span class="annottext">Maybe (era :~: era)
-&gt; (Maybe (era :~: era) -&gt; ExceptT TxCmdError IO (era :~: era))
-&gt; ExceptT TxCmdError IO (era :~: era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError
-&gt; Maybe (era :~: era) -&gt; ExceptT TxCmdError IO (era :~: era)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; Maybe a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistMaybe</span></span><span>
</span><span id="line-1525"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">EraMismatch -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxSubmitErrorEraMismatch"><span class="hs-identifier hs-var">TxCmdTxSubmitErrorEraMismatch</span></a></span><span> </span><span class="annot"><span class="annottext">(EraMismatch -&gt; TxCmdError) -&gt; EraMismatch -&gt; TxCmdError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1526"></span><span>              </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-consensus-0.28.0.0-d826e39f21dfff0a88314c6b5f7fe31d0f59b12be14d28c36ba2a4e8a260e3d7/share/doc/html/src/Ouroboros.Consensus.HardFork.Combinator.AcrossEras.html#EraMismatch"><span class="hs-identifier hs-type">EraMismatch</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">ledgerEraName :: Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-consensus-0.28.0.0-d826e39f21dfff0a88314c6b5f7fe31d0f59b12be14d28c36ba2a4e8a260e3d7/share/doc/html/src/Ouroboros.Consensus.HardFork.Combinator.AcrossEras.html#ledgerEraName"><span class="hs-identifier hs-var">ledgerEraName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Pretty.html#docToText"><span class="hs-identifier hs-var">docToText</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc AnsiStyle -&gt; Text) -&gt; Doc AnsiStyle -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; Doc AnsiStyle
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. CardanoEra era -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681532596"><span class="hs-identifier hs-var">nodeEra</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">otherEraName :: Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-consensus-0.28.0.0-d826e39f21dfff0a88314c6b5f7fe31d0f59b12be14d28c36ba2a4e8a260e3d7/share/doc/html/src/Ouroboros.Consensus.HardFork.Combinator.AcrossEras.html#otherEraName"><span class="hs-identifier hs-var">otherEraName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Pretty.html#docToText"><span class="hs-identifier hs-var">docToText</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc AnsiStyle -&gt; Text) -&gt; Doc AnsiStyle -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Doc AnsiStyle
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. ShelleyBasedEra era -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532572"><span class="hs-identifier hs-var">txEra</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1527"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1528"></span><span>
</span><span id="line-1529"></span><span>    </span><span id="local-6989586621681532646"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681532646"><span class="hs-identifier hs-var">aeo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; Maybe (AlonzoEraOnwards era)
forall (eon :: * -&gt; *) era.
Eon eon =&gt;
CardanoEra era -&gt; Maybe (eon era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#forEraMaybeEon"><span class="hs-identifier hs-var">forEraMaybeEon</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681532596"><span class="hs-identifier hs-var">nodeEra</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (AlonzoEraOnwards era)
-&gt; (Maybe (AlonzoEraOnwards era)
    -&gt; ExceptT TxCmdError IO (AlonzoEraOnwards era))
-&gt; ExceptT TxCmdError IO (AlonzoEraOnwards era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError
-&gt; Maybe (AlonzoEraOnwards era)
-&gt; ExceptT TxCmdError IO (AlonzoEraOnwards era)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; Maybe a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; TxCmdError
forall era. CardanoEra era -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdAlonzoEraOnwardsRequired"><span class="hs-identifier hs-var">TxCmdAlonzoEraOnwardsRequired</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681532596"><span class="hs-identifier hs-var">nodeEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1530"></span><span>    </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; SystemStart
-&gt; EraHistory
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; Tx era
-&gt; ExceptT TxCmdError IO ()
forall era.
AlonzoEraOnwards era
-&gt; SystemStart
-&gt; EraHistory
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; Tx era
-&gt; ExceptT TxCmdError IO ()
</span><a href="#local-6989586621681532648"><span class="hs-identifier hs-var">calculatePlutusScriptsCosts</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681532646"><span class="hs-identifier hs-var">aeo</span></a></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532597"><span class="hs-identifier hs-var">systemStart</span></a></span><span> </span><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681532598"><span class="hs-identifier hs-var">eraHistory</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
LedgerProtocolParameters era
</span><a href="#local-6989586621681532600"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO era
UTxO era
</span><a href="#local-6989586621681532599"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
Tx era
</span><a href="#local-6989586621681532573"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1531"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1532"></span><span>    </span><span id="local-6989586621681530395"><span class="annot"><a href="#local-6989586621681532648"><span class="hs-identifier hs-type">calculatePlutusScriptsCosts</span></a></span><span>
</span><span id="line-1533"></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530395"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1534"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-slotting-0.2.0.1-4931158e5859e803f65a880c95ecfbe9579b1a28852330a326f0fb66ea02801e/share/doc/html/src/Cardano.Slotting.Time.html#SystemStart"><span class="hs-identifier hs-type">SystemStart</span></a></span><span>
</span><span id="line-1535"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-type">EraHistory</span></a></span><span>
</span><span id="line-1536"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530395"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1537"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.UTxO.html#UTxO"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530395"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1538"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530395"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1539"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1540"></span><span>    </span><span id="local-6989586621681532648"><span class="annot"><span class="annottext">calculatePlutusScriptsCosts :: forall era.
AlonzoEraOnwards era
-&gt; SystemStart
-&gt; EraHistory
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; Tx era
-&gt; ExceptT TxCmdError IO ()
</span><a href="#local-6989586621681532648"><span class="hs-identifier hs-var hs-var">calculatePlutusScriptsCosts</span></a></span></span><span> </span><span id="local-6989586621681532662"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681532662"><span class="hs-identifier hs-var">aeo</span></a></span></span><span> </span><span id="local-6989586621681532663"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532663"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span> </span><span id="local-6989586621681532664"><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681532664"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span> </span><span id="local-6989586621681532665"><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681532665"><span class="hs-identifier hs-var">pparams</span></a></span></span><span> </span><span id="local-6989586621681532666"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532666"><span class="hs-identifier hs-var">txEraUtxo</span></a></span></span><span> </span><span id="local-6989586621681532667"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532667"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1541"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532668"><span class="annot"><span class="annottext">era' :: CardanoEra era
</span><a href="#local-6989586621681532668"><span class="hs-identifier hs-var hs-var">era'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era -&gt; CardanoEra era
forall era. AlonzoEraOnwards era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681532662"><span class="hs-identifier hs-var">aeo</span></a></span><span>
</span><span id="line-1542"></span><span>
</span><span id="line-1543"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532669"><span class="annot"><span class="annottext">scriptHashes :: Map ScriptWitnessIndex ScriptHash
</span><a href="#local-6989586621681532669"><span class="hs-identifier hs-var hs-var">scriptHashes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; Tx era -&gt; UTxO era -&gt; Map ScriptWitnessIndex ScriptHash
forall era.
AlonzoEraOnwards era
-&gt; Tx era -&gt; UTxO era -&gt; Map ScriptWitnessIndex ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.html#collectPlutusScriptHashes"><span class="hs-identifier hs-var">collectPlutusScriptHashes</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681532662"><span class="hs-identifier hs-var">aeo</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532667"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532666"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-1544"></span><span>
</span><span id="line-1545"></span><span>      </span><span id="local-6989586621681532670"><span class="annot"><span class="annottext">Prices
</span><a href="#local-6989586621681532670"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1546"></span><span>        </span><span class="annot"><span class="annottext">Maybe Prices -&gt; ExceptT TxCmdError IO (Maybe Prices)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; LedgerProtocolParameters era -&gt; Maybe Prices
forall era.
CardanoEra era -&gt; LedgerProtocolParameters era -&gt; Maybe Prices
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getExecutionUnitPrices"><span class="hs-identifier hs-var">getExecutionUnitPrices</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681532668"><span class="hs-identifier hs-var">era'</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681532665"><span class="hs-identifier hs-var">pparams</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO (Maybe Prices)
-&gt; (ExceptT TxCmdError IO (Maybe Prices)
    -&gt; ExceptT TxCmdError IO Prices)
-&gt; ExceptT TxCmdError IO Prices
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO Prices
-&gt; ExceptT TxCmdError IO (Maybe Prices)
-&gt; ExceptT TxCmdError IO Prices
forall x (m :: * -&gt; *) a.
Monad m =&gt;
ExceptT x m a -&gt; ExceptT x m (Maybe a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onNothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO Prices
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdPParamExecutionUnitsNotAvailable"><span class="hs-identifier hs-var">TxCmdPParamExecutionUnitsNotAvailable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1547"></span><span>
</span><span id="line-1548"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532672"><span class="annot"><span class="annottext">scriptExecUnitsMap :: Map
  ScriptWitnessIndex
  (Either
     ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
</span><a href="#local-6989586621681532672"><span class="hs-identifier hs-var hs-var">scriptExecUnitsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1549"></span><span>            </span><span class="annot"><span class="annottext">CardanoEra era
-&gt; SystemStart
-&gt; LedgerEpochInfo
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; TxBody era
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
forall era.
CardanoEra era
-&gt; SystemStart
-&gt; LedgerEpochInfo
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; TxBody era
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#evaluateTransactionExecutionUnits"><span class="hs-identifier hs-var">evaluateTransactionExecutionUnits</span></a></span><span>
</span><span id="line-1550"></span><span>              </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681532668"><span class="hs-identifier hs-var">era'</span></a></span><span>
</span><span id="line-1551"></span><span>              </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532663"><span class="hs-identifier hs-var">systemStart</span></a></span><span>
</span><span id="line-1552"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EraHistory -&gt; LedgerEpochInfo
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerEpochInfo"><span class="hs-identifier hs-var">toLedgerEpochInfo</span></a></span><span> </span><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681532664"><span class="hs-identifier hs-var">eraHistory</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1553"></span><span>              </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681532665"><span class="hs-identifier hs-var">pparams</span></a></span><span>
</span><span id="line-1554"></span><span>              </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532666"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-1555"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx era -&gt; TxBody era
forall era. Tx era -&gt; TxBody era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#getTxBody"><span class="hs-identifier hs-var">getTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532667"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1556"></span><span>
</span><span id="line-1557"></span><span>      </span><span id="local-6989586621681532673"><span class="annot"><span class="annottext">[ScriptCostOutput]
</span><a href="#local-6989586621681532673"><span class="hs-identifier hs-var">scriptCostOutput</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1558"></span><span>        </span><span class="annot"><span class="annottext">(PlutusScriptCostError -&gt; TxCmdError)
-&gt; ExceptT PlutusScriptCostError IO [ScriptCostOutput]
-&gt; ExceptT TxCmdError IO [ScriptCostOutput]
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptCostError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdPlutusScriptCostErr"><span class="hs-identifier hs-var">TxCmdPlutusScriptCostErr</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT PlutusScriptCostError IO [ScriptCostOutput]
 -&gt; ExceptT TxCmdError IO [ScriptCostOutput])
-&gt; ExceptT PlutusScriptCostError IO [ScriptCostOutput]
-&gt; ExceptT TxCmdError IO [ScriptCostOutput]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1559"></span><span>          </span><span class="annot"><span class="annottext">Either PlutusScriptCostError [ScriptCostOutput]
-&gt; ExceptT PlutusScriptCostError IO [ScriptCostOutput]
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistEither</span></span><span> </span><span class="annot"><span class="annottext">(Either PlutusScriptCostError [ScriptCostOutput]
 -&gt; ExceptT PlutusScriptCostError IO [ScriptCostOutput])
-&gt; Either PlutusScriptCostError [ScriptCostOutput]
-&gt; ExceptT PlutusScriptCostError IO [ScriptCostOutput]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1560"></span><span>            </span><span class="annot"><span class="annottext">Prices
-&gt; Map ScriptWitnessIndex ScriptHash
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
-&gt; Either PlutusScriptCostError [ScriptCostOutput]
</span><a href="Cardano.CLI.Type.Output.html#renderScriptCostsWithScriptHashesMap"><span class="hs-identifier hs-var">renderScriptCostsWithScriptHashesMap</span></a></span><span>
</span><span id="line-1561"></span><span>              </span><span class="annot"><span class="annottext">Prices
</span><a href="#local-6989586621681532670"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span><span>
</span><span id="line-1562"></span><span>              </span><span class="annot"><span class="annottext">Map ScriptWitnessIndex ScriptHash
</span><a href="#local-6989586621681532669"><span class="hs-identifier hs-var">scriptHashes</span></a></span><span>
</span><span id="line-1563"></span><span>              </span><span class="annot"><span class="annottext">Map
  ScriptWitnessIndex
  (Either
     ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
</span><a href="#local-6989586621681532672"><span class="hs-identifier hs-var">scriptExecUnitsMap</span></a></span><span>
</span><span id="line-1564"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT TxCmdError IO ()
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span>
</span><span id="line-1565"></span><span>        </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT TxCmdError IO ())
-&gt; IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="#local-6989586621681532534"><span class="hs-identifier hs-var">outputFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1566"></span><span>              </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681532675"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532675"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ByteString -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier hs-var">LBS.writeFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">File () 'Out -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532675"><span class="hs-identifier hs-var">file</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1567"></span><span>              </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
forall (m :: * -&gt; *). MonadIO m =&gt; ByteString -&gt; m ()
</span><span class="hs-identifier hs-var">putLByteString</span></span><span>
</span><span id="line-1568"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1569"></span><span>        </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptCostOutput] -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">encodePretty</span></span><span> </span><span class="annot"><span class="annottext">[ScriptCostOutput]
</span><a href="#local-6989586621681532673"><span class="hs-identifier hs-var">scriptCostOutput</span></a></span><span>
</span><span id="line-1570"></span><span>
</span><span id="line-1571"></span><span id="local-6989586621681530392"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#buildTransactionContext"><span class="hs-identifier hs-type">buildTransactionContext</span></a></span><span>
</span><span id="line-1572"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530392"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1573"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#SystemStartOrGenesisFileSource"><span class="hs-identifier hs-type">SystemStartOrGenesisFileSource</span></a></span><span>
</span><span id="line-1574"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#MustExtendSafeZone"><span class="hs-identifier hs-type">MustExtendSafeZone</span></a></span><span>
</span><span id="line-1575"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-type">EraHistory</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span>
</span><span id="line-1576"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-data-1.2.4.1-7be0edaf96cb35129f222e438cc5ac46ec62847404e4f58d96615e96ae9b353a/share/doc/html/src/Data.Universe.html#Some"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.UTxO.html#UTxO"><span class="hs-identifier hs-type">UTxO</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span>
</span><span id="line-1577"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#ProtocolParamsFile"><span class="hs-identifier hs-type">ProtocolParamsFile</span></a></span><span>
</span><span id="line-1578"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span>
</span><span id="line-1579"></span><span>       </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span>
</span><span id="line-1580"></span><span>       </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span>
</span><span id="line-1581"></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-slotting-0.2.0.1-4931158e5859e803f65a880c95ecfbe9579b1a28852330a326f0fb66ea02801e/share/doc/html/src/Cardano.Slotting.Time.html#SystemStart"><span class="hs-identifier hs-type">SystemStart</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-type">EraHistory</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.UTxO.html#UTxO"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530392"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681530392"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1582"></span><span id="buildTransactionContext"><span class="annot"><span class="annottext">buildTransactionContext :: forall era.
Era era
-&gt; SystemStartOrGenesisFileSource
-&gt; MustExtendSafeZone
-&gt; File EraHistory 'In
-&gt; File (Some UTxO) 'In
-&gt; ProtocolParamsFile
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#buildTransactionContext"><span class="hs-identifier hs-var hs-var">buildTransactionContext</span></a></span></span><span> </span><span id="local-6989586621681532677"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532677"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681532678"><span class="annot"><span class="annottext">SystemStartOrGenesisFileSource
</span><a href="#local-6989586621681532678"><span class="hs-identifier hs-var">systemStartOrGenesisFileSource</span></a></span></span><span> </span><span id="local-6989586621681532679"><span class="annot"><span class="annottext">MustExtendSafeZone
</span><a href="#local-6989586621681532679"><span class="hs-identifier hs-var">mustUnsafeExtendSafeZone</span></a></span></span><span> </span><span id="local-6989586621681532680"><span class="annot"><span class="annottext">File EraHistory 'In
</span><a href="#local-6989586621681532680"><span class="hs-identifier hs-var">eraHistoryFile</span></a></span></span><span> </span><span id="local-6989586621681532681"><span class="annot"><span class="annottext">File (Some UTxO) 'In
</span><a href="#local-6989586621681532681"><span class="hs-identifier hs-var">utxoFile</span></a></span></span><span> </span><span id="local-6989586621681532682"><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681532682"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1583"></span><span>  </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532677"><span class="hs-identifier hs-var">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt;
  ExceptT
    TxCmdError
    IO
    (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
     LedgerProtocolParameters era))
 -&gt; ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1584"></span><span>    </span><span id="local-6989586621681532695"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532695"><span class="hs-identifier hs-var">ledgerPParams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1585"></span><span>      </span><span class="annot"><span class="annottext">(ProtocolParamsError -&gt; TxCmdError)
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
-&gt; ExceptT TxCmdError IO (PParams (ShelleyLedgerEra era))
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdProtocolParamsError"><span class="hs-identifier hs-var">TxCmdProtocolParamsError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
 -&gt; ExceptT TxCmdError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
-&gt; ExceptT TxCmdError IO (PParams (ShelleyLedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1586"></span><span>        </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532677"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt;
  ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
 -&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1587"></span><span>          </span><span class="annot"><span class="annottext">ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
forall era.
IsEra era =&gt;
ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-var">readProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681532682"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span>
</span><span id="line-1588"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-type">EraHistory</span></a></span><span> </span><span id="local-6989586621681532729"><span class="annot"><span class="annottext">Interpreter xs
</span><a href="#local-6989586621681532729"><span class="hs-identifier hs-var">interpreter</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1589"></span><span>      </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError -&gt; ExceptT TxCmdError IO EraHistory)
-&gt; ExceptT
     TxCmdError IO (Either (FileError TextEnvelopeError) EraHistory)
-&gt; ExceptT TxCmdError IO EraHistory
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO EraHistory
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO EraHistory)
-&gt; (FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; FileError TextEnvelopeError
-&gt; ExceptT TxCmdError IO EraHistory
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ExceptT
   TxCmdError IO (Either (FileError TextEnvelopeError) EraHistory)
 -&gt; ExceptT TxCmdError IO EraHistory)
-&gt; ExceptT
     TxCmdError IO (Either (FileError TextEnvelopeError) EraHistory)
-&gt; ExceptT TxCmdError IO EraHistory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1590"></span><span>        </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) EraHistory)
-&gt; ExceptT
     TxCmdError IO (Either (FileError TextEnvelopeError) EraHistory)
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError TextEnvelopeError) EraHistory)
 -&gt; ExceptT
      TxCmdError IO (Either (FileError TextEnvelopeError) EraHistory))
-&gt; IO (Either (FileError TextEnvelopeError) EraHistory)
-&gt; ExceptT
     TxCmdError IO (Either (FileError TextEnvelopeError) EraHistory)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1591"></span><span>          </span><span class="annot"><span class="annottext">File EraHistory 'In
-&gt; IO (Either (FileError TextEnvelopeError) EraHistory)
forall a content.
HasTextEnvelope a =&gt;
File content 'In -&gt; IO (Either (FileError TextEnvelopeError) a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#readFileTextEnvelope"><span class="hs-identifier hs-var">readFileTextEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">File EraHistory 'In
</span><a href="#local-6989586621681532680"><span class="hs-identifier hs-var">eraHistoryFile</span></a></span><span>
</span><span id="line-1592"></span><span>    </span><span id="local-6989586621681532730"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532730"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SystemStartOrGenesisFileSource
</span><a href="#local-6989586621681532678"><span class="hs-identifier hs-var">systemStartOrGenesisFileSource</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1593"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#SystemStartLiteral"><span class="hs-identifier hs-type">SystemStartLiteral</span></a></span><span> </span><span id="local-6989586621681532732"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532732"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SystemStart -&gt; ExceptT TxCmdError IO SystemStart
forall a. a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532732"><span class="hs-identifier hs-var">systemStart</span></a></span><span>
</span><span id="line-1594"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#SystemStartFromGenesisFile"><span class="hs-identifier hs-type">SystemStartFromGenesisFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#GenesisFile"><span class="hs-identifier hs-type">GenesisFile</span></a></span><span> </span><span id="local-6989586621681532735"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532735"><span class="hs-identifier hs-var">byronGenesisFile</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1595"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681532736"><span class="annot"><span class="annottext">GenesisData
</span><a href="#local-6989586621681532736"><span class="hs-identifier hs-var">byronGenesisData</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GenesisHash
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenesisDataError -&gt; TxCmdError)
-&gt; ExceptT GenesisDataError IO (GenesisData, GenesisHash)
-&gt; ExceptT TxCmdError IO (GenesisData, GenesisHash)
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">GenesisDataError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdGenesisDataError"><span class="hs-identifier hs-var">TxCmdGenesisDataError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT GenesisDataError IO (GenesisData, GenesisHash)
 -&gt; ExceptT TxCmdError IO (GenesisData, GenesisHash))
-&gt; ExceptT GenesisDataError IO (GenesisData, GenesisHash)
-&gt; ExceptT TxCmdError IO (GenesisData, GenesisHash)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ExceptT GenesisDataError IO (GenesisData, GenesisHash)
forall (m :: * -&gt; *).
(MonadError GenesisDataError m, MonadIO m) =&gt;
FilePath -&gt; m (GenesisData, GenesisHash)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-byron-1.2.0.0-40d2b8a81df85a49e4ac993959fc2bbcd96db1ce6f3db76397ac7b36fe6b3b4e/share/doc/html/src/Cardano.Chain.Genesis.Data.html#readGenesisData"><span class="hs-identifier hs-var">Byron.readGenesisData</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532735"><span class="hs-identifier hs-var">byronGenesisFile</span></a></span><span>
</span><span id="line-1596"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532739"><span class="annot"><span class="annottext">systemStartUTCTime :: UTCTime
</span><a href="#local-6989586621681532739"><span class="hs-identifier hs-var hs-var">systemStartUTCTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenesisData -&gt; UTCTime
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-ledger-byron-1.2.0.0-40d2b8a81df85a49e4ac993959fc2bbcd96db1ce6f3db76397ac7b36fe6b3b4e/share/doc/html/src/Cardano.Chain.Genesis.Data.html#gdStartTime"><span class="hs-identifier hs-var">Byron.gdStartTime</span></a></span><span> </span><span class="annot"><span class="annottext">GenesisData
</span><a href="#local-6989586621681532736"><span class="hs-identifier hs-var">byronGenesisData</span></a></span><span>
</span><span id="line-1597"></span><span>        </span><span class="annot"><span class="annottext">SystemStart -&gt; ExceptT TxCmdError IO SystemStart
forall a. a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(SystemStart -&gt; ExceptT TxCmdError IO SystemStart)
-&gt; SystemStart -&gt; ExceptT TxCmdError IO SystemStart
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SystemStart
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-slotting-0.2.0.1-4931158e5859e803f65a880c95ecfbe9579b1a28852330a326f0fb66ea02801e/share/doc/html/src/Cardano.Slotting.Time.html#SystemStart"><span class="hs-identifier hs-var">SystemStart</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621681532739"><span class="hs-identifier hs-var">systemStartUTCTime</span></a></span><span>
</span><span id="line-1598"></span><span>    </span><span id="local-6989586621681532742"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621681532742"><span class="hs-identifier hs-var">utxosBytes</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(FileError JsonDecodeError -&gt; TxCmdError)
-&gt; ExceptT (FileError JsonDecodeError) IO ByteString
-&gt; ExceptT TxCmdError IO ByteString
forall e' (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) e a.
MonadTransError e' t m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; t m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-var">modifyError</span></a></span><span> </span><span class="annot"><span class="annottext">FileError JsonDecodeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdUtxoFileError"><span class="hs-identifier hs-var">TxCmdUtxoFileError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO (Either (FileError JsonDecodeError) ByteString)
-&gt; ExceptT (FileError JsonDecodeError) IO ByteString
forall e (m :: * -&gt; *) a. m (Either e a) -&gt; ExceptT e m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-var">ExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError JsonDecodeError) ByteString)
 -&gt; ExceptT (FileError JsonDecodeError) IO ByteString)
-&gt; IO (Either (FileError JsonDecodeError) ByteString)
-&gt; ExceptT (FileError JsonDecodeError) IO ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">File (Some UTxO) 'In
-&gt; IO (Either (FileError JsonDecodeError) ByteString)
forall (m :: * -&gt; *) content e.
MonadIO m =&gt;
File content 'In -&gt; m (Either (FileError e) ByteString)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.html#readByteStringFile"><span class="hs-identifier hs-var">readByteStringFile</span></a></span><span> </span><span class="annot"><span class="annottext">File (Some UTxO) 'In
</span><a href="#local-6989586621681532681"><span class="hs-identifier hs-var">utxoFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1599"></span><span>    </span><span id="local-6989586621681532746"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532746"><span class="hs-identifier hs-var">utxos</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either TxCmdError (UTxO era) -&gt; ExceptT TxCmdError IO (UTxO era)
forall e (m :: * -&gt; *) a. MonadError e m =&gt; Either e a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/mtl-2.3.1-inplace/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-var">liftEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxCmdError (UTxO era) -&gt; ExceptT TxCmdError IO (UTxO era))
-&gt; (Either FilePath (UTxO era) -&gt; Either TxCmdError (UTxO era))
-&gt; Either FilePath (UTxO era)
-&gt; ExceptT TxCmdError IO (UTxO era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; TxCmdError)
-&gt; Either FilePath (UTxO era) -&gt; Either TxCmdError (UTxO era)
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdUtxoJsonError"><span class="hs-identifier hs-var">TxCmdUtxoJsonError</span></a></span><span> </span><span class="annot"><span class="annottext">(Either FilePath (UTxO era) -&gt; ExceptT TxCmdError IO (UTxO era))
-&gt; Either FilePath (UTxO era) -&gt; ExceptT TxCmdError IO (UTxO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either FilePath (UTxO era)
forall a. FromJSON a =&gt; ByteString -&gt; Either FilePath a
</span><span class="hs-identifier hs-var">Aeson.eitherDecodeStrict'</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621681532742"><span class="hs-identifier hs-var">utxosBytes</span></a></span><span>
</span><span id="line-1600"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532749"><span class="annot"><span class="annottext">eraHistory :: EraHistory
</span><a href="#local-6989586621681532749"><span class="hs-identifier hs-var hs-var">eraHistory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interpreter xs -&gt; EraHistory
forall (xs :: [*]).
(CardanoBlock StandardCrypto ~ HardForkBlock xs) =&gt;
Interpreter xs -&gt; EraHistory
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-var">EraHistory</span></a></span><span> </span><span class="annot"><span class="annottext">(Interpreter xs -&gt; EraHistory) -&gt; Interpreter xs -&gt; EraHistory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MustExtendSafeZone
</span><a href="#local-6989586621681532679"><span class="hs-identifier hs-var">mustUnsafeExtendSafeZone</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1601"></span><span>          </span><span class="annot"><span class="annottext">MustExtendSafeZone
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#MustExtendSafeZone"><span class="hs-identifier hs-var">MustExtendSafeZone</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interpreter xs -&gt; Interpreter xs
forall (xs :: [*]). Interpreter xs -&gt; Interpreter xs
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/ouroboros-consensus-0.28.0.0-d826e39f21dfff0a88314c6b5f7fe31d0f59b12be14d28c36ba2a4e8a260e3d7/share/doc/html/src/Ouroboros.Consensus.HardFork.History.Qry.html#unsafeExtendSafeZone"><span class="hs-identifier hs-var">unsafeExtendSafeZone</span></a></span><span> </span><span class="annot"><span class="annottext">Interpreter xs
</span><a href="#local-6989586621681532729"><span class="hs-identifier hs-var">interpreter</span></a></span><span>
</span><span id="line-1602"></span><span>          </span><span class="annot"><span class="annottext">MustExtendSafeZone
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#DoNotExtendSafeZone"><span class="hs-identifier hs-var">DoNotExtendSafeZone</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interpreter xs
</span><a href="#local-6989586621681532729"><span class="hs-identifier hs-var">interpreter</span></a></span><span>
</span><span id="line-1603"></span><span>    </span><span class="annot"><span class="annottext">(AnyCardanoEra, SystemStart, EraHistory, UTxO era,
 LedgerProtocolParameters era)
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1604"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; AnyCardanoEra
forall era. Typeable era =&gt; CardanoEra era -&gt; AnyCardanoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-var">AnyCardanoEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; CardanoEra era
forall era. Era era -&gt; CardanoEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681532677"><span class="hs-identifier hs-var">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1605"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681532730"><span class="hs-identifier hs-var">systemStart</span></a></span><span>
</span><span id="line-1606"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681532749"><span class="hs-identifier hs-var">eraHistory</span></a></span><span>
</span><span id="line-1607"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681532746"><span class="hs-identifier hs-var">utxos</span></a></span><span>
</span><span id="line-1608"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
forall era.
PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-var">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532695"><span class="hs-identifier hs-var">ledgerPParams</span></a></span><span>
</span><span id="line-1609"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-1610"></span><span>
</span><span id="line-1611"></span><span id="local-6989586621681529459"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionPolicyIdCmd"><span class="hs-identifier hs-type">runTransactionPolicyIdCmd</span></a></span><span>
</span><span id="line-1612"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionPolicyIdCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionPolicyIdCmdArgs</span></a></span><span>
</span><span id="line-1613"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681529459"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1614"></span><span id="runTransactionPolicyIdCmd"><span class="annot"><span class="annottext">runTransactionPolicyIdCmd :: forall e. TransactionPolicyIdCmdArgs -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionPolicyIdCmd"><span class="hs-identifier hs-var hs-var">runTransactionPolicyIdCmd</span></a></span></span><span>
</span><span id="line-1615"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionPolicyIdCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionPolicyIdCmdArgs</span></a></span><span>
</span><span id="line-1616"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">scriptFile :: TransactionPolicyIdCmdArgs -&gt; ScriptFile
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#scriptFile"><span class="hs-identifier hs-var">scriptFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681532758"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532758"><span class="hs-identifier hs-var">sFile</span></a></span></span><span>
</span><span id="line-1617"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1618"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptInAnyLang"><span class="hs-identifier hs-type">ScriptInAnyLang</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptLanguage lang
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681532763"><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621681532763"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1619"></span><span>      </span><span class="annot"><span class="annottext">FilePath -&gt; RIO e ScriptInAnyLang
forall (m :: * -&gt; *). MonadIO m =&gt; FilePath -&gt; m ScriptInAnyLang
</span><a href="Cardano.CLI.Read.html#readFileScriptInAnyLang"><span class="hs-identifier hs-var">readFileScriptInAnyLang</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532758"><span class="hs-identifier hs-var">sFile</span></a></span><span>
</span><span id="line-1620"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ())
-&gt; (ScriptHash -&gt; IO ()) -&gt; ScriptHash -&gt; RIO e ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/text-2.1.1-inplace/src/Data.Text.IO.html#putStrLn"><span class="hs-identifier hs-var">Text.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; IO ()) -&gt; (ScriptHash -&gt; Text) -&gt; ScriptHash -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; Text
forall a. SerialiseAsRawBytes a =&gt; a -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Serialise.Raw.html#serialiseToRawBytesHexText"><span class="hs-identifier hs-var">serialiseToRawBytesHexText</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; RIO e ()) -&gt; ScriptHash -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Script lang -&gt; ScriptHash
forall lang. Script lang -&gt; ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#hashScript"><span class="hs-identifier hs-var">hashScript</span></a></span><span> </span><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621681532763"><span class="hs-identifier hs-var">script</span></a></span><span>
</span><span id="line-1621"></span><span>
</span><span id="line-1622"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#partitionSomeWitnesses"><span class="hs-identifier hs-type">partitionSomeWitnesses</span></a></span><span>
</span><span id="line-1623"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.Read.html#ByronOrShelleyWitness"><span class="hs-identifier hs-type">ByronOrShelleyWitness</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1624"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.Read.html#ShelleyBootstrapWitnessSigningKeyData"><span class="hs-identifier hs-type">ShelleyBootstrapWitnessSigningKeyData</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1625"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyWitnessSigningKey"><span class="hs-identifier hs-type">ShelleyWitnessSigningKey</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1626"></span><span>     </span><span class="hs-special">)</span><span>
</span><span id="line-1627"></span><span id="partitionSomeWitnesses"><span class="annot"><span class="annottext">partitionSomeWitnesses :: [ByronOrShelleyWitness]
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#partitionSomeWitnesses"><span class="hs-identifier hs-var hs-var">partitionSomeWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([ShelleyBootstrapWitnessSigningKeyData],
 [ShelleyWitnessSigningKey])
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
forall {a} {a}. ([a], [a]) -&gt; ([a], [a])
</span><a href="#local-6989586621681532766"><span class="hs-identifier hs-var">reversePartitionedWits</span></a></span><span> </span><span class="annot"><span class="annottext">(([ShelleyBootstrapWitnessSigningKeyData],
  [ShelleyWitnessSigningKey])
 -&gt; ([ShelleyBootstrapWitnessSigningKeyData],
     [ShelleyWitnessSigningKey]))
-&gt; ([ByronOrShelleyWitness]
    -&gt; ([ShelleyBootstrapWitnessSigningKeyData],
        [ShelleyWitnessSigningKey]))
-&gt; [ByronOrShelleyWitness]
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(([ShelleyBootstrapWitnessSigningKeyData],
  [ShelleyWitnessSigningKey])
 -&gt; ByronOrShelleyWitness
 -&gt; ([ShelleyBootstrapWitnessSigningKeyData],
     [ShelleyWitnessSigningKey]))
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
-&gt; [ByronOrShelleyWitness]
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">Foldable.foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">([ShelleyBootstrapWitnessSigningKeyData],
 [ShelleyWitnessSigningKey])
-&gt; ByronOrShelleyWitness
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
</span><a href="#local-6989586621681532768"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">([ShelleyBootstrapWitnessSigningKeyData],
 [ShelleyWitnessSigningKey])
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-1628"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1629"></span><span>  </span><span id="local-6989586621681532766"><span class="annot"><span class="annottext">reversePartitionedWits :: ([a], [a]) -&gt; ([a], [a])
</span><a href="#local-6989586621681532766"><span class="hs-identifier hs-var hs-var">reversePartitionedWits</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681532769"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681532769"><span class="hs-identifier hs-var">bw</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532770"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681532770"><span class="hs-identifier hs-var">skw</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1630"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681532769"><span class="hs-identifier hs-var">bw</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681532770"><span class="hs-identifier hs-var">skw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1631"></span><span>
</span><span id="line-1632"></span><span>  </span><span id="local-6989586621681532768"><span class="annot"><span class="annottext">go :: ([ShelleyBootstrapWitnessSigningKeyData],
 [ShelleyWitnessSigningKey])
-&gt; ByronOrShelleyWitness
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
</span><a href="#local-6989586621681532768"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681532772"><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
</span><a href="#local-6989586621681532772"><span class="hs-identifier hs-var">byronAcc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532773"><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681532773"><span class="hs-identifier hs-var">shelleyKeyAcc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681532774"><span class="annot"><span class="annottext">ByronOrShelleyWitness
</span><a href="#local-6989586621681532774"><span class="hs-identifier hs-var">byronOrShelleyWit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1633"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByronOrShelleyWitness
</span><a href="#local-6989586621681532774"><span class="hs-identifier hs-var">byronOrShelleyWit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1634"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Read.html#AByronWitness"><span class="hs-identifier hs-type">AByronWitness</span></a></span><span> </span><span id="local-6989586621681532776"><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
</span><a href="#local-6989586621681532776"><span class="hs-identifier hs-var">byronWit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1635"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
</span><a href="#local-6989586621681532776"><span class="hs-identifier hs-var">byronWit</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
-&gt; [ShelleyBootstrapWitnessSigningKeyData]
-&gt; [ShelleyBootstrapWitnessSigningKeyData]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
</span><a href="#local-6989586621681532772"><span class="hs-identifier hs-var">byronAcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681532773"><span class="hs-identifier hs-var">shelleyKeyAcc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1636"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Read.html#AShelleyKeyWitness"><span class="hs-identifier hs-type">AShelleyKeyWitness</span></a></span><span> </span><span id="local-6989586621681532778"><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681532778"><span class="hs-identifier hs-var">shelleyKeyWit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1637"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
</span><a href="#local-6989586621681532772"><span class="hs-identifier hs-var">byronAcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681532778"><span class="hs-identifier hs-var">shelleyKeyWit</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
-&gt; [ShelleyWitnessSigningKey] -&gt; [ShelleyWitnessSigningKey]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681532773"><span class="hs-identifier hs-var">shelleyKeyAcc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1638"></span><span>
</span><span id="line-1639"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1640"></span><span class="hs-comment">-- Other misc small commands</span><span>
</span><span id="line-1641"></span><span class="hs-comment">--</span><span>
</span><span id="line-1642"></span><span>
</span><span id="line-1643"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionHashScriptDataCmd"><span class="hs-identifier hs-type">runTransactionHashScriptDataCmd</span></a></span><span>
</span><span id="line-1644"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1645"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionHashScriptDataCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionHashScriptDataCmdArgs</span></a></span><span>
</span><span id="line-1646"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1647"></span><span id="runTransactionHashScriptDataCmd"><span class="annot"><span class="annottext">runTransactionHashScriptDataCmd :: TransactionHashScriptDataCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionHashScriptDataCmd"><span class="hs-identifier hs-var hs-var">runTransactionHashScriptDataCmd</span></a></span></span><span>
</span><span id="line-1648"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionHashScriptDataCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionHashScriptDataCmdArgs</span></a></span><span>
</span><span id="line-1649"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681532780"><span class="annot"><span class="annottext">ScriptDataOrFile
scriptDataOrFile :: ScriptDataOrFile
scriptDataOrFile :: TransactionHashScriptDataCmdArgs -&gt; ScriptDataOrFile
</span><a href="#local-6989586621681532780"><span class="hs-identifier hs-var hs-var">scriptDataOrFile</span></a></span></span><span>
</span><span id="line-1650"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1651"></span><span>    </span><span id="local-6989586621681532782"><span class="annot"><span class="annottext">ScriptRedeemer
</span><a href="#local-6989586621681532782"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ScriptDataError -&gt; TxCmdError)
-&gt; ExceptT ScriptDataError IO ScriptRedeemer
-&gt; ExceptT TxCmdError IO ScriptRedeemer
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">ScriptDataError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdScriptDataError"><span class="hs-identifier hs-var">TxCmdScriptDataError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT ScriptDataError IO ScriptRedeemer
 -&gt; ExceptT TxCmdError IO ScriptRedeemer)
-&gt; ExceptT ScriptDataError IO ScriptRedeemer
-&gt; ExceptT TxCmdError IO ScriptRedeemer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptDataOrFile -&gt; ExceptT ScriptDataError IO ScriptRedeemer
forall (m :: * -&gt; *).
MonadIO m =&gt;
ScriptDataOrFile -&gt; ExceptT ScriptDataError m ScriptRedeemer
</span><a href="Cardano.CLI.EraBased.Script.Read.Common.html#readScriptDataOrFile"><span class="hs-identifier hs-var">readScriptDataOrFile</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptDataOrFile
</span><a href="#local-6989586621681532780"><span class="hs-identifier hs-var">scriptDataOrFile</span></a></span><span>
</span><span id="line-1652"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT TxCmdError IO ()
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT TxCmdError IO ())
-&gt; IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Char8.html#putStrLn"><span class="hs-identifier hs-var">BS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Hash ScriptData -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Serialise.Raw.html#serialiseToRawBytesHex"><span class="hs-identifier hs-var">serialiseToRawBytesHex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptRedeemer -&gt; Hash ScriptData
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#hashScriptDataBytes"><span class="hs-identifier hs-var">hashScriptDataBytes</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptRedeemer
</span><a href="#local-6989586621681532782"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1653"></span><span>
</span><span id="line-1654"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionTxIdCmd"><span class="hs-identifier hs-type">runTransactionTxIdCmd</span></a></span><span>
</span><span id="line-1655"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1656"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionTxIdCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionTxIdCmdArgs</span></a></span><span>
</span><span id="line-1657"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1658"></span><span id="runTransactionTxIdCmd"><span class="annot"><span class="annottext">runTransactionTxIdCmd :: TransactionTxIdCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionTxIdCmd"><span class="hs-identifier hs-var hs-var">runTransactionTxIdCmd</span></a></span></span><span>
</span><span id="line-1659"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionTxIdCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionTxIdCmdArgs</span></a></span><span>
</span><span id="line-1660"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681532789"><span class="annot"><span class="annottext">InputTxBodyOrTxFile
inputTxBodyOrTxFile :: InputTxBodyOrTxFile
inputTxBodyOrTxFile :: TransactionTxIdCmdArgs -&gt; InputTxBodyOrTxFile
</span><a href="#local-6989586621681532789"><span class="hs-identifier hs-var hs-var">inputTxBodyOrTxFile</span></a></span></span><span>
</span><span id="line-1661"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532791"><span class="annot"><span class="annottext">Vary '[FormatJson, FormatText, FormatYaml]
outputFormat :: Vary '[FormatJson, FormatText, FormatYaml]
outputFormat :: TransactionTxIdCmdArgs
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
</span><a href="#local-6989586621681532791"><span class="hs-identifier hs-var hs-var">outputFormat</span></a></span></span><span>
</span><span id="line-1662"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1663"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532799"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532799"><span class="hs-identifier hs-var">_era</span></a></span></span><span> </span><span id="local-6989586621681532800"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532800"><span class="hs-identifier hs-var">txbody</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1664"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">InputTxBodyOrTxFile
</span><a href="#local-6989586621681532789"><span class="hs-identifier hs-var">inputTxBodyOrTxFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1665"></span><span>        </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#InputTxBodyFile"><span class="hs-identifier hs-type">InputTxBodyFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681532801"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532801"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1666"></span><span>          </span><span id="local-6989586621681532802"><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532802"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532801"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1667"></span><span>          </span><span id="local-6989586621681532803"><span class="annot"><span class="annottext">IncompleteTxBody
</span><a href="#local-6989586621681532803"><span class="hs-identifier hs-var">unwitnessed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1668"></span><span>            </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody
 -&gt; ExceptT TxCmdError IO IncompleteTxBody)
-&gt; (IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
    -&gt; ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody)
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody
forall (m :: * -&gt; *) x a. m (Either x a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">newExceptT</span></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
 -&gt; ExceptT TxCmdError IO IncompleteTxBody)
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1669"></span><span>              </span><span class="annot"><span class="annottext">FileOrPipe
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
</span><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-var">readFileTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532802"><span class="hs-identifier hs-var">txbodyFile</span></a></span><span>
</span><span id="line-1670"></span><span>          </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyShelleyBasedEra TxBody
 -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody))
-&gt; InAnyShelleyBasedEra TxBody
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IncompleteTxBody -&gt; InAnyShelleyBasedEra TxBody
</span><a href="Cardano.CLI.Read.html#unIncompleteTxBody"><span class="hs-identifier hs-var">unIncompleteTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">IncompleteTxBody
</span><a href="#local-6989586621681532803"><span class="hs-identifier hs-var">unwitnessed</span></a></span><span>
</span><span id="line-1671"></span><span>        </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#InputTxFile"><span class="hs-identifier hs-type">InputTxFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681532804"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532804"><span class="hs-identifier hs-var">txFilePath</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1672"></span><span>          </span><span id="local-6989586621681532805"><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532805"><span class="hs-identifier hs-var">txFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532804"><span class="hs-identifier hs-var">txFilePath</span></a></span><span>
</span><span id="line-1673"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532809"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532809"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681532810"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532810"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FileOrPipe
-&gt; IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
</span><a href="Cardano.CLI.Read.html#readFileTx"><span class="hs-identifier hs-var">readFileTx</span></a></span><span> </span><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532805"><span class="hs-identifier hs-var">txFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
    -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError
 -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) (InAnyShelleyBasedEra Tx))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx))
-&gt; (FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; FileError TextEnvelopeError
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra Tx)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1674"></span><span>          </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyShelleyBasedEra TxBody
 -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody))
-&gt; (TxBody era -&gt; InAnyShelleyBasedEra TxBody)
-&gt; TxBody era
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; TxBody era -&gt; InAnyShelleyBasedEra TxBody
forall era (thing :: * -&gt; *).
Typeable era =&gt;
ShelleyBasedEra era -&gt; thing era -&gt; InAnyShelleyBasedEra thing
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-var">InAnyShelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532809"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">(TxBody era -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody))
-&gt; TxBody era
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; TxBody era
forall era. Tx era -&gt; TxBody era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#getTxBody"><span class="hs-identifier hs-var">getTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532810"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1675"></span><span>
</span><span id="line-1676"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532811"><span class="annot"><span class="annottext">txId :: TxId
</span><a href="#local-6989586621681532811"><span class="hs-identifier hs-var hs-var">txId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; TxId
forall era. TxBody era -&gt; TxId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#getTxId"><span class="hs-identifier hs-var">getTxId</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532800"><span class="hs-identifier hs-var">txbody</span></a></span><span>
</span><span id="line-1677"></span><span>
</span><span id="line-1678"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT TxCmdError IO ()
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT TxCmdError IO ())
-&gt; IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1679"></span><span>      </span><span class="annot"><span class="annottext">Vary '[FormatJson, FormatText, FormatYaml]
</span><a href="#local-6989586621681532791"><span class="hs-identifier hs-var">outputFormat</span></a></span><span>
</span><span id="line-1680"></span><span>        </span><span class="annot"><span class="annottext">Vary '[FormatJson, FormatText, FormatYaml]
-&gt; (Vary '[FormatJson, FormatText, FormatYaml] -&gt; IO ()) -&gt; IO ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(Vary '[FormatJson, FormatText, FormatYaml] -&gt; IO ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; IO ()
forall a. a -&gt; a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-1681"></span><span>              </span><span class="annot"><span class="annottext">((Vary '[FormatJson, FormatText, FormatYaml] -&gt; IO ())
 -&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; IO ())
-&gt; ((Vary '[] -&gt; IO ())
    -&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; IO ())
-&gt; (Vary '[] -&gt; IO ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
-&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(FormatJson -&gt; IO ())
-&gt; (Vary '[FormatText, FormatYaml] -&gt; IO ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
-&gt; IO ()
forall a b (l :: [*]).
(a -&gt; b) -&gt; (Vary l -&gt; b) -&gt; Vary (a : l) -&gt; b
</span><span class="hs-identifier hs-var">Vary.on</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatJson
</span><a href="Cardano.CLI.Type.Common.html#FormatJson"><span class="hs-identifier hs-var">FormatJson</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxSubmissionResult -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeJson"><span class="hs-identifier hs-var">Json.encodeJson</span></a></span><span> </span><span class="annot"><span class="annottext">(TxSubmissionResult -&gt; ByteString)
-&gt; TxSubmissionResult -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxSubmissionResult
</span><a href="Cardano.CLI.Type.Common.html#TxSubmissionResult"><span class="hs-identifier hs-var">TxSubmissionResult</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681532811"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1682"></span><span>              </span><span class="annot"><span class="annottext">((Vary '[FormatText, FormatYaml] -&gt; IO ())
 -&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; IO ())
-&gt; ((Vary '[] -&gt; IO ()) -&gt; Vary '[FormatText, FormatYaml] -&gt; IO ())
-&gt; (Vary '[] -&gt; IO ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
-&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(FormatText -&gt; IO ())
-&gt; (Vary '[FormatYaml] -&gt; IO ())
-&gt; Vary '[FormatText, FormatYaml]
-&gt; IO ()
forall a b (l :: [*]).
(a -&gt; b) -&gt; (Vary l -&gt; b) -&gt; Vary (a : l) -&gt; b
</span><span class="hs-identifier hs-var">Vary.on</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatText
</span><a href="Cardano.CLI.Type.Common.html#FormatText"><span class="hs-identifier hs-var">FormatText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Char8.html#putStrLn"><span class="hs-identifier hs-var">BS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Serialise.Raw.html#serialiseToRawBytesHex"><span class="hs-identifier hs-var">serialiseToRawBytesHex</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681532811"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1683"></span><span>              </span><span class="annot"><span class="annottext">((Vary '[FormatYaml] -&gt; IO ())
 -&gt; Vary '[FormatText, FormatYaml] -&gt; IO ())
-&gt; ((Vary '[] -&gt; IO ()) -&gt; Vary '[FormatYaml] -&gt; IO ())
-&gt; (Vary '[] -&gt; IO ())
-&gt; Vary '[FormatText, FormatYaml]
-&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(FormatYaml -&gt; IO ())
-&gt; (Vary '[] -&gt; IO ()) -&gt; Vary '[FormatYaml] -&gt; IO ()
forall a b (l :: [*]).
(a -&gt; b) -&gt; (Vary l -&gt; b) -&gt; Vary (a : l) -&gt; b
</span><span class="hs-identifier hs-var">Vary.on</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatYaml
</span><a href="Cardano.CLI.Type.Common.html#FormatYaml"><span class="hs-identifier hs-var">FormatYaml</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/bytestring-0.12.1.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxSubmissionResult -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeYaml"><span class="hs-identifier hs-var">Json.encodeYaml</span></a></span><span> </span><span class="annot"><span class="annottext">(TxSubmissionResult -&gt; ByteString)
-&gt; TxSubmissionResult -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxSubmissionResult
</span><a href="Cardano.CLI.Type.Common.html#TxSubmissionResult"><span class="hs-identifier hs-var">TxSubmissionResult</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681532811"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1684"></span><span>              </span><span class="annot"><span class="annottext">((Vary '[] -&gt; IO ())
 -&gt; Vary '[FormatJson, FormatText, FormatYaml] -&gt; IO ())
-&gt; (Vary '[] -&gt; IO ())
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
-&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Vary '[] -&gt; IO ()
forall anything. Vary '[] -&gt; anything
</span><span class="hs-identifier hs-var">Vary.exhaustiveCase</span></span><span>
</span><span id="line-1685"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1686"></span><span>
</span><span id="line-1687"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1688"></span><span class="hs-comment">-- Witness commands</span><span>
</span><span id="line-1689"></span><span class="hs-comment">--</span><span>
</span><span id="line-1690"></span><span>
</span><span id="line-1691"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionWitnessCmd"><span class="hs-identifier hs-type">runTransactionWitnessCmd</span></a></span><span>
</span><span id="line-1692"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1693"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionWitnessCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionWitnessCmdArgs</span></a></span><span>
</span><span id="line-1694"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1695"></span><span id="runTransactionWitnessCmd"><span class="annot"><span class="annottext">runTransactionWitnessCmd :: TransactionWitnessCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionWitnessCmd"><span class="hs-identifier hs-var hs-var">runTransactionWitnessCmd</span></a></span></span><span>
</span><span id="line-1696"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionWitnessCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionWitnessCmdArgs</span></a></span><span>
</span><span id="line-1697"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txBodyFile :: TransactionWitnessCmdArgs -&gt; File (TxBody ()) 'In
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txBodyFile"><span class="hs-identifier hs-var">txBodyFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681532814"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532814"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span>
</span><span id="line-1698"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532815"><span class="annot"><span class="annottext">WitnessSigningData
witnessSigningData :: WitnessSigningData
witnessSigningData :: TransactionWitnessCmdArgs -&gt; WitnessSigningData
</span><a href="#local-6989586621681532815"><span class="hs-identifier hs-var hs-var">witnessSigningData</span></a></span></span><span>
</span><span id="line-1699"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532817"><span class="annot"><span class="annottext">Maybe NetworkId
mNetworkId :: Maybe NetworkId
mNetworkId :: TransactionWitnessCmdArgs -&gt; Maybe NetworkId
</span><a href="#local-6989586621681532817"><span class="hs-identifier hs-var hs-var">mNetworkId</span></a></span></span><span>
</span><span id="line-1700"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532819"><span class="annot"><span class="annottext">File () 'Out
outFile :: File () 'Out
outFile :: TransactionWitnessCmdArgs -&gt; File () 'Out
</span><a href="#local-6989586621681532819"><span class="hs-identifier hs-var hs-var">outFile</span></a></span></span><span>
</span><span id="line-1701"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1702"></span><span>    </span><span id="local-6989586621681532821"><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532821"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532814"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1703"></span><span>    </span><span id="local-6989586621681532822"><span class="annot"><span class="annottext">IncompleteTxBody
</span><a href="#local-6989586621681532822"><span class="hs-identifier hs-var">unwitnessed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1704"></span><span>      </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody
 -&gt; ExceptT TxCmdError IO IncompleteTxBody)
-&gt; (IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
    -&gt; ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody)
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT (FileError TextEnvelopeError) IO IncompleteTxBody
forall (m :: * -&gt; *) x a. m (Either x a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">newExceptT</span></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
 -&gt; ExceptT TxCmdError IO IncompleteTxBody)
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1705"></span><span>        </span><span class="annot"><span class="annottext">FileOrPipe
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
</span><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-var">readFileTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532821"><span class="hs-identifier hs-var">txbodyFile</span></a></span><span>
</span><span id="line-1706"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IncompleteTxBody
</span><a href="#local-6989586621681532822"><span class="hs-identifier hs-var">unwitnessed</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1707"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Read.html#IncompleteTxBody"><span class="hs-identifier hs-type">IncompleteTxBody</span></a></span><span> </span><span id="local-6989586621681532823"><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
</span><a href="#local-6989586621681532823"><span class="hs-identifier hs-var">anyTxBody</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1708"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532832"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532832"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681532833"><span class="annot"><span class="annottext">txbody :: TxBody era
</span><a href="#local-6989586621681532833"><span class="hs-identifier hs-var">txbody</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTxBody"><span class="hs-identifier hs-type">ShelleyTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681532834"><span class="annot"><span class="annottext">TxBody (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532834"><span class="hs-identifier hs-var">ledgerTxBody</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Script (ShelleyLedgerEra era)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TxBodyScriptData era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe (TxAuxData (ShelleyLedgerEra era))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity era
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
</span><a href="#local-6989586621681532823"><span class="hs-identifier hs-var">anyTxBody</span></a></span><span>
</span><span id="line-1709"></span><span>        </span><span id="local-6989586621681532835"><span class="annot"><span class="annottext">SomeSigningWitness
</span><a href="#local-6989586621681532835"><span class="hs-identifier hs-var">someWit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1710"></span><span>          </span><span class="annot"><span class="annottext">(ReadWitnessSigningDataError -&gt; TxCmdError)
-&gt; ExceptT ReadWitnessSigningDataError IO SomeSigningWitness
-&gt; ExceptT TxCmdError IO SomeSigningWitness
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">ReadWitnessSigningDataError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdReadWitnessSigningDataError"><span class="hs-identifier hs-var">TxCmdReadWitnessSigningDataError</span></a></span><span>
</span><span id="line-1711"></span><span>            </span><span class="annot"><span class="annottext">(ExceptT ReadWitnessSigningDataError IO SomeSigningWitness
 -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; (IO (Either ReadWitnessSigningDataError SomeSigningWitness)
    -&gt; ExceptT ReadWitnessSigningDataError IO SomeSigningWitness)
-&gt; IO (Either ReadWitnessSigningDataError SomeSigningWitness)
-&gt; ExceptT TxCmdError IO SomeSigningWitness
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either ReadWitnessSigningDataError SomeSigningWitness)
-&gt; ExceptT ReadWitnessSigningDataError IO SomeSigningWitness
forall (m :: * -&gt; *) x a. m (Either x a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">newExceptT</span></span><span>
</span><span id="line-1712"></span><span>            </span><span class="annot"><span class="annottext">(IO (Either ReadWitnessSigningDataError SomeSigningWitness)
 -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; IO (Either ReadWitnessSigningDataError SomeSigningWitness)
-&gt; ExceptT TxCmdError IO SomeSigningWitness
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">WitnessSigningData
-&gt; IO (Either ReadWitnessSigningDataError SomeSigningWitness)
</span><a href="Cardano.CLI.Read.html#readWitnessSigningData"><span class="hs-identifier hs-var">readWitnessSigningData</span></a></span><span> </span><span class="annot"><span class="annottext">WitnessSigningData
</span><a href="#local-6989586621681532815"><span class="hs-identifier hs-var">witnessSigningData</span></a></span><span>
</span><span id="line-1713"></span><span>        </span><span id="local-6989586621681532836"><span class="annot"><span class="annottext">KeyWitness era
</span><a href="#local-6989586621681532836"><span class="hs-identifier hs-var">witness</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1714"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SomeSigningWitness -&gt; ByronOrShelleyWitness
</span><a href="Cardano.CLI.Read.html#categoriseSomeSigningWitness"><span class="hs-identifier hs-var">categoriseSomeSigningWitness</span></a></span><span> </span><span class="annot"><span class="annottext">SomeSigningWitness
</span><a href="#local-6989586621681532835"><span class="hs-identifier hs-var">someWit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1715"></span><span>            </span><span class="hs-comment">-- Byron witnesses require the network ID. This can either be provided</span><span>
</span><span id="line-1716"></span><span>            </span><span class="hs-comment">-- directly or derived from a provided Byron address.</span><span>
</span><span id="line-1717"></span><span>            </span><span class="annot"><a href="Cardano.CLI.Read.html#AByronWitness"><span class="hs-identifier hs-type">AByronWitness</span></a></span><span> </span><span id="local-6989586621681532837"><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
</span><a href="#local-6989586621681532837"><span class="hs-identifier hs-var">bootstrapWitData</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1718"></span><span>              </span><span class="annot"><span class="annottext">(BootstrapWitnessError -&gt; TxCmdError)
-&gt; ExceptT BootstrapWitnessError IO (KeyWitness era)
-&gt; ExceptT TxCmdError IO (KeyWitness era)
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">BootstrapWitnessError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdBootstrapWitnessError"><span class="hs-identifier hs-var">TxCmdBootstrapWitnessError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT BootstrapWitnessError IO (KeyWitness era)
 -&gt; ExceptT TxCmdError IO (KeyWitness era))
-&gt; (Either BootstrapWitnessError (KeyWitness era)
    -&gt; ExceptT BootstrapWitnessError IO (KeyWitness era))
-&gt; Either BootstrapWitnessError (KeyWitness era)
-&gt; ExceptT TxCmdError IO (KeyWitness era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either BootstrapWitnessError (KeyWitness era)
-&gt; ExceptT BootstrapWitnessError IO (KeyWitness era)
forall e (m :: * -&gt; *) a. MonadError e m =&gt; Either e a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/mtl-2.3.1-inplace/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-var">liftEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either BootstrapWitnessError (KeyWitness era)
 -&gt; ExceptT TxCmdError IO (KeyWitness era))
-&gt; Either BootstrapWitnessError (KeyWitness era)
-&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1719"></span><span>                </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; Maybe NetworkId
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
forall era.
ShelleyBasedEra era
-&gt; Maybe NetworkId
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
</span><a href="Cardano.CLI.Read.html#mkShelleyBootstrapWitness"><span class="hs-identifier hs-var">mkShelleyBootstrapWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532832"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe NetworkId
</span><a href="#local-6989586621681532817"><span class="hs-identifier hs-var">mNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody (ShelleyLedgerEra era)
</span><a href="#local-6989586621681532834"><span class="hs-identifier hs-var">ledgerTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
</span><a href="#local-6989586621681532837"><span class="hs-identifier hs-var">bootstrapWitData</span></a></span><span>
</span><span id="line-1720"></span><span>            </span><span class="annot"><a href="Cardano.CLI.Read.html#AShelleyKeyWitness"><span class="hs-identifier hs-type">AShelleyKeyWitness</span></a></span><span> </span><span id="local-6989586621681532838"><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681532838"><span class="hs-identifier hs-var">skShelley</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1721"></span><span>              </span><span class="annot"><span class="annottext">KeyWitness era -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyWitness era -&gt; ExceptT TxCmdError IO (KeyWitness era))
-&gt; KeyWitness era -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
forall era.
ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeShelleyKeyWitness"><span class="hs-identifier hs-var">makeShelleyKeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532832"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532833"><span class="hs-identifier hs-var">txbody</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681532838"><span class="hs-identifier hs-var">skShelley</span></a></span><span>
</span><span id="line-1722"></span><span>
</span><span id="line-1723"></span><span>        </span><span class="annot"><span class="annottext">(FileError () -&gt; TxCmdError)
-&gt; ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ()
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">FileError () -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWriteFileError"><span class="hs-identifier hs-var">TxCmdWriteFileError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ())
-&gt; (IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ())
-&gt; IO (Either (FileError ()) ())
-&gt; ExceptT TxCmdError IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ()
forall (m :: * -&gt; *) x a. m (Either x a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">newExceptT</span></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; ExceptT TxCmdError IO ())
-&gt; IO (Either (FileError ()) ()) -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1724"></span><span>          </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; File () 'Out -&gt; KeyWitness era -&gt; IO (Either (FileError ()) ())
forall era.
ShelleyBasedEra era
-&gt; File () 'Out -&gt; KeyWitness era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxWitnessFileTextEnvelope"><span class="hs-identifier hs-var">writeTxWitnessFileTextEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532832"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532819"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="annot"><span class="annottext">KeyWitness era
</span><a href="#local-6989586621681532836"><span class="hs-identifier hs-var">witness</span></a></span><span>
</span><span id="line-1725"></span><span>
</span><span id="line-1726"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignWitnessCmd"><span class="hs-identifier hs-type">runTransactionSignWitnessCmd</span></a></span><span>
</span><span id="line-1727"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1728"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignWitnessCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSignWitnessCmdArgs</span></a></span><span>
</span><span id="line-1729"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1730"></span><span id="runTransactionSignWitnessCmd"><span class="annot"><span class="annottext">runTransactionSignWitnessCmd :: TransactionSignWitnessCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignWitnessCmd"><span class="hs-identifier hs-var hs-var">runTransactionSignWitnessCmd</span></a></span></span><span>
</span><span id="line-1731"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignWitnessCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSignWitnessCmdArgs</span></a></span><span>
</span><span id="line-1732"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txBodyFile :: TransactionSignWitnessCmdArgs -&gt; File (TxBody ()) 'In
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txBodyFile"><span class="hs-identifier hs-var">txBodyFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681532842"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532842"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span>
</span><span id="line-1733"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532843"><span class="annot"><span class="annottext">[WitnessFile]
witnessFiles :: [WitnessFile]
witnessFiles :: TransactionSignWitnessCmdArgs -&gt; [WitnessFile]
</span><a href="#local-6989586621681532843"><span class="hs-identifier hs-var hs-var">witnessFiles</span></a></span></span><span>
</span><span id="line-1734"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532845"><span class="annot"><span class="annottext">File () 'Out
outFile :: File () 'Out
outFile :: TransactionSignWitnessCmdArgs -&gt; File () 'Out
</span><a href="#local-6989586621681532845"><span class="hs-identifier hs-var hs-var">outFile</span></a></span></span><span>
</span><span id="line-1735"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681532847"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: TransactionSignWitnessCmdArgs -&gt; TxCborFormat
</span><a href="#local-6989586621681532847"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-1736"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1737"></span><span>    </span><span id="local-6989586621681532849"><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532849"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532842"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1738"></span><span>    </span><span class="hs-comment">-- unwitnessed body</span><span>
</span><span id="line-1739"></span><span>    </span><span class="annot"><a href="Cardano.CLI.Read.html#IncompleteTxBody"><span class="hs-identifier hs-type">IncompleteTxBody</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532867"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532867"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681532868"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532868"><span class="hs-identifier hs-var">txbody</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1740"></span><span>      </span><span class="annot"><span class="annottext">IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) IncompleteTxBody)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FileOrPipe
-&gt; IO (Either (FileError TextEnvelopeError) IncompleteTxBody)
</span><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-var">readFileTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">FileOrPipe
</span><a href="#local-6989586621681532849"><span class="hs-identifier hs-var">txbodyFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; (ExceptT
      TxCmdError
      IO
      (Either (FileError TextEnvelopeError) IncompleteTxBody)
    -&gt; ExceptT TxCmdError IO IncompleteTxBody)
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError
 -&gt; ExceptT TxCmdError IO IncompleteTxBody)
-&gt; ExceptT
     TxCmdError
     IO
     (Either (FileError TextEnvelopeError) IncompleteTxBody)
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO IncompleteTxBody
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO IncompleteTxBody)
-&gt; (FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; FileError TextEnvelopeError
-&gt; ExceptT TxCmdError IO IncompleteTxBody
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1741"></span><span>    </span><span id="local-6989586621681532869"><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532869"><span class="hs-identifier hs-var">witnesses</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1742"></span><span>      </span><span class="annot"><span class="annottext">[ExceptT TxCmdError IO (KeyWitness era)]
-&gt; ExceptT TxCmdError IO [KeyWitness era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; [m a] -&gt; m [a]
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Traversable.html#sequence"><span class="hs-identifier hs-var">sequence</span></a></span><span>
</span><span id="line-1743"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1744"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681532878"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532878"><span class="hs-identifier hs-var">era'</span></a></span></span><span> </span><span id="local-6989586621681532879"><span class="annot"><span class="annottext">KeyWitness era
</span><a href="#local-6989586621681532879"><span class="hs-identifier hs-var">witness</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1745"></span><span>              </span><span class="annot"><span class="annottext">IO
  (Either
     (FileError TextEnvelopeError) (InAnyShelleyBasedEra KeyWitness))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        (FileError TextEnvelopeError) (InAnyShelleyBasedEra KeyWitness))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/transformers-0.6.1.0-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
-&gt; IO
     (Either
        (FileError TextEnvelopeError) (InAnyShelleyBasedEra KeyWitness))
</span><a href="Cardano.CLI.Read.html#readFileTxKeyWitness"><span class="hs-identifier hs-var">readFileTxKeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532881"><span class="hs-identifier hs-var">file</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1746"></span><span>                </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either
     (FileError TextEnvelopeError) (InAnyShelleyBasedEra KeyWitness))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either
         (FileError TextEnvelopeError) (InAnyShelleyBasedEra KeyWitness))
    -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra KeyWitness))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra KeyWitness)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(FileError TextEnvelopeError
 -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra KeyWitness))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        (FileError TextEnvelopeError) (InAnyShelleyBasedEra KeyWitness))
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra KeyWitness)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra KeyWitness)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError
 -&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra KeyWitness))
-&gt; (FileError TextEnvelopeError -&gt; TxCmdError)
-&gt; FileError TextEnvelopeError
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra KeyWitness)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FileError TextEnvelopeError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-var">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1747"></span><span>
</span><span id="line-1748"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; ShelleyBasedEra era -&gt; Maybe (era :~: era)
forall a b.
ShelleyBasedEra a -&gt; ShelleyBasedEra b -&gt; Maybe (a :~: b)
forall {k} (f :: k -&gt; *) (a :: k) (b :: k).
TestEquality f =&gt;
f a -&gt; f b -&gt; Maybe (a :~: b)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#testEquality"><span class="hs-identifier hs-var">testEquality</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532867"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532878"><span class="hs-identifier hs-var">era'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1749"></span><span>              </span><span class="annot"><span class="annottext">Maybe (era :~: era)
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1750"></span><span>                </span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO (KeyWitness era))
-&gt; TxCmdError -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1751"></span><span>                  </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; AnyCardanoEra -&gt; WitnessFile -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWitnessEraMismatch"><span class="hs-identifier hs-var">TxCmdWitnessEraMismatch</span></a></span><span>
</span><span id="line-1752"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; AnyCardanoEra
forall era. Typeable era =&gt; CardanoEra era -&gt; AnyCardanoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-var">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">(CardanoEra era -&gt; AnyCardanoEra)
-&gt; CardanoEra era -&gt; AnyCardanoEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532867"><span class="hs-identifier hs-var">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1753"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; AnyCardanoEra
forall era. Typeable era =&gt; CardanoEra era -&gt; AnyCardanoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-var">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">(CardanoEra era -&gt; AnyCardanoEra)
-&gt; CardanoEra era -&gt; AnyCardanoEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532878"><span class="hs-identifier hs-var">era'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1754"></span><span>                    </span><span class="annot"><span class="annottext">WitnessFile
</span><a href="#local-6989586621681532883"><span class="hs-identifier hs-var">witnessFile</span></a></span><span>
</span><span id="line-1755"></span><span>              </span><span class="annot"><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">era :~: era
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/Data.Type.Equality.html#Refl"><span class="hs-identifier hs-var">Refl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KeyWitness era -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">KeyWitness era
KeyWitness era
</span><a href="#local-6989586621681532879"><span class="hs-identifier hs-var">witness</span></a></span><span>
</span><span id="line-1756"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681532883"><span class="annot"><span class="annottext">witnessFile :: WitnessFile
</span><a href="#local-6989586621681532883"><span class="hs-identifier hs-var">witnessFile</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#WitnessFile"><span class="hs-identifier hs-type">WitnessFile</span></a></span><span> </span><span id="local-6989586621681532881"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681532881"><span class="hs-identifier hs-var">file</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[WitnessFile]
</span><a href="#local-6989586621681532843"><span class="hs-identifier hs-var">witnessFiles</span></a></span><span>
</span><span id="line-1757"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1758"></span><span>
</span><span id="line-1759"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681532887"><span class="annot"><span class="annottext">tx :: Tx era
</span><a href="#local-6989586621681532887"><span class="hs-identifier hs-var hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681532869"><span class="hs-identifier hs-var">witnesses</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681532868"><span class="hs-identifier hs-var">txbody</span></a></span><span>
</span><span id="line-1760"></span><span>    </span><span class="annot"><span class="annottext">(FileError () -&gt; TxCmdError)
-&gt; ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ()
forall e' (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) e a.
MonadTransError e' t m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; t m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-var">modifyError</span></a></span><span> </span><span class="annot"><span class="annottext">FileError () -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWriteFileError"><span class="hs-identifier hs-var">TxCmdWriteFileError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ())
-&gt; ExceptT (FileError ()) IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1761"></span><span>      </span><span class="annot"><span class="annottext">IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ()
forall e (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
MonadIOTransError e t m =&gt;
IO (Either e a) -&gt; t m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Monad.Error.html#hoistIOEither"><span class="hs-identifier hs-var">hoistIOEither</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ())
-&gt; IO (Either (FileError ()) ()) -&gt; ExceptT (FileError ()) IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/base-4.19.2.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1762"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="#local-6989586621681532847"><span class="hs-identifier hs-var">isCborOutCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat -&gt; TxCborFormat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mh711mc0mji9d8f8a80hqn8z4bix9n6j-ghc-9.8.4-doc/share/doc/ghc-9.8.4/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-var">TxCborCanonical</span></a></span><span>
</span><span id="line-1763"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; File () 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-var">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532867"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532845"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532887"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1764"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; File () 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.4-inplace/cardano-api-10.19.0.0-741c7113fdc9752b5002710446269d9562ef8cc9b3cd35c1afb669488097dfbd/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-var">writeTxFileTextEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681532867"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681532845"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681532887"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1765"></span></pre></body></html>