<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE BlockArguments #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TupleSections #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html"><span class="hs-identifier">Cardano.CLI.EraBased.Transaction.Run</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#partitionSomeWitnesses"><span class="hs-identifier">partitionSomeWitnesses</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCmds"><span class="hs-identifier">runTransactionCmds</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildCmd"><span class="hs-identifier">runTransactionBuildCmd</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildRawCmd"><span class="hs-identifier">runTransactionBuildRawCmd</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignCmd"><span class="hs-identifier">runTransactionSignCmd</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSubmitCmd"><span class="hs-identifier">runTransactionSubmitCmd</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinFeeCmd"><span class="hs-identifier">runTransactionCalculateMinFeeCmd</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinValueCmd"><span class="hs-identifier">runTransactionCalculateMinValueCmd</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionPolicyIdCmd"><span class="hs-identifier">runTransactionPolicyIdCmd</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionHashScriptDataCmd"><span class="hs-identifier">runTransactionHashScriptDataCmd</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionTxIdCmd"><span class="hs-identifier">runTransactionTxIdCmd</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionWitnessCmd"><span class="hs-identifier">runTransactionWitnessCmd</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignWitnessCmd"><span class="hs-identifier">runTransactionSignWitnessCmd</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">where</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">hiding</span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Certificate.Internal.html#Certificate"><span class="hs-identifier">Certificate</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#mkTxCertificates"><span class="hs-identifier">mkTxCertificates</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-consensus-0.30.0.1-885419ec23ef72db59789e28d68eae2af4f190cb157465e68cf6b196a2c4c20d/share/doc/html/src/Ouroboros.Consensus.Ledger.SupportsMempool.html#txId"><span class="hs-identifier">txId</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#validateTxIns"><span class="hs-identifier">validateTxIns</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#validateTxInsCollateral"><span class="hs-identifier">validateTxInsCollateral</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Api</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Byron.html"><span class="hs-identifier">Cardano.Api.Byron</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Byron</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.html"><span class="hs-identifier">Cardano.Api.Experimental</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier">obtainCommonConstraints</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.html"><span class="hs-identifier">Cardano.Api.Experimental</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Exp</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScript.html"><span class="hs-identifier">Cardano.Api.Experimental.AnyScript</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Exp</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScriptWitness.html"><span class="hs-identifier">Cardano.Api.Experimental.AnyScriptWitness</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Exp</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.html"><span class="hs-identifier">Cardano.Api.Experimental.Tx</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Exp</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Ledger.html"><span class="hs-identifier">Cardano.Api.Ledger</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.html"><span class="hs-identifier">Cardano.Api.Network</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Consensus</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.html"><span class="hs-identifier">Cardano.Api.Network</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Net.Tx</span></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-binary-1.7.2.0-ce9a15fbc7756d1bebaef771c8cfc97d748a2796c4be0538ee47f5fe23060ac4/share/doc/html/src/Cardano.Binary.html"><span class="hs-identifier">Cardano.Binary</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CBOR</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html"><span class="hs-identifier">Cardano.CLI.Compatible.Exception</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Transaction.TxOut.html"><span class="hs-identifier">Cardano.CLI.Compatible.Transaction.TxOut</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html"><span class="hs-identifier">Cardano.CLI.EraBased.Genesis.Internal.Common</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier">readProtocolParameters</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Certificate.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Certificate.Read</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Mint.Read</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Proposal.Read</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Read.Common.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Read.Common</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Spend.Read</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Vote.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Vote.Read</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Read.html"><span class="hs-identifier">Cardano.CLI.EraBased.Script.Withdrawal.Read</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html"><span class="hs-identifier">Cardano.CLI.EraBased.Transaction.Command</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html"><span class="hs-identifier">Cardano.CLI.EraBased.Transaction.Command</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Cmd</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html"><span class="hs-identifier">Cardano.CLI.EraBased.Transaction.Internal.HashCheck</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkCertificateHashes"><span class="hs-identifier">checkCertificateHashes</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkProposalHashes"><span class="hs-identifier">checkProposalHashes</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkVotingProcedureHashes"><span class="hs-identifier">checkVotingProcedureHashes</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Json.Encode.html"><span class="hs-identifier">Cardano.CLI.Json.Encode</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Json</span></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Orphan.html"><span class="hs-identifier">Cardano.CLI.Orphan</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html"><span class="hs-identifier">Cardano.CLI.Read</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html"><span class="hs-identifier">Cardano.CLI.Type.Common</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.NodeEraMismatchError.html"><span class="hs-identifier">Cardano.CLI.Type.Error.NodeEraMismatchError</span></a></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.ProtocolParamsError.html"><span class="hs-identifier">Cardano.CLI.Type.Error.ProtocolParamsError</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html"><span class="hs-identifier">Cardano.CLI.Type.Error.TxCmdError</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxValidationError.html"><span class="hs-identifier">Cardano.CLI.Type.Error.TxValidationError</span></a></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Output.html"><span class="hs-identifier">Cardano.CLI.Type.Output</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Output.html#renderScriptCostsWithScriptHashesMap"><span class="hs-identifier">renderScriptCostsWithScriptHashesMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-api-1.12.1.0-8193525204650ce3a4e98c0c8d7b9423cc819c955632c6c072b1a79d31ae9a24/share/doc/html/src/Cardano.Ledger.Api.html"><span class="hs-identifier">Cardano.Ledger.Api</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.html#allInputsTxBodyF"><span class="hs-identifier">allInputsTxBodyF</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.html#bodyTxL"><span class="hs-identifier">bodyTxL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Prelude</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">putLByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">RIO</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#toList"><span class="hs-identifier">toList</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(.=)</span></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Encode.Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">encodePretty</span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bytestring</span></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Char8.html"><span class="hs-identifier">Data.ByteString.Char8</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Lazy.Char8.html"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LBS</span></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Data.html"><span class="hs-identifier">Data.Data</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#%3A~%3A"><span class="hs-operator">(:~:)</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Foldable</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Map.Strict.html"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/text-2.1.2-inplace/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/text-2.1.2-inplace/src/Data.Text.IO.html"><span class="hs-identifier">Data.Text.IO</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Type.Equality.html"><span class="hs-identifier">Data.Type.Equality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#TestEquality"><span class="hs-identifier">TestEquality</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-data-1.2.4.1-fcbeb01ddeba0e6b36b7c8cbe60f15087992a6f6796d19597dee341593fd4e38/share/doc/html/src/Data.Universe.html"><span class="hs-identifier">Data.Universe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-data-1.2.4.1-fcbeb01ddeba0e6b36b7c8cbe60f15087992a6f6796d19597dee341593fd4e38/share/doc/html/src/Data.Universe.html#Some"><span class="hs-identifier">Some</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/GHC.Exts.html"><span class="hs-identifier">GHC.Exts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#IsList"><span class="hs-identifier">IsList</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/System.IO.html"><span class="hs-identifier">System.IO</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IO</span></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Vary</span></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span id="local-6989586621681726801"><span id="local-6989586621681726804"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCmds"><span class="hs-identifier hs-type">runTransactionCmds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726801"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCmds"><span class="hs-identifier hs-type">Cmd.TransactionCmds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726801"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726804"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-101"></span><span id="runTransactionCmds"><span class="annot"><span class="annottext">runTransactionCmds :: forall era e. IsEra era =&gt; TransactionCmds era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCmds"><span class="hs-identifier hs-var hs-var">runTransactionCmds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-102"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildCmd"><span class="hs-identifier hs-type">Cmd.TransactionBuildCmd</span></a></span><span> </span><span id="local-6989586621681727960"><span class="annot"><span class="annottext">TransactionBuildCmdArgs era
</span><a href="#local-6989586621681727960"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><span class="annottext">TransactionBuildCmdArgs era -&gt; CIO e ()
forall era e. IsEra era =&gt; TransactionBuildCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildCmd"><span class="hs-identifier hs-var">runTransactionBuildCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionBuildCmdArgs era
</span><a href="#local-6989586621681727960"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildEstimateCmd"><span class="hs-identifier hs-type">Cmd.TransactionBuildEstimateCmd</span></a></span><span> </span><span id="local-6989586621681727962"><span class="annot"><span class="annottext">TransactionBuildEstimateCmdArgs era
</span><a href="#local-6989586621681727962"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TransactionBuildEstimateCmdArgs era -&gt; CIO e ()
forall era e.
IsEra era =&gt;
TransactionBuildEstimateCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildEstimateCmd"><span class="hs-identifier hs-var">runTransactionBuildEstimateCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionBuildEstimateCmdArgs era
</span><a href="#local-6989586621681727962"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildRawCmd"><span class="hs-identifier hs-type">Cmd.TransactionBuildRawCmd</span></a></span><span> </span><span id="local-6989586621681727965"><span class="annot"><span class="annottext">TransactionBuildRawCmdArgs era
</span><a href="#local-6989586621681727965"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-106"></span><span>    </span><span class="annot"><span class="annottext">TransactionBuildRawCmdArgs era -&gt; CIO e ()
forall era e. TransactionBuildRawCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildRawCmd"><span class="hs-identifier hs-var">runTransactionBuildRawCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionBuildRawCmdArgs era
</span><a href="#local-6989586621681727965"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignCmd"><span class="hs-identifier hs-type">Cmd.TransactionSignCmd</span></a></span><span> </span><span id="local-6989586621681727967"><span class="annot"><span class="annottext">TransactionSignCmdArgs
</span><a href="#local-6989586621681727967"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSignCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignCmd"><span class="hs-identifier hs-var">runTransactionSignCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSignCmdArgs
</span><a href="#local-6989586621681727967"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSubmitCmd"><span class="hs-identifier hs-type">Cmd.TransactionSubmitCmd</span></a></span><span> </span><span id="local-6989586621681727970"><span class="annot"><span class="annottext">TransactionSubmitCmdArgs
</span><a href="#local-6989586621681727970"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSubmitCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSubmitCmd"><span class="hs-identifier hs-var">runTransactionSubmitCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSubmitCmdArgs
</span><a href="#local-6989586621681727970"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinFeeCmd"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinFeeCmd</span></a></span><span> </span><span id="local-6989586621681727972"><span class="annot"><span class="annottext">TransactionCalculateMinFeeCmdArgs
</span><a href="#local-6989586621681727972"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><span class="annottext">TransactionCalculateMinFeeCmdArgs -&gt; CIO e ()
forall e. TransactionCalculateMinFeeCmdArgs -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinFeeCmd"><span class="hs-identifier hs-var">runTransactionCalculateMinFeeCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionCalculateMinFeeCmdArgs
</span><a href="#local-6989586621681727972"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinValueCmd"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinValueCmd</span></a></span><span> </span><span id="local-6989586621681727974"><span class="annot"><span class="annottext">TransactionCalculateMinValueCmdArgs era
</span><a href="#local-6989586621681727974"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-112"></span><span>    </span><span class="annot"><span class="annottext">TransactionCalculateMinValueCmdArgs era -&gt; CIO e ()
forall era e. TransactionCalculateMinValueCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinValueCmd"><span class="hs-identifier hs-var">runTransactionCalculateMinValueCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionCalculateMinValueCmdArgs era
</span><a href="#local-6989586621681727974"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculatePlutusScriptCostCmd"><span class="hs-identifier hs-type">Cmd.TransactionCalculatePlutusScriptCostCmd</span></a></span><span> </span><span id="local-6989586621681727976"><span class="annot"><span class="annottext">TransactionCalculatePlutusScriptCostCmdArgs era
</span><a href="#local-6989586621681727976"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; ExceptT TxCmdError IO ()
forall era.
TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculatePlutusScriptCostCmd"><span class="hs-identifier hs-var">runTransactionCalculatePlutusScriptCostCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionCalculatePlutusScriptCostCmdArgs era
</span><a href="#local-6989586621681727976"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionHashScriptDataCmd"><span class="hs-identifier hs-type">Cmd.TransactionHashScriptDataCmd</span></a></span><span> </span><span id="local-6989586621681727979"><span class="annot"><span class="annottext">TransactionHashScriptDataCmdArgs
</span><a href="#local-6989586621681727979"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionHashScriptDataCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionHashScriptDataCmd"><span class="hs-identifier hs-var">runTransactionHashScriptDataCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionHashScriptDataCmdArgs
</span><a href="#local-6989586621681727979"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionTxIdCmd"><span class="hs-identifier hs-type">Cmd.TransactionTxIdCmd</span></a></span><span> </span><span id="local-6989586621681727981"><span class="annot"><span class="annottext">TransactionTxIdCmdArgs
</span><a href="#local-6989586621681727981"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionTxIdCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionTxIdCmd"><span class="hs-identifier hs-var">runTransactionTxIdCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionTxIdCmdArgs
</span><a href="#local-6989586621681727981"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionPolicyIdCmd"><span class="hs-identifier hs-type">Cmd.TransactionPolicyIdCmd</span></a></span><span> </span><span id="local-6989586621681727983"><span class="annot"><span class="annottext">TransactionPolicyIdCmdArgs
</span><a href="#local-6989586621681727983"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-117"></span><span>    </span><span class="annot"><span class="annottext">TransactionPolicyIdCmdArgs -&gt; CIO e ()
forall e. TransactionPolicyIdCmdArgs -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionPolicyIdCmd"><span class="hs-identifier hs-var">runTransactionPolicyIdCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionPolicyIdCmdArgs
</span><a href="#local-6989586621681727983"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionWitnessCmd"><span class="hs-identifier hs-type">Cmd.TransactionWitnessCmd</span></a></span><span> </span><span id="local-6989586621681727985"><span class="annot"><span class="annottext">TransactionWitnessCmdArgs
</span><a href="#local-6989586621681727985"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionWitnessCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionWitnessCmd"><span class="hs-identifier hs-var">runTransactionWitnessCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionWitnessCmdArgs
</span><a href="#local-6989586621681727985"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignWitnessCmd"><span class="hs-identifier hs-type">Cmd.TransactionSignWitnessCmd</span></a></span><span> </span><span id="local-6989586621681727987"><span class="annot"><span class="annottext">TransactionSignWitnessCmdArgs
</span><a href="#local-6989586621681727987"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO () -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxCmdError IO () -&gt; RIO e ())
-&gt; ExceptT TxCmdError IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSignWitnessCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignWitnessCmd"><span class="hs-identifier hs-var">runTransactionSignWitnessCmd</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionSignWitnessCmdArgs
</span><a href="#local-6989586621681727987"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- Building transactions</span><span>
</span><span id="line-123"></span><span class="hs-comment">--</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span id="local-6989586621681726813"><span id="local-6989586621681726814"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildCmd"><span class="hs-identifier hs-type">runTransactionBuildCmd</span></a></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726813"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726813"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726814"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-129"></span><span id="runTransactionBuildCmd"><span class="annot"><span class="annottext">runTransactionBuildCmd :: forall era e. IsEra era =&gt; TransactionBuildCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildCmd"><span class="hs-identifier hs-var hs-var">runTransactionBuildCmd</span></a></span></span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildCmdArgs</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681728182"><span class="annot"><span class="annottext">Era era
currentEra :: Era era
currentEra :: forall era. TransactionBuildCmdArgs era -&gt; Era era
</span><a href="#local-6989586621681728182"><span class="hs-identifier hs-var hs-var">currentEra</span></a></span></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nodeConnInfo :: forall era. TransactionBuildCmdArgs era -&gt; LocalNodeConnectInfo
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#nodeConnInfo"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-133"></span><span>      </span><span id="local-6989586621681728185"><span class="annot"><span class="annottext">nodeConnInfo :: LocalNodeConnectInfo
</span><a href="#local-6989586621681728185"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#LocalNodeConnectInfo"><span class="hs-identifier hs-type">LocalNodeConnectInfo</span></a></span><span>
</span><span id="line-134"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">localNodeNetworkId :: LocalNodeConnectInfo -&gt; NetworkId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localNodeNetworkId"><span class="hs-identifier hs-var">localNodeNetworkId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728188"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681728188"><span class="hs-identifier hs-var">networkId</span></a></span></span><span>
</span><span id="line-135"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">localNodeSocketPath :: LocalNodeConnectInfo -&gt; SocketPath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localNodeSocketPath"><span class="hs-identifier hs-var">localNodeSocketPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728190"><span class="annot"><span class="annottext">SocketPath
</span><a href="#local-6989586621681728190"><span class="hs-identifier hs-var">nodeSocketPath</span></a></span></span><span>
</span><span id="line-136"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mScriptValidity :: forall era. TransactionBuildCmdArgs era -&gt; Maybe ScriptValidity
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mScriptValidity"><span class="hs-identifier hs-var">mScriptValidity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728192"><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681728192"><span class="hs-identifier hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mOverrideWitnesses :: forall era. TransactionBuildCmdArgs era -&gt; Maybe Word
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mOverrideWitnesses"><span class="hs-identifier hs-var">mOverrideWitnesses</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728194"><span class="annot"><span class="annottext">Maybe Word
</span><a href="#local-6989586621681728194"><span class="hs-identifier hs-var">mOverrideWitnesses</span></a></span></span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728195"><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txins :: [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txins :: forall era.
TransactionBuildCmdArgs era
-&gt; [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681728195"><span class="hs-identifier hs-var hs-var">txins</span></a></span></span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728197"><span class="annot"><span class="annottext">[TxIn]
readOnlyReferenceInputs :: [TxIn]
readOnlyReferenceInputs :: forall era. TransactionBuildCmdArgs era -&gt; [TxIn]
</span><a href="#local-6989586621681728197"><span class="hs-identifier hs-var hs-var">readOnlyReferenceInputs</span></a></span></span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">requiredSigners :: forall era. TransactionBuildCmdArgs era -&gt; [RequiredSigner]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#requiredSigners"><span class="hs-identifier hs-var">requiredSigners</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728200"><span class="annot"><span class="annottext">[RequiredSigner]
</span><a href="#local-6989586621681728200"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728201"><span class="annot"><span class="annottext">[TxIn]
txinsc :: [TxIn]
txinsc :: forall era. TransactionBuildCmdArgs era -&gt; [TxIn]
</span><a href="#local-6989586621681728201"><span class="hs-identifier hs-var hs-var">txinsc</span></a></span></span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mReturnCollateral :: forall era.
TransactionBuildCmdArgs era -&gt; Maybe TxOutShelleyBasedEra
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mReturnCollateral"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728204"><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
</span><a href="#local-6989586621681728204"><span class="hs-identifier hs-var">mReturnColl</span></a></span></span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728205"><span class="annot"><span class="annottext">Maybe Lovelace
mTotalCollateral :: Maybe Lovelace
mTotalCollateral :: forall era. TransactionBuildCmdArgs era -&gt; Maybe Lovelace
</span><a href="#local-6989586621681728205"><span class="hs-identifier hs-var hs-var">mTotalCollateral</span></a></span></span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728207"><span class="annot"><span class="annottext">[TxOutAnyEra]
txouts :: [TxOutAnyEra]
txouts :: forall era. TransactionBuildCmdArgs era -&gt; [TxOutAnyEra]
</span><a href="#local-6989586621681728207"><span class="hs-identifier hs-var hs-var">txouts</span></a></span></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728209"><span class="annot"><span class="annottext">TxOutChangeAddress
changeAddresses :: TxOutChangeAddress
changeAddresses :: forall era. TransactionBuildCmdArgs era -&gt; TxOutChangeAddress
</span><a href="#local-6989586621681728209"><span class="hs-identifier hs-var hs-var">changeAddresses</span></a></span></span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728211"><span class="annot"><span class="annottext">Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: forall era.
TransactionBuildCmdArgs era
-&gt; Maybe (MultiAsset, [ScriptRequirements 'MintItem])
</span><a href="#local-6989586621681728211"><span class="hs-identifier hs-var hs-var">mMintedAssets</span></a></span></span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728213"><span class="annot"><span class="annottext">Maybe SlotNo
mValidityLowerBound :: Maybe SlotNo
mValidityLowerBound :: forall era. TransactionBuildCmdArgs era -&gt; Maybe SlotNo
</span><a href="#local-6989586621681728213"><span class="hs-identifier hs-var hs-var">mValidityLowerBound</span></a></span></span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728215"><span class="annot"><span class="annottext">TxValidityUpperBound era
mValidityUpperBound :: TxValidityUpperBound era
mValidityUpperBound :: forall era. TransactionBuildCmdArgs era -&gt; TxValidityUpperBound era
</span><a href="#local-6989586621681728215"><span class="hs-identifier hs-var hs-var">mValidityUpperBound</span></a></span></span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728217"><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: forall era.
TransactionBuildCmdArgs era
-&gt; [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
</span><a href="#local-6989586621681728217"><span class="hs-identifier hs-var hs-var">certificates</span></a></span></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728219"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: [(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: forall era.
TransactionBuildCmdArgs era
-&gt; [(StakeAddress, Lovelace,
     Maybe (ScriptRequirements 'WithdrawalItem))]
</span><a href="#local-6989586621681728219"><span class="hs-identifier hs-var hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728221"><span class="annot"><span class="annottext">TxMetadataJsonSchema
metadataSchema :: TxMetadataJsonSchema
metadataSchema :: forall era. TransactionBuildCmdArgs era -&gt; TxMetadataJsonSchema
</span><a href="#local-6989586621681728221"><span class="hs-identifier hs-var hs-var">metadataSchema</span></a></span></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728223"><span class="annot"><span class="annottext">[ScriptFile]
scriptFiles :: [ScriptFile]
scriptFiles :: forall era. TransactionBuildCmdArgs era -&gt; [ScriptFile]
</span><a href="#local-6989586621681728223"><span class="hs-identifier hs-var hs-var">scriptFiles</span></a></span></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728225"><span class="annot"><span class="annottext">[MetadataFile]
metadataFiles :: [MetadataFile]
metadataFiles :: forall era. TransactionBuildCmdArgs era -&gt; [MetadataFile]
</span><a href="#local-6989586621681728225"><span class="hs-identifier hs-var hs-var">metadataFiles</span></a></span></span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728227"><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
mUpdateProposalFile :: Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
mUpdateProposalFile :: forall era.
TransactionBuildCmdArgs era
-&gt; Maybe
     (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><a href="#local-6989586621681728227"><span class="hs-identifier hs-var hs-var">mUpdateProposalFile</span></a></span></span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728229"><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: forall era.
TransactionBuildCmdArgs era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681728229"><span class="hs-identifier hs-var hs-var">voteFiles</span></a></span></span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728231"><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: forall era.
TransactionBuildCmdArgs era
-&gt; [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
</span><a href="#local-6989586621681728231"><span class="hs-identifier hs-var hs-var">proposalFiles</span></a></span></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728233"><span class="annot"><span class="annottext">Maybe TxTreasuryDonation
treasuryDonation :: Maybe TxTreasuryDonation
treasuryDonation :: forall era. TransactionBuildCmdArgs era -&gt; Maybe TxTreasuryDonation
</span><a href="#local-6989586621681728233"><span class="hs-identifier hs-var hs-var">treasuryDonation</span></a></span></span><span> </span><span class="hs-comment">-- Maybe TxTreasuryDonation</span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728235"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: forall era. TransactionBuildCmdArgs era -&gt; TxCborFormat
</span><a href="#local-6989586621681728235"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728237"><span class="annot"><span class="annottext">TxBuildOutputOptions
buildOutputOptions :: TxBuildOutputOptions
buildOutputOptions :: forall era. TransactionBuildCmdArgs era -&gt; TxBuildOutputOptions
</span><a href="#local-6989586621681728237"><span class="hs-identifier hs-var hs-var">buildOutputOptions</span></a></span></span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728239"><span class="annot"><span class="annottext">eon :: ShelleyBasedEra era
</span><a href="#local-6989586621681728239"><span class="hs-identifier hs-var hs-var hs-var">eon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728182"><span class="hs-identifier hs-var">currentEra</span></a></span><span>
</span><span id="line-163"></span><span>        </span><span id="local-6989586621681728241"><span class="annot"><span class="annottext">era' :: CardanoEra era
</span><a href="#local-6989586621681728241"><span class="hs-identifier hs-var hs-var hs-var">era'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681728239"><span class="hs-identifier hs-var">eon</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span>    </span><span id="local-6989586621681728243"><span class="annot"><a href="#local-6989586621681728243"><span class="hs-identifier hs-var">txinsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-166"></span><span>      </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, AnyWitness (LedgerEra era))]
forall era e.
IsEra era =&gt;
[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, AnyWitness (LedgerEra era))]
</span><a href="Cardano.CLI.EraBased.Script.Spend.Read.html#readSpendScriptWitnesses"><span class="hs-identifier hs-var">readSpendScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681728195"><span class="hs-identifier hs-var">txins</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728245"><span class="annot"><a href="#local-6989586621681728245"><span class="hs-identifier hs-var hs-var">spendingScriptWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((TxIn, AnyWitness (LedgerEra era)) -&gt; AnyWitness (LedgerEra era))
-&gt; [(TxIn, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn, AnyWitness (LedgerEra era)) -&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728243"><span class="hs-identifier hs-var">txinsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span>    </span><span id="local-6989586621681728247"><span class="annot"><a href="#local-6989586621681728247"><span class="hs-identifier hs-var">certFilesAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-171"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Certificate.Read.html#readCertificateScriptWitnesses"><span class="hs-identifier hs-type">readCertificateScriptWitnesses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728217"><span class="hs-identifier hs-type">certificates</span></a></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-comment">-- TODO: Conway Era - How can we make this more composable?</span><span>
</span><span id="line-174"></span><span>    </span><span id="local-6989586621681728250"><span class="annot"><a href="#local-6989586621681728250"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-175"></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.Certificate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.LedgerEra</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Exp.AnyWitness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.LedgerEra</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-176"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#sequence"><span class="hs-identifier hs-type">sequence</span></a></span><span>
</span><span id="line-177"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621681728252"><span class="hs-identifier hs-type">mSwit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-type">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Error.html#FileError"><span class="hs-identifier hs-type">FileError</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#TextEnvelopeError"><span class="hs-identifier hs-type">TextEnvelopeError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-179"></span><span>                    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728182"><span class="hs-identifier hs-type">currentEra</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-180"></span><span>                      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#readFileTextEnvelope"><span class="hs-identifier hs-type">readFileTextEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728275"><span class="hs-identifier hs-type">certFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#CertificateFile"><span class="hs-identifier hs-type">CertificateFile</span></a></span><span> </span><span id="local-6989586621681728275"><span class="annot"><a href="#local-6989586621681728275"><span class="hs-identifier hs-var">certFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728252"><span class="annot"><a href="#local-6989586621681728252"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621681728247"><span class="hs-identifier hs-type">certFilesAndMaybeScriptWits</span></a></span><span>
</span><span id="line-183"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#forM_"><span class="hs-identifier hs-type">forM_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728250"><span class="hs-identifier hs-type">certsAndMaybeScriptWits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-type">fromExceptTCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkCertificateHashes"><span class="hs-identifier hs-type">checkCertificateHashes</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#fst"><span class="hs-identifier hs-type">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621681728280"><span class="annot"><a href="#local-6989586621681728280"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-188"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Read.html#readWithdrawalScriptWitness"><span class="hs-identifier hs-type">readWithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728219"><span class="hs-identifier hs-type">withdrawals</span></a></span><span>
</span><span id="line-189"></span><span>    </span><span id="local-6989586621681728283"><span class="annot"><a href="#local-6989586621681728283"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Read.html#readTxMetadata"><span class="hs-identifier hs-type">readTxMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728182"><span class="hs-identifier hs-type">currentEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728221"><span class="hs-identifier hs-type">metadataSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728225"><span class="hs-identifier hs-type">metadataFiles</span></a></span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681728285"><span class="annot"><a href="#local-6989586621681728285"><span class="hs-identifier hs-var">mintedMultiAsset</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728286"><span class="annot"><a href="#local-6989586621681728286"><span class="hs-identifier hs-var">sWitFiles</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-type">fromMaybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#mempty"><span class="hs-identifier hs-type">mempty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728211"><span class="hs-identifier hs-type">mMintedAssets</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span id="local-6989586621681728288"><span class="annot"><a href="#local-6989586621681728288"><span class="hs-identifier hs-var">mintingWitnesses</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Read.html#readMintScriptWitness"><span class="hs-identifier hs-type">readMintScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728286"><span class="hs-identifier hs-type">sWitFiles</span></a></span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621681728290"><span class="annot"><a href="#local-6989586621681728290"><span class="hs-identifier hs-var">scripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Read.html#readFileScriptInAnyLang"><span class="hs-identifier hs-type">readFileScriptInAnyLang</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681728223"><span class="hs-identifier hs-type">scriptFiles</span></a></span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621681728293"><span class="annot"><a href="#local-6989586621681728293"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxAuxScripts"><span class="hs-identifier hs-type">validateTxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728290"><span class="hs-identifier hs-type">scripts</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span>    </span><span id="local-6989586621681728296"><span class="annot"><a href="#local-6989586621681728296"><span class="hs-identifier hs-var">mProp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681728227"><span class="hs-identifier hs-type">mUpdateProposalFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Feature.html#Featured"><span class="hs-identifier hs-type">Featured</span></a></span><span> </span><span id="local-6989586621681728298"><span class="annot"><span class="annottext">ShelleyToBabbageEra era
</span><a href="#local-6989586621681728298"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681728299"><span class="annot"><span class="annottext">UpdateProposalFile
</span><a href="#local-6989586621681728299"><span class="hs-identifier hs-var">updateProposalFile</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-201"></span><span>        </span><span class="annot"><span class="annottext">ShelleyToBabbageEra era
-&gt; UpdateProposalFile
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
forall era.
ShelleyToBabbageEra era
-&gt; UpdateProposalFile
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
</span><a href="Cardano.CLI.Read.html#readTxUpdateProposal"><span class="hs-identifier hs-var">readTxUpdateProposal</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyToBabbageEra era
</span><a href="#local-6989586621681728298"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateProposalFile
</span><a href="#local-6989586621681728299"><span class="hs-identifier hs-var">updateProposalFile</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
-&gt; (ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
    -&gt; RIO e (TxUpdateProposal era))
-&gt; RIO e (TxUpdateProposal era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
-&gt; RIO e (TxUpdateProposal era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era -&gt; RIO e (TxUpdateProposal era)
forall a. a -&gt; RIO e a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era
forall era. TxUpdateProposal era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxUpdateProposalNone"><span class="hs-identifier hs-var">TxUpdateProposalNone</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>    </span><span id="local-6989586621681728303"><span class="annot"><a href="#local-6989586621681728303"><span class="hs-identifier hs-var">requiredSigners</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html#readRequiredSigner"><span class="hs-identifier hs-type">readRequiredSigner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681728200"><span class="hs-identifier hs-type">reqSigners</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621681728305"><span class="annot"><a href="#local-6989586621681728305"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.TxOut</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.LedgerEra</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#forM"><span class="hs-identifier hs-type">forM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728204"><span class="hs-identifier hs-type">mReturnColl</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-type">toTxOutInShelleyBasedEra</span></a></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span>    </span><span id="local-6989586621681728308"><span class="annot"><a href="#local-6989586621681728308"><span class="hs-identifier hs-var">txOuts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-210"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInEra"><span class="hs-identifier hs-type">toTxOutInEra</span></a></span><span>
</span><span id="line-212"></span><span>        </span><span class="annot"><a href="#local-6989586621681728207"><span class="hs-identifier hs-type">txouts</span></a></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-comment">-- Conway related</span><span>
</span><span id="line-215"></span><span>    </span><span id="local-6989586621681728310"><span class="annot"><a href="#local-6989586621681728310"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">VotingProcedures</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Exp.AnyWitness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.LedgerEra</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-216"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Vote.Read.html#readVotingProceduresFiles"><span class="hs-identifier hs-type">readVotingProceduresFiles</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728229"><span class="hs-identifier hs-type">voteFiles</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#forM_"><span class="hs-identifier hs-type">forM_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728310"><span class="hs-identifier hs-type">votingProceduresAndMaybeScriptWits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-type">fromExceptTCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkVotingProcedureHashes"><span class="hs-identifier hs-type">checkVotingProcedureHashes</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#fst"><span class="hs-identifier hs-type">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span>    </span><span id="local-6989586621681728312"><span class="annot"><a href="#local-6989586621681728312"><span class="hs-identifier hs-var">proposals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-221"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Read.html#readTxGovernanceActions"><span class="hs-identifier hs-type">readTxGovernanceActions</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728231"><span class="hs-identifier hs-type">proposalFiles</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#forM_"><span class="hs-identifier hs-type">forM_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728312"><span class="hs-identifier hs-type">proposals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-type">fromExceptTCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Internal.HashCheck.html#checkProposalHashes"><span class="hs-identifier hs-type">checkProposalHashes</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#fst"><span class="hs-identifier hs-type">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-comment">-- Extract return addresses from proposals and check that the return address in each proposal is registered</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728314"><span class="annot"><a href="#local-6989586621681728314"><span class="hs-identifier hs-var hs-var">returnAddrHashes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-228"></span><span>          </span><span class="annot"><span class="annottext">[Item (Set StakeCredential)] -&gt; Set StakeCredential
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span>
</span><span id="line-229"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item (Set StakeCredential)
StakeCredential
</span><a href="#local-6989586621681728315"><span class="hs-identifier hs-var">stakeCred</span></a></span><span>
</span><span id="line-230"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681728316"><span class="annot"><span class="annottext">Proposal era
</span><a href="#local-6989586621681728316"><span class="hs-identifier hs-var">proposal</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728312"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-231"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728315"><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681728315"><span class="hs-identifier hs-var">stakeCred</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GovernanceAction era
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; Proposal era
-&gt; (Lovelace, StakeCredential, GovernanceAction era)
forall era.
ShelleyBasedEra era
-&gt; Proposal era
-&gt; (Lovelace, StakeCredential, GovernanceAction era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#fromProposalProcedure"><span class="hs-identifier hs-var">fromProposalProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681728239"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">Proposal era
</span><a href="#local-6989586621681728316"><span class="hs-identifier hs-var">proposal</span></a></span><span>
</span><span id="line-232"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-233"></span><span>        </span><span id="local-6989586621681728318"><span class="annot"><a href="#local-6989586621681728318"><span class="hs-identifier hs-var hs-var">treasuryWithdrawalAddresses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-234"></span><span>          </span><span class="annot"><span class="annottext">[Item (Set StakeCredential)] -&gt; Set StakeCredential
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span>
</span><span id="line-235"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item (Set StakeCredential)
StakeCredential
</span><a href="#local-6989586621681728319"><span class="hs-identifier hs-var">stakeCred</span></a></span><span>
</span><span id="line-236"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681728320"><span class="annot"><span class="annottext">Proposal era
</span><a href="#local-6989586621681728320"><span class="hs-identifier hs-var">proposal</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728312"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-237"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">StakeCredential
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728321"><span class="annot"><span class="annottext">GovernanceAction era
</span><a href="#local-6989586621681728321"><span class="hs-identifier hs-var">govAction</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; Proposal era
-&gt; (Lovelace, StakeCredential, GovernanceAction era)
forall era.
ShelleyBasedEra era
-&gt; Proposal era
-&gt; (Lovelace, StakeCredential, GovernanceAction era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#fromProposalProcedure"><span class="hs-identifier hs-var">fromProposalProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681728239"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">Proposal era
</span><a href="#local-6989586621681728320"><span class="hs-identifier hs-var">proposal</span></a></span><span>
</span><span id="line-238"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#TreasuryWithdrawal"><span class="hs-identifier hs-type">TreasuryWithdrawal</span></a></span><span> </span><span id="local-6989586621681728323"><span class="annot"><span class="annottext">[(Network, StakeCredential, Lovelace)]
</span><a href="#local-6989586621681728323"><span class="hs-identifier hs-var">withdrawalsList</span></a></span></span><span> </span><span class="annot"><span class="annottext">StrictMaybe ScriptHash
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GovernanceAction era
</span><a href="#local-6989586621681728321"><span class="hs-identifier hs-var">govAction</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Match on TreasuryWithdrawal action</span><span>
</span><span id="line-239"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Network
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728319"><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681728319"><span class="hs-identifier hs-var">stakeCred</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Network, StakeCredential, Lovelace)]
</span><a href="#local-6989586621681728323"><span class="hs-identifier hs-var">withdrawalsList</span></a></span><span> </span><span class="hs-comment">-- Extract fund-receiving stake credentials</span><span>
</span><span id="line-240"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-241"></span><span>        </span><span id="local-6989586621681728324"><span class="annot"><a href="#local-6989586621681728324"><span class="hs-identifier hs-var hs-var">allAddrHashes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set StakeCredential -&gt; Set StakeCredential -&gt; Set StakeCredential
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#union"><span class="hs-identifier hs-var">Set.union</span></a></span><span> </span><span class="annot"><span class="annottext">Set StakeCredential
</span><a href="#local-6989586621681728314"><span class="hs-identifier hs-var">returnAddrHashes</span></a></span><span> </span><span class="annot"><span class="annottext">Set StakeCredential
</span><a href="#local-6989586621681728318"><span class="hs-identifier hs-var">treasuryWithdrawalAddresses</span></a></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681728326"><span class="annot"><a href="#local-6989586621681728326"><span class="hs-identifier hs-var">balances</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-244"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span>
</span><span id="line-245"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-type">executeLocalStateQueryExpr</span></a></span><span>
</span><span id="line-246"></span><span>            </span><span class="annot"><a href="#local-6989586621681728185"><span class="hs-identifier hs-type">nodeConnInfo</span></a></span><span>
</span><span id="line-247"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-network-protocols-0.15.2.0-52b14221062ec550f031c2adf46330b1522019890a2b16413d3b31a4f7cbb829/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-type">Consensus.VolatileTip</span></a></span><span>
</span><span id="line-248"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryStakeAddresses"><span class="hs-identifier hs-type">queryStakeAddresses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728239"><span class="hs-identifier hs-type">eon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728324"><span class="hs-identifier hs-type">allAddrHashes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728188"><span class="hs-identifier hs-type">networkId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCIOCli"><span class="hs-identifier hs-type">fromEitherCIOCli</span></a></span><span>
</span><span id="line-251"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCIOCli"><span class="hs-identifier hs-type">fromEitherCIOCli</span></a></span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728333"><span class="annot"><a href="#local-6989586621681728333"><span class="hs-identifier hs-var hs-var">unregisteredAddresses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-254"></span><span>          </span><span class="annot"><span class="annottext">(StakeCredential -&gt; Bool)
-&gt; Set StakeCredential -&gt; Set StakeCredential
forall a. (a -&gt; Bool) -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#filter"><span class="hs-identifier hs-var">Set.filter</span></a></span><span>
</span><span id="line-255"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681728335"><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681728335"><span class="hs-identifier hs-var">stakeCred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StakeAddress -&gt; Map StakeAddress Lovelace -&gt; Bool
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Bool
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Map.Internal.html#notMember"><span class="hs-identifier hs-var">Map.notMember</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NetworkId -&gt; StakeCredential -&gt; StakeAddress
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#makeStakeAddress"><span class="hs-identifier hs-var">makeStakeAddress</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681728188"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">StakeCredential
</span><a href="#local-6989586621681728335"><span class="hs-identifier hs-var">stakeCred</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map StakeAddress Lovelace
</span><a href="#local-6989586621681728326"><span class="hs-identifier hs-var">balances</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>            </span><span class="annot"><span class="annottext">Set StakeCredential
</span><a href="#local-6989586621681728324"><span class="hs-identifier hs-var">allAddrHashes</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.html#unless"><span class="hs-identifier hs-type">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#null"><span class="hs-identifier hs-type">null</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728333"><span class="hs-identifier hs-type">unregisteredAddresses</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-259"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#throwCliError"><span class="hs-identifier hs-type">throwCliError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-260"></span><span>        </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdUnregisteredStakeAddress"><span class="hs-identifier hs-type">TxCmdUnregisteredStakeAddress</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728333"><span class="hs-identifier hs-type">unregisteredAddresses</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-comment">-- the same collateral input can be used for several plutus scripts</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728342"><span class="annot"><a href="#local-6989586621681728342"><span class="hs-identifier hs-var hs-var">filteredTxinsc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nubOrd</span></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681728201"><span class="hs-identifier hs-var">txinsc</span></a></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728344"><span class="annot"><a href="#local-6989586621681728344"><span class="hs-identifier hs-var hs-var">allReferenceInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-266"></span><span>          </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
-&gt; [AnyScriptWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [TxIn]
-&gt; [TxIn]
forall era.
[AnyWitness (LedgerEra era)]
-&gt; [AnyScriptWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [TxIn]
-&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-var">getAllReferenceInputs</span></a></span><span>
</span><span id="line-267"></span><span>            </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681728245"><span class="hs-identifier hs-var">spendingScriptWitnesses</span></a></span><span>
</span><span id="line-268"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((PolicyId, AnyScriptWitness (LedgerEra era))
 -&gt; AnyScriptWitness (LedgerEra era))
-&gt; [(PolicyId, AnyScriptWitness (LedgerEra era))]
-&gt; [AnyScriptWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(PolicyId, AnyScriptWitness (LedgerEra era))
-&gt; AnyScriptWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(PolicyId, AnyScriptWitness (LedgerEra era))]
</span><a href="#local-6989586621681728288"><span class="hs-identifier hs-var">mintingWitnesses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728250"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((StakeAddress, Lovelace, AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeAddress
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728346"><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681728346"><span class="hs-identifier hs-var">wit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681728346"><span class="hs-identifier hs-var">wit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728280"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((VotingProcedures era, AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(VotingProcedures era, AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728310"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Proposal era, AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(Proposal era, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Proposal era, AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728312"><span class="hs-identifier hs-var">proposals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>            </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681728197"><span class="hs-identifier hs-var">readOnlyReferenceInputs</span></a></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728347"><span class="annot"><a href="#local-6989586621681728347"><span class="hs-identifier hs-var hs-var">inputsThatRequireWitnessing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681728348"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681728348"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681728348"><span class="hs-identifier hs-var">input</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (ScriptRequirements 'TxInItem)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681728195"><span class="hs-identifier hs-var">txins</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-276"></span><span>        </span><span id="local-6989586621681728349"><span class="annot"><a href="#local-6989586621681728349"><span class="hs-identifier hs-var hs-var">allTxInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681728347"><span class="hs-identifier hs-var">inputsThatRequireWitnessing</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn] -&gt; [TxIn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681728344"><span class="hs-identifier hs-var">allReferenceInputs</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn] -&gt; [TxIn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681728342"><span class="hs-identifier hs-var">filteredTxinsc</span></a></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span id="local-6989586621681728381"><span class="annot"><a href="#local-6989586621681728381"><span class="hs-identifier hs-var">nodeEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-279"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-type">executeLocalStateQueryExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728185"><span class="hs-identifier hs-type">nodeConnInfo</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-network-protocols-0.15.2.0-52b14221062ec550f031c2adf46330b1522019890a2b16413d3b31a4f7cbb829/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-type">Consensus.VolatileTip</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryCurrentEra"><span class="hs-identifier hs-type">queryCurrentEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCIOCli"><span class="hs-identifier hs-type">fromEitherCIOCli</span></a></span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681728384"><span class="annot"><a href="#local-6989586621681728384"><span class="hs-identifier hs-var">txEraUtxo</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728385"><span class="annot"><a href="#local-6989586621681728385"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728386"><span class="annot"><a href="#local-6989586621681728386"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728387"><span class="annot"><a href="#local-6989586621681728387"><span class="hs-identifier hs-var">featuredCurrentTreasuryValueM</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-283"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span>
</span><span id="line-284"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-type">executeLocalStateQueryExpr</span></a></span><span>
</span><span id="line-285"></span><span>            </span><span class="annot"><a href="#local-6989586621681728185"><span class="hs-identifier hs-type">nodeConnInfo</span></a></span><span>
</span><span id="line-286"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-network-protocols-0.15.2.0-52b14221062ec550f031c2adf46330b1522019890a2b16413d3b31a4f7cbb829/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-type">Consensus.VolatileTip</span></a></span><span>
</span><span id="line-287"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#queryStateForBalancedTx"><span class="hs-identifier hs-type">queryStateForBalancedTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728381"><span class="hs-identifier hs-type">nodeEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728349"><span class="hs-identifier hs-type">allTxInputs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCIOCli"><span class="hs-identifier hs-type">fromEitherCIOCli</span></a></span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728390"><span class="annot"><a href="#local-6989586621681728390"><span class="hs-identifier hs-var hs-var">currentTreasuryValueAndDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-292"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe TxTreasuryDonation
</span><a href="#local-6989586621681728233"><span class="hs-identifier hs-var">treasuryDonation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Featured ConwayEraOnwards era TxCurrentTreasuryValue
-&gt; TxCurrentTreasuryValue
forall (eon :: * -&gt; *) era a. Featured eon era a -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Feature.html#unFeatured"><span class="hs-identifier hs-var">unFeatured</span></a></span><span> </span><span class="annot"><span class="annottext">(Featured ConwayEraOnwards era TxCurrentTreasuryValue
 -&gt; TxCurrentTreasuryValue)
-&gt; Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)
-&gt; Maybe TxCurrentTreasuryValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era TxCurrentTreasuryValue)
</span><a href="#local-6989586621681728387"><span class="hs-identifier hs-var">featuredCurrentTreasuryValueM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-293"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe TxTreasuryDonation
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe TxCurrentTreasuryValue
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
forall a. Maybe a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- We shouldn't specify the treasury value when no donation is being done</span><span>
</span><span id="line-294"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681728392"><span class="annot"><span class="annottext">TxTreasuryDonation
</span><a href="#local-6989586621681728392"><span class="hs-identifier hs-var">_td</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe TxCurrentTreasuryValue
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
forall a. Maybe a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- TODO: Current treasury value couldn't be obtained but is required: we should fail suggesting that the node's version is too old</span><span>
</span><span id="line-295"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681728393"><span class="annot"><span class="annottext">TxTreasuryDonation
</span><a href="#local-6989586621681728393"><span class="hs-identifier hs-var">td</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681728394"><span class="annot"><span class="annottext">TxCurrentTreasuryValue
</span><a href="#local-6989586621681728394"><span class="hs-identifier hs-var">ctv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCurrentTreasuryValue
</span><a href="#local-6989586621681728394"><span class="hs-identifier hs-var">ctv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxTreasuryDonation
</span><a href="#local-6989586621681728393"><span class="hs-identifier hs-var">td</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-comment">-- We need to construct the txBodycontent outside of runTxBuild</span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681728395"><span class="annot"><a href="#local-6989586621681728395"><span class="hs-identifier hs-var">balancedTxBody</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Type.html#UnsignedTx"><span class="hs-identifier hs-type">Exp.UnsignedTx</span></a></span><span> </span><span id="local-6989586621681728439"><span class="annot"><a href="#local-6989586621681728439"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728440"><span class="annot"><a href="#local-6989586621681728440"><span class="hs-identifier hs-var">txBodyContent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-299"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-type">fromExceptTCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-300"></span><span>        </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuild"><span class="hs-identifier hs-type">runTxBuild</span></a></span><span>
</span><span id="line-301"></span><span>          </span><span class="annot"><a href="#local-6989586621681728190"><span class="hs-identifier hs-type">nodeSocketPath</span></a></span><span>
</span><span id="line-302"></span><span>          </span><span class="annot"><a href="#local-6989586621681728188"><span class="hs-identifier hs-type">networkId</span></a></span><span>
</span><span id="line-303"></span><span>          </span><span class="annot"><a href="#local-6989586621681728192"><span class="hs-identifier hs-type">mScriptValidity</span></a></span><span>
</span><span id="line-304"></span><span>          </span><span class="annot"><a href="#local-6989586621681728243"><span class="hs-identifier hs-type">txinsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-305"></span><span>          </span><span class="annot"><a href="#local-6989586621681728344"><span class="hs-identifier hs-type">allReferenceInputs</span></a></span><span>
</span><span id="line-306"></span><span>          </span><span class="annot"><a href="#local-6989586621681728342"><span class="hs-identifier hs-type">filteredTxinsc</span></a></span><span>
</span><span id="line-307"></span><span>          </span><span class="annot"><a href="#local-6989586621681728305"><span class="hs-identifier hs-type">mReturnCollateral</span></a></span><span>
</span><span id="line-308"></span><span>          </span><span class="annot"><a href="#local-6989586621681728205"><span class="hs-identifier hs-type">mTotalCollateral</span></a></span><span>
</span><span id="line-309"></span><span>          </span><span class="annot"><a href="#local-6989586621681728308"><span class="hs-identifier hs-type">txOuts</span></a></span><span>
</span><span id="line-310"></span><span>          </span><span class="annot"><a href="#local-6989586621681728209"><span class="hs-identifier hs-type">changeAddresses</span></a></span><span>
</span><span id="line-311"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681728285"><span class="hs-identifier hs-type">mintedMultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681728288"><span class="hs-identifier hs-type">mintingWitnesses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>          </span><span class="annot"><a href="#local-6989586621681728213"><span class="hs-identifier hs-type">mValidityLowerBound</span></a></span><span>
</span><span id="line-313"></span><span>          </span><span class="annot"><a href="#local-6989586621681728215"><span class="hs-identifier hs-type">mValidityUpperBound</span></a></span><span>
</span><span id="line-314"></span><span>          </span><span class="annot"><a href="#local-6989586621681728250"><span class="hs-identifier hs-type">certsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-315"></span><span>          </span><span class="annot"><a href="#local-6989586621681728280"><span class="hs-identifier hs-type">withdrawalsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-316"></span><span>          </span><span class="annot"><a href="#local-6989586621681728303"><span class="hs-identifier hs-type">requiredSigners</span></a></span><span>
</span><span id="line-317"></span><span>          </span><span class="annot"><a href="#local-6989586621681728293"><span class="hs-identifier hs-type">txAuxScripts</span></a></span><span>
</span><span id="line-318"></span><span>          </span><span class="annot"><a href="#local-6989586621681728283"><span class="hs-identifier hs-type">txMetadata</span></a></span><span>
</span><span id="line-319"></span><span>          </span><span class="annot"><a href="#local-6989586621681728296"><span class="hs-identifier hs-type">mProp</span></a></span><span>
</span><span id="line-320"></span><span>          </span><span class="annot"><a href="#local-6989586621681728194"><span class="hs-identifier hs-type">mOverrideWitnesses</span></a></span><span>
</span><span id="line-321"></span><span>          </span><span class="annot"><a href="#local-6989586621681728310"><span class="hs-identifier hs-type">votingProceduresAndMaybeScriptWits</span></a></span><span>
</span><span id="line-322"></span><span>          </span><span class="annot"><a href="#local-6989586621681728312"><span class="hs-identifier hs-type">proposals</span></a></span><span>
</span><span id="line-323"></span><span>          </span><span class="annot"><a href="#local-6989586621681728390"><span class="hs-identifier hs-type">currentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span>    </span><span class="hs-comment">-- TODO: Calculating the script cost should live as a different command.</span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-comment">-- Why? Because then we can simply read a txbody and figure out</span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-comment">-- the script cost vs having to build the tx body each time</span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681728237"><span class="hs-identifier hs-type">buildOutputOptions</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-329"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#OutputScriptCostOnly"><span class="hs-identifier hs-type">OutputScriptCostOnly</span></a></span><span> </span><span id="local-6989586621681728443"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681728443"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-330"></span><span>        </span><span class="hs-comment">-- Warn that the parameter is deprecated to stderr</span><span>
</span><span id="line-331"></span><span>        </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-332"></span><span>          </span><span class="annot"><span class="annottext">Handle -&gt; FilePath -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IO.Handle.Text.html#hPutStrLn"><span class="hs-identifier hs-var">IO.hPutStrLn</span></a></span><span>
</span><span id="line-333"></span><span>            </span><span class="annot"><span class="annottext">Handle
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IO.StdHandles.html#stderr"><span class="hs-identifier hs-var">IO.stderr</span></a></span><span>
</span><span id="line-334"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;Warning: The `--calculate-plutus-script-cost` parameter is deprecated and will be &quot;</span></span><span>
</span><span id="line-335"></span><span>                </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;removed in a future version. Please use the `calculate-script-cost` command instead.&quot;</span></span><span>
</span><span id="line-336"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728447"><span class="annot"><span class="annottext">mTxProtocolParams :: Maybe (PParams (LedgerEra era))
</span><a href="#local-6989586621681728447"><span class="hs-identifier hs-var hs-var hs-var">mTxProtocolParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent (LedgerEra era) -&gt; Maybe (PParams (LedgerEra era))
forall era. TxBodyContent era -&gt; Maybe (PParams era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#txProtocolParams"><span class="hs-identifier hs-var">Exp.txProtocolParams</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent (LedgerEra era)
</span><a href="#local-6989586621681728440"><span class="hs-identifier hs-var">txBodyContent</span></a></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span>        </span><span id="local-6989586621681728449"><span class="annot"><a href="#local-6989586621681728449"><span class="hs-identifier hs-var">pparams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-341"></span><span>          </span><span class="annot"><span class="annottext">Maybe (PParams (LedgerEra era))
</span><a href="#local-6989586621681728447"><span class="hs-identifier hs-var">mTxProtocolParams</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (PParams (LedgerEra era))
-&gt; (Maybe (PParams (LedgerEra era))
    -&gt; RIO e (PParams (LedgerEra era)))
-&gt; RIO e (PParams (LedgerEra era))
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError
-&gt; Maybe (PParams (LedgerEra era))
-&gt; CIO e (PParams (LedgerEra era))
forall err a e.
(Show err, Typeable err, Error err) =&gt;
err -&gt; Maybe a -&gt; CIO e a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromMaybeCli"><span class="hs-identifier hs-var">fromMaybeCli</span></a></span><span> </span><span class="annot"><span class="annottext">TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdProtocolParametersNotPresentInTxBody"><span class="hs-identifier hs-var">TxCmdProtocolParametersNotPresentInTxBody</span></a></span><span>
</span><span id="line-342"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728452"><span class="annot"><a href="#local-6989586621681728452"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">L.Prices</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681728249"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728449"><span class="hs-identifier hs-type">pparams</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">^.</span></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-alonzo-1.14.0.0-d73ceb911243aab8a77f40c0742090dc8a815492f89d73573dabdaa0d1884273/share/doc/html/src/Cardano.Ledger.Alonzo.PParams.html#ppPricesL"><span class="hs-identifier hs-type">L.ppPricesL</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#Refl"><span class="hs-identifier hs-type">Refl</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-345"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#testEquality"><span class="hs-identifier hs-type">testEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728241"><span class="hs-identifier hs-type">era'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728381"><span class="hs-identifier hs-type">nodeEra</span></a></span><span>
</span><span id="line-346"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromMaybeCli"><span class="hs-identifier hs-type">fromMaybeCli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Error.NodeEraMismatchError.html#NodeEraMismatchError"><span class="hs-identifier hs-type">NodeEraMismatchError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728241"><span class="hs-identifier hs-type">era'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728381"><span class="hs-identifier hs-type">nodeEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728496"><span class="annot"><a href="#local-6989586621681728496"><span class="hs-identifier hs-var hs-var">ledgerUTxO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-349"></span><span>              </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; UTxO (LedgerEra era))
-&gt; UTxO (LedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681728249"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; UTxO (LedgerEra era))
 -&gt; UTxO (LedgerEra era))
-&gt; (EraCommonConstraints era =&gt; UTxO (LedgerEra era))
-&gt; UTxO (LedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; UTxO era -&gt; UTxO (ShelleyLedgerEra era)
forall era.
ShelleyBasedEra era -&gt; UTxO era -&gt; UTxO (ShelleyLedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerUTxO"><span class="hs-identifier hs-var">Api.toLedgerUTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">(Era era -&gt; ShelleyBasedEra era) -&gt; Era era -&gt; ShelleyBasedEra era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681728249"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTxO era
UTxO era
</span><a href="#local-6989586621681728384"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-350"></span><span>            </span><span id="local-6989586621681728514"><span class="annot"><a href="#local-6989586621681728514"><span class="hs-identifier hs-var hs-var">scriptExecUnitsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-351"></span><span>              </span><span class="annot"><span class="annottext">SystemStart
-&gt; LedgerEpochInfo
-&gt; PParams (LedgerEra era)
-&gt; UTxO (LedgerEra era)
-&gt; Tx (LedgerEra era)
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
forall era.
IsEra era =&gt;
SystemStart
-&gt; LedgerEpochInfo
-&gt; PParams (LedgerEra era)
-&gt; UTxO (LedgerEra era)
-&gt; Tx (LedgerEra era)
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Fee.html#evaluateTransactionExecutionUnits"><span class="hs-identifier hs-var">Exp.evaluateTransactionExecutionUnits</span></a></span><span>
</span><span id="line-352"></span><span>                </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681728386"><span class="hs-identifier hs-var">systemStart</span></a></span><span>
</span><span id="line-353"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EraHistory -&gt; LedgerEpochInfo
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerEpochInfo"><span class="hs-identifier hs-var">toLedgerEpochInfo</span></a></span><span> </span><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681728385"><span class="hs-identifier hs-var">eraHistory</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>                </span><span class="annot"><span class="annottext">PParams (LedgerEra era)
</span><a href="#local-6989586621681728449"><span class="hs-identifier hs-var">pparams</span></a></span><span>
</span><span id="line-355"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; UTxO (LedgerEra era))
-&gt; UTxO (LedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681728249"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTxO (LedgerEra era)
EraCommonConstraints era =&gt; UTxO (LedgerEra era)
</span><a href="#local-6989586621681728496"><span class="hs-identifier hs-var">ledgerUTxO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span>                </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
</span><a href="#local-6989586621681728439"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728518"><span class="annot"><a href="#local-6989586621681728518"><span class="hs-identifier hs-var hs-var">scriptHashes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnsignedTx (LedgerEra era)
-&gt; UTxO (LedgerEra era) -&gt; Map ScriptWitnessIndex ScriptHash
forall era.
IsEra era =&gt;
UnsignedTx (LedgerEra era)
-&gt; UTxO (LedgerEra era) -&gt; Map ScriptWitnessIndex ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.html#collectPlutusScriptHashes"><span class="hs-identifier hs-var">Exp.collectPlutusScriptHashes</span></a></span><span> </span><span class="annot"><span class="annottext">UnsignedTx (LedgerEra era)
</span><a href="#local-6989586621681728395"><span class="hs-identifier hs-var">balancedTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO (LedgerEra era)
</span><a href="#local-6989586621681728496"><span class="hs-identifier hs-var">ledgerUTxO</span></a></span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span>        </span><span id="local-6989586621681728520"><span class="annot"><a href="#local-6989586621681728520"><span class="hs-identifier hs-var">scriptCostOutput</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-361"></span><span>          </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-362"></span><span>            </span><span class="annot"><a href="Cardano.CLI.Type.Output.html#renderScriptCostsWithScriptHashesMap"><span class="hs-identifier hs-type">renderScriptCostsWithScriptHashesMap</span></a></span><span>
</span><span id="line-363"></span><span>              </span><span class="annot"><a href="#local-6989586621681728452"><span class="hs-identifier hs-type">executionUnitPrices</span></a></span><span>
</span><span id="line-364"></span><span>              </span><span class="annot"><a href="#local-6989586621681728518"><span class="hs-identifier hs-type">scriptHashes</span></a></span><span>
</span><span id="line-365"></span><span>              </span><span class="annot"><a href="#local-6989586621681728514"><span class="hs-identifier hs-type">scriptExecUnitsMap</span></a></span><span>
</span><span id="line-366"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier hs-type">LBS.writeFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728443"><span class="hs-identifier hs-type">fp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">encodePretty</span></span><span> </span><span class="annot"><a href="#local-6989586621681728520"><span class="hs-identifier hs-type">scriptCostOutput</span></a></span><span>
</span><span id="line-367"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#OutputTxBodyOnly"><span class="hs-identifier hs-type">OutputTxBodyOnly</span></a></span><span> </span><span id="local-6989586621681728523"><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681728523"><span class="hs-identifier hs-var">fpath</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (Either (FileError ()) ()) -&gt; RIO e ()
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-368"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728524"><span class="annot"><span class="annottext">noWitTx :: Tx era
</span><a href="#local-6989586621681728524"><span class="hs-identifier hs-var hs-var">noWitTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Tx (ShelleyLedgerEra era) -&gt; Tx era
forall era.
ShelleyBasedEra era -&gt; Tx (ShelleyLedgerEra era) -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTx"><span class="hs-identifier hs-var">ShelleyTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; ShelleyBasedEra era
forall era. ShelleyBasedEra era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681728239"><span class="hs-identifier hs-var">eon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Tx (ShelleyLedgerEra era) -&gt; Tx era)
-&gt; Tx (ShelleyLedgerEra era) -&gt; Tx era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; Tx (ShelleyLedgerEra era))
-&gt; Tx (ShelleyLedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681728249"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
Tx (LedgerEra era)
EraCommonConstraints era =&gt; Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681728439"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="#local-6989586621681728235"><span class="hs-identifier hs-var">isCborOutCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat -&gt; TxCborFormat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TxCborFormat
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-var">TxCborCanonical</span></a></span><span>
</span><span id="line-371"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-var">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681728239"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681728523"><span class="hs-identifier hs-var">fpath</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681728524"><span class="hs-identifier hs-var">noWitTx</span></a></span><span>
</span><span id="line-372"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBodyFile 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
forall era content.
ShelleyBasedEra era
-&gt; File content 'Out -&gt; Tx era -&gt; IO (Either (FileError ()) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-var">writeTxFileTextEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681728239"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyFile 'Out
</span><a href="#local-6989586621681728523"><span class="hs-identifier hs-var">fpath</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681728524"><span class="hs-identifier hs-var">noWitTx</span></a></span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span id="local-6989586621681727076"><span id="local-6989586621681727077"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInEra"><span class="hs-identifier hs-type">toTxOutInEra</span></a></span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727076"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-376"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutAnyEra"><span class="hs-identifier hs-type">TxOutAnyEra</span></a></span><span>
</span><span id="line-377"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727077"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxOut"><span class="hs-identifier hs-type">Exp.TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727076"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-378"></span><span id="toTxOutInEra"><span class="annot"><span class="annottext">toTxOutInEra :: forall era e.
IsEra era =&gt;
TxOutAnyEra -&gt; CIO e (TxOut (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInEra"><span class="hs-identifier hs-var hs-var">toTxOutInEra</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutAnyEra"><span class="hs-identifier hs-type">TxOutAnyEra</span></a></span><span> </span><span id="local-6989586621681728551"><span class="annot"><span class="annottext">AddressAny
</span><a href="#local-6989586621681728551"><span class="hs-identifier hs-var">addr'</span></a></span></span><span> </span><span id="local-6989586621681728552"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681728552"><span class="hs-identifier hs-var">val'</span></a></span></span><span> </span><span id="local-6989586621681728553"><span class="annot"><span class="annottext">TxOutDatumAnyEra
</span><a href="#local-6989586621681728553"><span class="hs-identifier hs-var">mDatumHash</span></a></span></span><span> </span><span id="local-6989586621681728554"><span class="annot"><span class="annottext">ReferenceScriptAnyEra
</span><a href="#local-6989586621681728554"><span class="hs-identifier hs-var">refScriptFp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-379"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728555"><span class="annot"><span class="annottext">addr :: AddressInEra era
</span><a href="#local-6989586621681728555"><span class="hs-identifier hs-var hs-var hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; AddressAny -&gt; AddressInEra era
forall era. ShelleyBasedEra era -&gt; AddressAny -&gt; AddressInEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#anyAddressInShelleyBasedEra"><span class="hs-identifier hs-var">anyAddressInShelleyBasedEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AddressAny
</span><a href="#local-6989586621681728551"><span class="hs-identifier hs-var">addr'</span></a></span><span>
</span><span id="line-380"></span><span>  </span><span id="local-6989586621681728557"><span class="annot"><a href="#local-6989586621681728557"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; AddressInEra era
-&gt; Value
-&gt; TxOutDatumAnyEra
-&gt; ReferenceScriptAnyEra
-&gt; CIO e (TxOut CtxTx era)
forall era e.
ShelleyBasedEra era
-&gt; AddressInEra era
-&gt; Value
-&gt; TxOutDatumAnyEra
-&gt; ReferenceScriptAnyEra
-&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.Compatible.Transaction.TxOut.html#mkTxOut"><span class="hs-identifier hs-var">mkTxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AddressInEra era
</span><a href="#local-6989586621681728555"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681728552"><span class="hs-identifier hs-var">val'</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutDatumAnyEra
</span><a href="#local-6989586621681728553"><span class="hs-identifier hs-var">mDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">ReferenceScriptAnyEra
</span><a href="#local-6989586621681728554"><span class="hs-identifier hs-var">refScriptFp</span></a></span><span>
</span><span id="line-381"></span><span>  </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#fromLegacyTxOut"><span class="hs-identifier hs-type">Exp.fromLegacyTxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728557"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildEstimateCmd"><span class="hs-identifier hs-type">runTransactionBuildEstimateCmd</span></a></span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681726816"><span class="annot"><a href="#local-6989586621681726816"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621681726817"><span class="annot"><a href="#local-6989586621681726817"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-385"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726816"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildEstimateCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildEstimateCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726816"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-387"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726817"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span id="runTransactionBuildEstimateCmd"><span class="annot"><span class="annottext">runTransactionBuildEstimateCmd :: forall era e.
IsEra era =&gt;
TransactionBuildEstimateCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildEstimateCmd"><span class="hs-identifier hs-var hs-var">runTransactionBuildEstimateCmd</span></a></span></span><span> </span><span class="hs-comment">-- TODO change type</span><span>
</span><span id="line-389"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildEstimateCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildEstimateCmdArgs</span></a></span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681728697"><span class="annot"><span class="annottext">Era era
currentEra :: Era era
currentEra :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Era era
</span><a href="#local-6989586621681728697"><span class="hs-identifier hs-var hs-var">currentEra</span></a></span></span><span>
</span><span id="line-391"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728699"><span class="annot"><span class="annottext">Maybe ScriptValidity
mScriptValidity :: Maybe ScriptValidity
mScriptValidity :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; Maybe ScriptValidity
</span><a href="#local-6989586621681728699"><span class="hs-identifier hs-var hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-392"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728701"><span class="annot"><span class="annottext">Int
shelleyWitnesses :: Int
shelleyWitnesses :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Int
</span><a href="#local-6989586621681728701"><span class="hs-identifier hs-var hs-var">shelleyWitnesses</span></a></span></span><span>
</span><span id="line-393"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728703"><span class="annot"><span class="annottext">Maybe Int
mByronWitnesses :: Maybe Int
mByronWitnesses :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Maybe Int
</span><a href="#local-6989586621681728703"><span class="hs-identifier hs-var hs-var">mByronWitnesses</span></a></span></span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728705"><span class="annot"><span class="annottext">ProtocolParamsFile
protocolParamsFile :: ProtocolParamsFile
protocolParamsFile :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; ProtocolParamsFile
</span><a href="#local-6989586621681728705"><span class="hs-identifier hs-var hs-var">protocolParamsFile</span></a></span></span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728707"><span class="annot"><span class="annottext">Value
totalUTxOValue :: Value
totalUTxOValue :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Value
</span><a href="#local-6989586621681728707"><span class="hs-identifier hs-var hs-var">totalUTxOValue</span></a></span></span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728709"><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txins :: [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txins :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681728709"><span class="hs-identifier hs-var hs-var">txins</span></a></span></span><span>
</span><span id="line-397"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">readOnlyReferenceInputs :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#readOnlyReferenceInputs"><span class="hs-identifier hs-var">readOnlyReferenceInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728712"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681728712"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-398"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">requiredSigners :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [RequiredSigner]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#requiredSigners"><span class="hs-identifier hs-var">requiredSigners</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728714"><span class="annot"><span class="annottext">[RequiredSigner]
</span><a href="#local-6989586621681728714"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-399"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txinsc :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txinsc"><span class="hs-identifier hs-var">txinsc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728716"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681728716"><span class="hs-identifier hs-var">txInsCollateral</span></a></span></span><span>
</span><span id="line-400"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mReturnCollateral :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; Maybe TxOutShelleyBasedEra
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mReturnCollateral"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728718"><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
</span><a href="#local-6989586621681728718"><span class="hs-identifier hs-var">mReturnColl</span></a></span></span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728719"><span class="annot"><span class="annottext">[TxOutAnyEra]
txouts :: [TxOutAnyEra]
txouts :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [TxOutAnyEra]
</span><a href="#local-6989586621681728719"><span class="hs-identifier hs-var hs-var">txouts</span></a></span></span><span>
</span><span id="line-402"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">changeAddress :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; TxOutChangeAddress
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#changeAddress"><span class="hs-identifier hs-var">changeAddress</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutChangeAddress"><span class="hs-identifier hs-type">TxOutChangeAddress</span></a></span><span> </span><span id="local-6989586621681728723"><span class="annot"><span class="annottext">AddressAny
</span><a href="#local-6989586621681728723"><span class="hs-identifier hs-var">changeAddr</span></a></span></span><span>
</span><span id="line-403"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728724"><span class="annot"><span class="annottext">Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; Maybe (MultiAsset, [ScriptRequirements 'MintItem])
</span><a href="#local-6989586621681728724"><span class="hs-identifier hs-var hs-var">mMintedAssets</span></a></span></span><span>
</span><span id="line-404"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728726"><span class="annot"><span class="annottext">Maybe SlotNo
mValidityLowerBound :: Maybe SlotNo
mValidityLowerBound :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Maybe SlotNo
</span><a href="#local-6989586621681728726"><span class="hs-identifier hs-var hs-var">mValidityLowerBound</span></a></span></span><span>
</span><span id="line-405"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728728"><span class="annot"><span class="annottext">TxValidityUpperBound era
mValidityUpperBound :: TxValidityUpperBound era
mValidityUpperBound :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; TxValidityUpperBound era
</span><a href="#local-6989586621681728728"><span class="hs-identifier hs-var hs-var">mValidityUpperBound</span></a></span></span><span>
</span><span id="line-406"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728730"><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
</span><a href="#local-6989586621681728730"><span class="hs-identifier hs-var hs-var">certificates</span></a></span></span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728732"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: [(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(StakeAddress, Lovelace,
     Maybe (ScriptRequirements 'WithdrawalItem))]
</span><a href="#local-6989586621681728732"><span class="hs-identifier hs-var hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-408"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728734"><span class="annot"><span class="annottext">TxMetadataJsonSchema
metadataSchema :: TxMetadataJsonSchema
metadataSchema :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; TxMetadataJsonSchema
</span><a href="#local-6989586621681728734"><span class="hs-identifier hs-var hs-var">metadataSchema</span></a></span></span><span>
</span><span id="line-409"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728736"><span class="annot"><span class="annottext">[ScriptFile]
scriptFiles :: [ScriptFile]
scriptFiles :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [ScriptFile]
</span><a href="#local-6989586621681728736"><span class="hs-identifier hs-var hs-var">scriptFiles</span></a></span></span><span>
</span><span id="line-410"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728738"><span class="annot"><span class="annottext">[MetadataFile]
metadataFiles :: [MetadataFile]
metadataFiles :: forall era. TransactionBuildEstimateCmdArgs era -&gt; [MetadataFile]
</span><a href="#local-6989586621681728738"><span class="hs-identifier hs-var hs-var">metadataFiles</span></a></span></span><span>
</span><span id="line-411"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728740"><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681728740"><span class="hs-identifier hs-var hs-var">voteFiles</span></a></span></span><span>
</span><span id="line-412"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728742"><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
</span><a href="#local-6989586621681728742"><span class="hs-identifier hs-var hs-var">proposalFiles</span></a></span></span><span>
</span><span id="line-413"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728744"><span class="annot"><span class="annottext">Maybe Lovelace
plutusCollateral :: Maybe Lovelace
plutusCollateral :: forall era. TransactionBuildEstimateCmdArgs era -&gt; Maybe Lovelace
</span><a href="#local-6989586621681728744"><span class="hs-identifier hs-var hs-var">plutusCollateral</span></a></span></span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728746"><span class="annot"><span class="annottext">Maybe ReferenceScriptSize
totalReferenceScriptSize :: Maybe ReferenceScriptSize
totalReferenceScriptSize :: forall era.
TransactionBuildEstimateCmdArgs era -&gt; Maybe ReferenceScriptSize
</span><a href="#local-6989586621681728746"><span class="hs-identifier hs-var hs-var">totalReferenceScriptSize</span></a></span></span><span>
</span><span id="line-415"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728748"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
currentTreasuryValueAndDonation :: Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
currentTreasuryValueAndDonation :: forall era.
TransactionBuildEstimateCmdArgs era
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681728748"><span class="hs-identifier hs-var hs-var">currentTreasuryValueAndDonation</span></a></span></span><span>
</span><span id="line-416"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728750"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: forall era. TransactionBuildEstimateCmdArgs era -&gt; TxCborFormat
</span><a href="#local-6989586621681728750"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-417"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728752"><span class="annot"><span class="annottext">TxBodyFile 'Out
txBodyOutFile :: TxBodyFile 'Out
txBodyOutFile :: forall era. TransactionBuildEstimateCmdArgs era -&gt; TxBodyFile 'Out
</span><a href="#local-6989586621681728752"><span class="hs-identifier hs-var hs-var">txBodyOutFile</span></a></span></span><span>
</span><span id="line-418"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-419"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728754"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621681728754"><span class="hs-identifier hs-var hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728697"><span class="hs-identifier hs-var">currentEra</span></a></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span>    </span><span id="local-6989586621681728755"><span class="annot"><a href="#local-6989586621681728755"><span class="hs-identifier hs-var">ledgerPParams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-422"></span><span>      </span><span class="annot"><span class="annottext">ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
-&gt; RIO e (PParams (LedgerEra era))
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
 -&gt; RIO e (PParams (LedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
-&gt; RIO e (PParams (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-423"></span><span>        </span><span class="annot"><span class="annottext">forall era.
IsEra era =&gt;
ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-var">readProtocolParameters</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681726816"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681728705"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span>    </span><span id="local-6989586621681728756"><span class="annot"><a href="#local-6989586621681728756"><span class="hs-identifier hs-var">txInsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-426"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Spend.Read.html#readSpendScriptWitnesses"><span class="hs-identifier hs-type">readSpendScriptWitnesses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728709"><span class="hs-identifier hs-type">txins</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span>    </span><span id="local-6989586621681728757"><span class="annot"><a href="#local-6989586621681728757"><span class="hs-identifier hs-var">certFilesAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-429"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Certificate.Read.html#readCertificateScriptWitnesses"><span class="hs-identifier hs-type">readCertificateScriptWitnesses</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681726816"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728730"><span class="hs-identifier hs-type">certificates</span></a></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span>    </span><span id="local-6989586621681728758"><span class="annot"><a href="#local-6989586621681728758"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-432"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Read.html#readWithdrawalScriptWitness"><span class="hs-identifier hs-type">readWithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728732"><span class="hs-identifier hs-type">withdrawals</span></a></span><span>
</span><span id="line-433"></span><span>    </span><span id="local-6989586621681728759"><span class="annot"><a href="#local-6989586621681728759"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-434"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Read.html#readTxMetadata"><span class="hs-identifier hs-type">readTxMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728697"><span class="hs-identifier hs-type">currentEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728734"><span class="hs-identifier hs-type">metadataSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728738"><span class="hs-identifier hs-type">metadataFiles</span></a></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681728760"><span class="annot"><a href="#local-6989586621681728760"><span class="hs-identifier hs-var">mas</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728761"><span class="annot"><a href="#local-6989586621681728761"><span class="hs-identifier hs-var">sWitFiles</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-type">fromMaybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#mempty"><span class="hs-identifier hs-type">mempty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728724"><span class="hs-identifier hs-type">mMintedAssets</span></a></span><span>
</span><span id="line-437"></span><span>    </span><span id="local-6989586621681728762"><span class="annot"><a href="#local-6989586621681728762"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-438"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681728760"><span class="hs-identifier hs-type">mas</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-type">&lt;$&gt;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Read.html#readMintScriptWitness"><span class="hs-identifier hs-type">readMintScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728761"><span class="hs-identifier hs-type">sWitFiles</span></a></span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span>    </span><span id="local-6989586621681728763"><span class="annot"><a href="#local-6989586621681728763"><span class="hs-identifier hs-var">scripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-441"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Read.html#readFileScriptInAnyLang"><span class="hs-identifier hs-type">readFileScriptInAnyLang</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681728736"><span class="hs-identifier hs-type">scriptFiles</span></a></span><span>
</span><span id="line-442"></span><span>    </span><span id="local-6989586621681728764"><span class="annot"><a href="#local-6989586621681728764"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-443"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxAuxScripts"><span class="hs-identifier hs-type">validateTxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728763"><span class="hs-identifier hs-type">scripts</span></a></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span>    </span><span id="local-6989586621681728765"><span class="annot"><a href="#local-6989586621681728765"><span class="hs-identifier hs-var">requiredSigners</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-446"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html#readRequiredSigner"><span class="hs-identifier hs-type">readRequiredSigner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681728714"><span class="hs-identifier hs-type">reqSigners</span></a></span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span>    </span><span id="local-6989586621681728766"><span class="annot"><a href="#local-6989586621681728766"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-type">toTxOutInShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728718"><span class="hs-identifier hs-type">mReturnColl</span></a></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span>    </span><span id="local-6989586621681728767"><span class="annot"><a href="#local-6989586621681728767"><span class="hs-identifier hs-var">txOuts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInEra"><span class="hs-identifier hs-type">toTxOutInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728719"><span class="hs-identifier hs-type">txouts</span></a></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span>    </span><span class="hs-comment">-- the same collateral input can be used for several plutus scripts</span><span>
</span><span id="line-453"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728768"><span class="annot"><a href="#local-6989586621681728768"><span class="hs-identifier hs-var hs-var">filteredTxinsc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nubOrd</span></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681728716"><span class="hs-identifier hs-var">txInsCollateral</span></a></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span>    </span><span class="hs-comment">-- Conway related</span><span>
</span><span id="line-456"></span><span>    </span><span id="local-6989586621681728769"><span class="annot"><a href="#local-6989586621681728769"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-457"></span><span>      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#inEonForShelleyBasedEra"><span class="hs-identifier hs-type">inEonForShelleyBasedEra</span></a></span><span>
</span><span id="line-458"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-type">pure</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#mempty"><span class="hs-identifier hs-type">mempty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681728771"><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621681728771"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-460"></span><span>            </span><span class="annot"><span class="annottext">ConwayEraOnwards era
-&gt; (ConwayEraOnwardsConstraints era =&gt;
    RIO e [(VotingProcedures era, AnyWitness (LedgerEra era))])
-&gt; RIO e [(VotingProcedures era, AnyWitness (LedgerEra era))]
forall era a.
ConwayEraOnwards era -&gt; (ConwayEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ConwayEraOnwards.html#conwayEraOnwardsConstraints"><span class="hs-identifier hs-var">conwayEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621681728771"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">((ConwayEraOnwardsConstraints era =&gt;
  RIO e [(VotingProcedures era, AnyWitness (LedgerEra era))])
 -&gt; RIO e [(VotingProcedures era, AnyWitness (LedgerEra era))])
-&gt; (ConwayEraOnwardsConstraints era =&gt;
    RIO e [(VotingProcedures era, AnyWitness (LedgerEra era))])
-&gt; RIO e [(VotingProcedures era, AnyWitness (LedgerEra era))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-461"></span><span>              </span><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
-&gt; CIO e [(VotingProcedures era, AnyWitness (LedgerEra era))]
forall era e.
IsEra era =&gt;
[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
-&gt; CIO e [(VotingProcedures era, AnyWitness (LedgerEra era))]
</span><a href="Cardano.CLI.EraBased.Script.Vote.Read.html#readVotingProceduresFiles"><span class="hs-identifier hs-var">readVotingProceduresFiles</span></a></span><span> </span><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681728740"><span class="hs-identifier hs-var">voteFiles</span></a></span><span>
</span><span id="line-462"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>        </span><span class="annot"><a href="#local-6989586621681728754"><span class="hs-identifier hs-type">sbe</span></a></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span>    </span><span id="local-6989586621681728796"><span class="annot"><a href="#local-6989586621681728796"><span class="hs-identifier hs-var">proposals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Read.html#readTxGovernanceActions"><span class="hs-identifier hs-type">readTxGovernanceActions</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728742"><span class="hs-identifier hs-type">proposalFiles</span></a></span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span>    </span><span id="local-6989586621681728797"><span class="annot"><a href="#local-6989586621681728797"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-468"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#sequence"><span class="hs-identifier hs-type">sequence</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-469"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621681728798"><span class="hs-identifier hs-type">mSwit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-type">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728697"><span class="hs-identifier hs-type">currentEra</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-471"></span><span>                    </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-472"></span><span>                      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#readFileTextEnvelope"><span class="hs-identifier hs-type">readFileTextEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728824"><span class="hs-identifier hs-type">certFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-474"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#CertificateFile"><span class="hs-identifier hs-type">CertificateFile</span></a></span><span> </span><span id="local-6989586621681728824"><span class="annot"><a href="#local-6989586621681728824"><span class="hs-identifier hs-var">certFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728798"><span class="annot"><a href="#local-6989586621681728798"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">Exp.AnyWitness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.LedgerEra</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-475"></span><span>            </span><span class="annot"><a href="#local-6989586621681728757"><span class="hs-identifier hs-type">certFilesAndMaybeScriptWits</span></a></span><span>
</span><span id="line-476"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span>    </span><span id="local-6989586621681728825"><span class="annot"><a href="#local-6989586621681728825"><span class="hs-identifier hs-var">txBodyContent</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-479"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-480"></span><span>        </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-type">constructTxBodyContent</span></a></span><span>
</span><span id="line-481"></span><span>          </span><span class="annot"><a href="#local-6989586621681728699"><span class="hs-identifier hs-type">mScriptValidity</span></a></span><span>
</span><span id="line-482"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728755"><span class="hs-identifier hs-type">ledgerPParams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>          </span><span class="annot"><a href="#local-6989586621681728756"><span class="hs-identifier hs-type">txInsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-484"></span><span>          </span><span class="annot"><a href="#local-6989586621681728712"><span class="hs-identifier hs-type">readOnlyRefIns</span></a></span><span>
</span><span id="line-485"></span><span>          </span><span class="annot"><a href="#local-6989586621681728768"><span class="hs-identifier hs-type">filteredTxinsc</span></a></span><span>
</span><span id="line-486"></span><span>          </span><span class="annot"><a href="#local-6989586621681728766"><span class="hs-identifier hs-type">mReturnCollateral</span></a></span><span>
</span><span id="line-487"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-type">Nothing</span></a></span><span> </span><span class="hs-comment">-- TODO: Remove total collateral parameter from estimateBalancedTxBody</span><span>
</span><span id="line-488"></span><span>          </span><span class="annot"><a href="#local-6989586621681728767"><span class="hs-identifier hs-type">txOuts</span></a></span><span>
</span><span id="line-489"></span><span>          </span><span class="annot"><a href="#local-6989586621681728726"><span class="hs-identifier hs-type">mValidityLowerBound</span></a></span><span>
</span><span id="line-490"></span><span>          </span><span class="annot"><a href="#local-6989586621681728728"><span class="hs-identifier hs-type">mValidityUpperBound</span></a></span><span>
</span><span id="line-491"></span><span>          </span><span class="annot"><a href="#local-6989586621681728762"><span class="hs-identifier hs-type">valuesWithScriptWits</span></a></span><span>
</span><span id="line-492"></span><span>          </span><span class="annot"><a href="#local-6989586621681728797"><span class="hs-identifier hs-type">certsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-493"></span><span>          </span><span class="annot"><a href="#local-6989586621681728758"><span class="hs-identifier hs-type">withdrawalsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-494"></span><span>          </span><span class="annot"><a href="#local-6989586621681728765"><span class="hs-identifier hs-type">requiredSigners</span></a></span><span>
</span><span id="line-495"></span><span>          </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-496"></span><span>          </span><span class="annot"><a href="#local-6989586621681728764"><span class="hs-identifier hs-type">txAuxScripts</span></a></span><span>
</span><span id="line-497"></span><span>          </span><span class="annot"><a href="#local-6989586621681728759"><span class="hs-identifier hs-type">txMetadata</span></a></span><span>
</span><span id="line-498"></span><span>          </span><span class="annot"><a href="#local-6989586621681728769"><span class="hs-identifier hs-type">votingProceduresAndMaybeScriptWits</span></a></span><span>
</span><span id="line-499"></span><span>          </span><span class="annot"><a href="#local-6989586621681728796"><span class="hs-identifier hs-type">proposals</span></a></span><span>
</span><span id="line-500"></span><span>          </span><span class="annot"><a href="#local-6989586621681728748"><span class="hs-identifier hs-type">currentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728827"><span class="annot"><a href="#local-6989586621681728827"><span class="hs-identifier hs-var hs-var">stakeCredentialsToDeregisterMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Item (Map StakeCredential Lovelace)]
-&gt; Map StakeCredential Lovelace
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Item (Map StakeCredential Lovelace)]
 -&gt; Map StakeCredential Lovelace)
-&gt; [Item (Map StakeCredential Lovelace)]
-&gt; Map StakeCredential Lovelace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe (Item (Map StakeCredential Lovelace))]
-&gt; [Item (Map StakeCredential Lovelace)]
forall a. [Maybe a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Certificate (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
forall era.
IsEra era =&gt;
Certificate (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getStakeDeregistrationInfo"><span class="hs-identifier hs-var">getStakeDeregistrationInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681728830"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681728830"><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681728830"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728797"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-503"></span><span>        </span><span id="local-6989586621681728831"><span class="annot"><a href="#local-6989586621681728831"><span class="hs-identifier hs-var hs-var">drepsToDeregisterMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-504"></span><span>          </span><span class="annot"><span class="annottext">[Item (Map (Credential 'DRepRole) Lovelace)]
-&gt; Map (Credential 'DRepRole) Lovelace
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Item (Map (Credential 'DRepRole) Lovelace)]
 -&gt; Map (Credential 'DRepRole) Lovelace)
-&gt; [Item (Map (Credential 'DRepRole) Lovelace)]
-&gt; Map (Credential 'DRepRole) Lovelace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-505"></span><span>            </span><span class="annot"><span class="annottext">[Maybe (Item (Map (Credential 'DRepRole) Lovelace))]
-&gt; [Item (Map (Credential 'DRepRole) Lovelace)]
forall a. [Maybe a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Era era
-&gt; Certificate (LedgerEra era)
-&gt; Maybe (Credential 'DRepRole, Lovelace)
forall era.
Era era
-&gt; Certificate (LedgerEra era)
-&gt; Maybe (Credential 'DRepRole, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getDRepDeregistrationInfo"><span class="hs-identifier hs-var">getDRepDeregistrationInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681728833"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681728833"><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681728833"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728797"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-506"></span><span>        </span><span id="local-6989586621681728834"><span class="annot"><a href="#local-6989586621681728834"><span class="hs-identifier hs-var hs-var">poolsToDeregister</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-507"></span><span>          </span><span class="annot"><span class="annottext">[Item (Set PoolId)] -&gt; Set PoolId
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Item (Set PoolId)] -&gt; Set PoolId)
-&gt; [Item (Set PoolId)] -&gt; Set PoolId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-508"></span><span>            </span><span class="annot"><span class="annottext">[Maybe (Item (Set PoolId))] -&gt; [Item (Set PoolId)]
forall a. [Maybe a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Era era -&gt; Certificate (LedgerEra era) -&gt; Maybe PoolId
forall era. Era era -&gt; Certificate (LedgerEra era) -&gt; Maybe PoolId
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getPoolDeregistrationInfo"><span class="hs-identifier hs-var">getPoolDeregistrationInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681728836"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681728836"><span class="annot"><span class="annottext">Certificate (LedgerEra era)
</span><a href="#local-6989586621681728836"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681728797"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-509"></span><span>        </span><span id="local-6989586621681728837"><span class="annot"><a href="#local-6989586621681728837"><span class="hs-identifier hs-var hs-var">totCol</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Maybe Lovelace -&gt; Lovelace
forall a. a -&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681728744"><span class="hs-identifier hs-var">plutusCollateral</span></a></span><span>
</span><span id="line-510"></span><span>        </span><span id="local-6989586621681728838"><span class="annot"><a href="#local-6989586621681728838"><span class="hs-identifier hs-var hs-var">pScriptExecUnits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-511"></span><span>          </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    Map (PlutusPurpose AsIx (LedgerEra era)) ExecutionUnits)
-&gt; Map (PlutusPurpose AsIx (LedgerEra era)) ExecutionUnits
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728697"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt;
  Map (PlutusPurpose AsIx (LedgerEra era)) ExecutionUnits)
 -&gt; Map (PlutusPurpose AsIx (LedgerEra era)) ExecutionUnits)
-&gt; (EraCommonConstraints era =&gt;
    Map (PlutusPurpose AsIx (LedgerEra era)) ExecutionUnits)
-&gt; Map (PlutusPurpose AsIx (LedgerEra era)) ExecutionUnits
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-512"></span><span>            </span><span class="annot"><span class="annottext">[Item (Map (PlutusPurpose AsIx (LedgerEra era)) ExecutionUnits)]
-&gt; Map (PlutusPurpose AsIx (LedgerEra era)) ExecutionUnits
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span>
</span><span id="line-513"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; PlutusPurpose AsIx (LedgerEra era))
-&gt; PlutusPurpose AsIx (LedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728697"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusPurpose AsIx (LedgerEra era)
EraCommonConstraints era =&gt; PlutusPurpose AsIx (LedgerEra era)
</span><a href="#local-6989586621681728856"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyPlutusScriptWitness lang purpose (LedgerEra era)
-&gt; ExecutionUnits
forall (lang :: Language) (purpose :: PlutusScriptPurpose) era.
AnyPlutusScriptWitness lang purpose era -&gt; ExecutionUnits
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScriptWitness.html#getAnyPlutusScriptWitnessExecutionUnits"><span class="hs-identifier hs-var">Exp.getAnyPlutusScriptWitnessExecutionUnits</span></a></span><span> </span><span class="annot"><span class="annottext">AnyPlutusScriptWitness lang purpose (LedgerEra era)
</span><a href="#local-6989586621681728859"><span class="hs-identifier hs-var">psw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-514"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681728860"><span class="annot"><span class="annottext">ScriptWitnessIndex
</span><a href="#local-6989586621681728860"><span class="hs-identifier hs-var">sWitIndex</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScriptWitness.html#AnyScriptWitnessPlutus"><span class="hs-identifier hs-type">Exp.AnyScriptWitnessPlutus</span></a></span><span> </span><span id="local-6989586621681728859"><span class="annot"><span class="annottext">AnyPlutusScriptWitness lang purpose (LedgerEra era)
</span><a href="#local-6989586621681728859"><span class="hs-identifier hs-var">psw</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-515"></span><span>                  </span><span class="annot"><span class="annottext">TxBodyContent (LedgerEra era)
-&gt; [(ScriptWitnessIndex, AnyScriptWitness (LedgerEra era))]
forall era.
IsEra era =&gt;
TxBodyContent (LedgerEra era)
-&gt; [(ScriptWitnessIndex, AnyScriptWitness (LedgerEra era))]
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Fee.html#collectTxBodyScriptWitnesses"><span class="hs-identifier hs-var">Exp.collectTxBodyScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent (LedgerEra era)
</span><a href="#local-6989586621681728825"><span class="hs-identifier hs-var">txBodyContent</span></a></span><span>
</span><span id="line-516"></span><span>              </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728856"><span class="annot"><span class="annottext">PlutusPurpose AsIx (LedgerEra era)
</span><a href="#local-6989586621681728856"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (PlutusPurpose AsIx (LedgerEra era))
-&gt; [PlutusPurpose AsIx (LedgerEra era)]
forall a. Maybe a -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#maybeToList"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (PlutusPurpose AsIx (LedgerEra era))
 -&gt; [PlutusPurpose AsIx (LedgerEra era)])
-&gt; Maybe (PlutusPurpose AsIx (LedgerEra era))
-&gt; [PlutusPurpose AsIx (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; ScriptWitnessIndex
-&gt; Maybe (PlutusPurpose AsIx (ShelleyLedgerEra era))
forall era.
AlonzoEraOnwards era
-&gt; ScriptWitnessIndex
-&gt; Maybe (PlutusPurpose AsIx (ShelleyLedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#fromScriptWitnessIndex"><span class="hs-identifier hs-var">Api.fromScriptWitnessIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; AlonzoEraOnwards era
forall era. Era era -&gt; AlonzoEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728697"><span class="hs-identifier hs-var">currentEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScriptWitnessIndex
</span><a href="#local-6989586621681728860"><span class="hs-identifier hs-var">sWitIndex</span></a></span><span>
</span><span id="line-517"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span>    </span><span id="local-6989586621681728867"><span class="annot"><a href="#local-6989586621681728867"><span class="hs-identifier hs-var">balancedTxBody</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">Exp.TxBodyContent</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.LedgerEra</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-520"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-521"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdFeeEstimationError"><span class="hs-identifier hs-type">TxCmdFeeEstimationError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-522"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Fee.html#estimateBalancedTxBody"><span class="hs-identifier hs-type">Exp.estimateBalancedTxBody</span></a></span><span>
</span><span id="line-523"></span><span>            </span><span class="annot"><a href="#local-6989586621681728697"><span class="hs-identifier hs-type">currentEra</span></a></span><span>
</span><span id="line-524"></span><span>            </span><span class="annot"><a href="#local-6989586621681728825"><span class="hs-identifier hs-type">txBodyContent</span></a></span><span>
</span><span id="line-525"></span><span>            </span><span class="annot"><a href="#local-6989586621681728755"><span class="hs-identifier hs-type">ledgerPParams</span></a></span><span>
</span><span id="line-526"></span><span>            </span><span class="annot"><a href="#local-6989586621681728834"><span class="hs-identifier hs-type">poolsToDeregister</span></a></span><span>
</span><span id="line-527"></span><span>            </span><span class="annot"><a href="#local-6989586621681728827"><span class="hs-identifier hs-type">stakeCredentialsToDeregisterMap</span></a></span><span>
</span><span id="line-528"></span><span>            </span><span class="annot"><a href="#local-6989586621681728831"><span class="hs-identifier hs-type">drepsToDeregisterMap</span></a></span><span>
</span><span id="line-529"></span><span>            </span><span class="annot"><a href="#local-6989586621681728838"><span class="hs-identifier hs-type">pScriptExecUnits</span></a></span><span>
</span><span id="line-530"></span><span>            </span><span class="annot"><a href="#local-6989586621681728837"><span class="hs-identifier hs-type">totCol</span></a></span><span>
</span><span id="line-531"></span><span>            </span><span class="annot"><a href="#local-6989586621681728701"><span class="hs-identifier hs-type">shelleyWitnesses</span></a></span><span>
</span><span id="line-532"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-type">fromMaybe</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><a href="#local-6989586621681728703"><span class="hs-identifier hs-type">mByronWitnesses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-533"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#maybe"><span class="hs-identifier hs-type">maybe</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#unReferenceScriptSize"><span class="hs-identifier hs-var">unReferenceScriptSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728746"><span class="hs-identifier hs-type">totalReferenceScriptSize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-534"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#anyAddressInShelleyBasedEra"><span class="hs-identifier hs-type">anyAddressInShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728754"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728723"><span class="hs-identifier hs-type">changeAddr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728697"><span class="hs-identifier hs-type">currentEra</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#toLedgerValue"><span class="hs-identifier hs-type">toLedgerValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-type">convert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728697"><span class="hs-identifier hs-type">currentEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681728707"><span class="hs-identifier hs-type">totalUTxOValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681728892"><span class="annot"><a href="#local-6989586621681728892"><span class="hs-identifier hs-var hs-var">unsignedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; TxBodyContent (LedgerEra era) -&gt; UnsignedTx (LedgerEra era)
forall era.
Era era
-&gt; TxBodyContent (LedgerEra era) -&gt; UnsignedTx (LedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#makeUnsignedTx"><span class="hs-identifier hs-var">Exp.makeUnsignedTx</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728697"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent (LedgerEra era)
</span><a href="#local-6989586621681728867"><span class="hs-identifier hs-var">balancedTxBody</span></a></span><span>
</span><span id="line-538"></span><span>    </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span>
</span><span id="line-539"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621681728750"><span class="hs-identifier hs-type">isCborOutCanonical</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-type">==</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-type">TxCborCanonical</span></a></span><span>
</span><span id="line-540"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-type">writeTxFileTextEnvelopeCanonical</span></a></span><span>
</span><span id="line-541"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-type">writeTxFileTextEnvelope</span></a></span><span>
</span><span id="line-542"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-543"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-type">convert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728697"><span class="hs-identifier hs-type">currentEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-544"></span><span>        </span><span class="annot"><a href="#local-6989586621681728752"><span class="hs-identifier hs-type">txBodyOutFile</span></a></span><span>
</span><span id="line-545"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#unsignedToToApiTx"><span class="hs-identifier hs-type">unsignedToToApiTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728892"><span class="hs-identifier hs-type">unsignedTx</span></a></span><span>
</span><span id="line-546"></span><span>
</span><span id="line-547"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#unsignedToToApiTx"><span class="hs-identifier hs-type">unsignedToToApiTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681727328"><span class="annot"><a href="#local-6989586621681727328"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727328"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Type.html#UnsignedTx"><span class="hs-identifier hs-type">Exp.UnsignedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727328"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#Tx"><span class="hs-identifier hs-type">Api.Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727328"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-548"></span><span id="unsignedToToApiTx"><span class="annot"><span class="annottext">unsignedToToApiTx :: forall era. IsEra era =&gt; UnsignedTx (LedgerEra era) -&gt; Tx era
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#unsignedToToApiTx"><span class="hs-identifier hs-var hs-var">unsignedToToApiTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Type.html#UnsignedTx"><span class="hs-identifier hs-type">Exp.UnsignedTx</span></a></span><span> </span><span id="local-6989586621681728900"><span class="annot"><span class="annottext">Tx (LedgerEra era)
</span><a href="#local-6989586621681728900"><span class="hs-identifier hs-var">lTx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-549"></span><span>  </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Tx (ShelleyLedgerEra era) -&gt; Tx era
forall era.
ShelleyBasedEra era -&gt; Tx (ShelleyLedgerEra era) -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTx"><span class="hs-identifier hs-var">ShelleyTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">(Era era -&gt; ShelleyBasedEra era) -&gt; Era era -&gt; ShelleyBasedEra era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727328"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Tx (ShelleyLedgerEra era) -&gt; Tx era)
-&gt; Tx (ShelleyLedgerEra era) -&gt; Tx era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; Tx (ShelleyLedgerEra era))
-&gt; Tx (ShelleyLedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727328"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
Tx (LedgerEra era)
EraCommonConstraints era =&gt; Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681728900"><span class="hs-identifier hs-var">lTx</span></a></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span id="local-6989586621681727330"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-type">fromShelleyLedgerPParamsShim</span></a></span><span>
</span><span id="line-552"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727330"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">L.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727330"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">L.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727330"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-553"></span><span id="fromShelleyLedgerPParamsShim"><span class="annot"><span class="annottext">fromShelleyLedgerPParamsShim :: forall era.
Era era
-&gt; PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-var hs-var">fromShelleyLedgerPParamsShim</span></a></span></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#ConwayEra"><span class="hs-identifier hs-var">Exp.ConwayEra</span></a></span><span> </span><span id="local-6989586621681728907"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681728907"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
PParams (LedgerEra era)
</span><a href="#local-6989586621681728907"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-554"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-var">fromShelleyLedgerPParamsShim</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#DijkstraEra"><span class="hs-identifier hs-var">Exp.DijkstraEra</span></a></span><span> </span><span id="local-6989586621681728910"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681728910"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
PParams (LedgerEra era)
</span><a href="#local-6989586621681728910"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-555"></span><span>
</span><span id="line-556"></span><span id="local-6989586621681727303"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getPoolDeregistrationInfo"><span class="hs-identifier hs-type">getPoolDeregistrationInfo</span></a></span><span>
</span><span id="line-557"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727303"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-558"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.Type.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727303"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-559"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Certificate.Internal.html#PoolId"><span class="hs-identifier hs-type">PoolId</span></a></span></span><span>
</span><span id="line-560"></span><span id="getPoolDeregistrationInfo"><span class="annot"><span class="annottext">getPoolDeregistrationInfo :: forall era. Era era -&gt; Certificate (LedgerEra era) -&gt; Maybe PoolId
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getPoolDeregistrationInfo"><span class="hs-identifier hs-var hs-var">getPoolDeregistrationInfo</span></a></span></span><span> </span><span id="local-6989586621681728911"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728911"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.Type.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span id="local-6989586621681728915"><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681728915"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-561"></span><span>  </span><span class="annot"><span class="annottext">KeyHash 'StakePool -&gt; PoolId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Key.Internal.html#StakePoolKeyHash"><span class="hs-identifier hs-var">StakePoolKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyHash 'StakePool -&gt; PoolId)
-&gt; ((KeyHash 'StakePool, EpochNo) -&gt; KeyHash 'StakePool)
-&gt; (KeyHash 'StakePool, EpochNo)
-&gt; PoolId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyHash 'StakePool, EpochNo) -&gt; KeyHash 'StakePool
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span>
</span><span id="line-562"></span><span>    </span><span class="annot"><span class="annottext">((KeyHash 'StakePool, EpochNo) -&gt; PoolId)
-&gt; Maybe (KeyHash 'StakePool, EpochNo) -&gt; Maybe PoolId
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    TxCert (LedgerEra era) -&gt; Maybe (KeyHash 'StakePool, EpochNo))
-&gt; TxCert (LedgerEra era)
-&gt; Maybe (KeyHash 'StakePool, EpochNo)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728911"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">EraCommonConstraints era =&gt;
TxCert (LedgerEra era) -&gt; Maybe (KeyHash 'StakePool, EpochNo)
TxCert (LedgerEra era) -&gt; Maybe (KeyHash 'StakePool, EpochNo)
forall era.
EraTxCert era =&gt;
TxCert era -&gt; Maybe (KeyHash 'StakePool, EpochNo)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.TxCert.html#getRetirePoolTxCert"><span class="hs-identifier hs-var">L.getRetirePoolTxCert</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681728915"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Hashes.html#KeyHash"><span class="hs-identifier hs-type">L.KeyHash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Keys.Internal.html#StakePool"><span class="hs-identifier hs-type">L.StakePool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-slotting-0.2.0.1-12f785d361b267f840430cd9d7ca68dd8dba1d8b9d7aee7cacb3a1ef6f23575f/share/doc/html/src/Cardano.Slotting.Slot.html#EpochNo"><span class="hs-identifier hs-type">EpochNo</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span id="local-6989586621681727302"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getDRepDeregistrationInfo"><span class="hs-identifier hs-type">getDRepDeregistrationInfo</span></a></span><span>
</span><span id="line-565"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727302"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-566"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.Type.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727302"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-567"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">L.Credential</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Keys.Internal.html#DRepRole"><span class="hs-identifier hs-type">L.DRepRole</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-568"></span><span id="getDRepDeregistrationInfo"><span class="annot"><span class="annottext">getDRepDeregistrationInfo :: forall era.
Era era
-&gt; Certificate (LedgerEra era)
-&gt; Maybe (Credential 'DRepRole, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getDRepDeregistrationInfo"><span class="hs-identifier hs-var hs-var">getDRepDeregistrationInfo</span></a></span></span><span> </span><span id="local-6989586621681728920"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728920"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.Type.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span id="local-6989586621681728922"><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681728922"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-569"></span><span>  </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    Maybe (Credential 'DRepRole, Lovelace))
-&gt; Maybe (Credential 'DRepRole, Lovelace)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728920"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt;
  Maybe (Credential 'DRepRole, Lovelace))
 -&gt; Maybe (Credential 'DRepRole, Lovelace))
-&gt; (EraCommonConstraints era =&gt;
    Maybe (Credential 'DRepRole, Lovelace))
-&gt; Maybe (Credential 'DRepRole, Lovelace)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era) -&gt; Maybe (Credential 'DRepRole, Lovelace)
forall era.
ConwayEraTxCert era =&gt;
TxCert era -&gt; Maybe (Credential 'DRepRole, Lovelace)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-conway-1.20.0.0-6ca079ac8d5a215005d3e3abc84e962a86f8160b8bd1f162e084b5e8d37e52a3/share/doc/html/src/Cardano.Ledger.Conway.TxCert.html#getUnRegDRepTxCert"><span class="hs-identifier hs-var">L.getUnRegDRepTxCert</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681728922"><span class="hs-identifier hs-var">cert</span></a></span><span>
</span><span id="line-570"></span><span>
</span><span id="line-571"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getStakeDeregistrationInfo"><span class="hs-identifier hs-type">getStakeDeregistrationInfo</span></a></span><span>
</span><span id="line-572"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681727301"><span class="annot"><a href="#local-6989586621681727301"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-573"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727301"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-574"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.Type.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727301"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#StakeCredential"><span class="hs-identifier hs-type">StakeCredential</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-576"></span><span id="getStakeDeregistrationInfo"><span class="annot"><span class="annottext">getStakeDeregistrationInfo :: forall era.
IsEra era =&gt;
Certificate (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getStakeDeregistrationInfo"><span class="hs-identifier hs-var hs-var">getStakeDeregistrationInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.Type.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span id="local-6989586621681728941"><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681728941"><span class="hs-identifier hs-var">cert</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-577"></span><span>  </span><span class="annot"><span class="annottext">Era era
-&gt; TxCert (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
forall era.
Era era
-&gt; TxCert (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getConwayDeregistrationInfo"><span class="hs-identifier hs-var">getConwayDeregistrationInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681728941"><span class="hs-identifier hs-var">cert</span></a></span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getConwayDeregistrationInfo"><span class="hs-identifier hs-type">getConwayDeregistrationInfo</span></a></span><span>
</span><span id="line-580"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681727342"><span class="annot"><a href="#local-6989586621681727342"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-581"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727342"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-582"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.TxCert.html#TxCert"><span class="hs-identifier hs-type">L.TxCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727342"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-583"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#StakeCredential"><span class="hs-identifier hs-type">StakeCredential</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-584"></span><span id="getConwayDeregistrationInfo"><span class="annot"><span class="annottext">getConwayDeregistrationInfo :: forall era.
Era era
-&gt; TxCert (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getConwayDeregistrationInfo"><span class="hs-identifier hs-var hs-var">getConwayDeregistrationInfo</span></a></span></span><span> </span><span id="local-6989586621681728946"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728946"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681728947"><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681728947"><span class="hs-identifier hs-var">cert</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-585"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681728948"><span class="annot"><a href="#local-6989586621681728948"><span class="hs-identifier hs-var">stakeCred</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728949"><span class="annot"><a href="#local-6989586621681728949"><span class="hs-identifier hs-var">depositRefund</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; Maybe (StakeCredential, Lovelace))
-&gt; Maybe (StakeCredential, Lovelace)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728946"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; Maybe (StakeCredential, Lovelace))
 -&gt; Maybe (StakeCredential, Lovelace))
-&gt; (EraCommonConstraints era =&gt; Maybe (StakeCredential, Lovelace))
-&gt; Maybe (StakeCredential, Lovelace)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era) -&gt; Maybe (StakeCredential, Lovelace)
forall era.
ConwayEraTxCert era =&gt;
TxCert era -&gt; Maybe (StakeCredential, Lovelace)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-conway-1.20.0.0-6ca079ac8d5a215005d3e3abc84e962a86f8160b8bd1f162e084b5e8d37e52a3/share/doc/html/src/Cardano.Ledger.Conway.TxCert.html#getUnRegDepositTxCert"><span class="hs-identifier hs-var">L.getUnRegDepositTxCert</span></a></span><span> </span><span class="annot"><span class="annottext">TxCert (LedgerEra era)
</span><a href="#local-6989586621681728947"><span class="hs-identifier hs-var">cert</span></a></span><span>
</span><span id="line-586"></span><span>  </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#fromShelleyStakeCredential"><span class="hs-identifier hs-type">fromShelleyStakeCredential</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728948"><span class="hs-identifier hs-type">stakeCred</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681728949"><span class="hs-identifier hs-type">depositRefund</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-587"></span><span>
</span><span id="line-588"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildRawCmd"><span class="hs-identifier hs-type">runTransactionBuildRawCmd</span></a></span><span>
</span><span id="line-589"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681726819"><span class="annot"><a href="#local-6989586621681726819"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621681726820"><span class="annot"><a href="#local-6989586621681726820"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-590"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildRawCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildRawCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726819"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-591"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726820"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span id="runTransactionBuildRawCmd"><span class="annot"><span class="annottext">runTransactionBuildRawCmd :: forall era e. TransactionBuildRawCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionBuildRawCmd"><span class="hs-identifier hs-var hs-var">runTransactionBuildRawCmd</span></a></span></span><span>
</span><span id="line-593"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionBuildRawCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionBuildRawCmdArgs</span></a></span><span>
</span><span id="line-594"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681728968"><span class="annot"><span class="annottext">Era era
eon :: Era era
eon :: forall era. TransactionBuildRawCmdArgs era -&gt; Era era
</span><a href="#local-6989586621681728968"><span class="hs-identifier hs-var hs-var">eon</span></a></span></span><span>
</span><span id="line-595"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728970"><span class="annot"><span class="annottext">Maybe ScriptValidity
mScriptValidity :: Maybe ScriptValidity
mScriptValidity :: forall era. TransactionBuildRawCmdArgs era -&gt; Maybe ScriptValidity
</span><a href="#local-6989586621681728970"><span class="hs-identifier hs-var hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-596"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728972"><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txIns :: [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
txIns :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681728972"><span class="hs-identifier hs-var hs-var">txIns</span></a></span></span><span>
</span><span id="line-597"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728974"><span class="annot"><span class="annottext">[TxIn]
readOnlyRefIns :: [TxIn]
readOnlyRefIns :: forall era. TransactionBuildRawCmdArgs era -&gt; [TxIn]
</span><a href="#local-6989586621681728974"><span class="hs-identifier hs-var hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-598"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728976"><span class="annot"><span class="annottext">[TxIn]
txInsCollateral :: [TxIn]
txInsCollateral :: forall era. TransactionBuildRawCmdArgs era -&gt; [TxIn]
</span><a href="#local-6989586621681728976"><span class="hs-identifier hs-var hs-var">txInsCollateral</span></a></span></span><span>
</span><span id="line-599"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mReturnCollateral :: forall era.
TransactionBuildRawCmdArgs era -&gt; Maybe TxOutShelleyBasedEra
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#mReturnCollateral"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728979"><span class="annot"><span class="annottext">Maybe TxOutShelleyBasedEra
</span><a href="#local-6989586621681728979"><span class="hs-identifier hs-var">mReturnColl</span></a></span></span><span>
</span><span id="line-600"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728980"><span class="annot"><span class="annottext">Maybe Lovelace
mTotalCollateral :: Maybe Lovelace
mTotalCollateral :: forall era. TransactionBuildRawCmdArgs era -&gt; Maybe Lovelace
</span><a href="#local-6989586621681728980"><span class="hs-identifier hs-var hs-var">mTotalCollateral</span></a></span></span><span>
</span><span id="line-601"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">requiredSigners :: forall era. TransactionBuildRawCmdArgs era -&gt; [RequiredSigner]
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#requiredSigners"><span class="hs-identifier hs-var">requiredSigners</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681728983"><span class="annot"><span class="annottext">[RequiredSigner]
</span><a href="#local-6989586621681728983"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-602"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728984"><span class="annot"><span class="annottext">[TxOutAnyEra]
txouts :: [TxOutAnyEra]
txouts :: forall era. TransactionBuildRawCmdArgs era -&gt; [TxOutAnyEra]
</span><a href="#local-6989586621681728984"><span class="hs-identifier hs-var hs-var">txouts</span></a></span></span><span>
</span><span id="line-603"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728986"><span class="annot"><span class="annottext">Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: Maybe (MultiAsset, [ScriptRequirements 'MintItem])
mMintedAssets :: forall era.
TransactionBuildRawCmdArgs era
-&gt; Maybe (MultiAsset, [ScriptRequirements 'MintItem])
</span><a href="#local-6989586621681728986"><span class="hs-identifier hs-var hs-var">mMintedAssets</span></a></span></span><span>
</span><span id="line-604"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728988"><span class="annot"><span class="annottext">Maybe SlotNo
mValidityLowerBound :: Maybe SlotNo
mValidityLowerBound :: forall era. TransactionBuildRawCmdArgs era -&gt; Maybe SlotNo
</span><a href="#local-6989586621681728988"><span class="hs-identifier hs-var hs-var">mValidityLowerBound</span></a></span></span><span>
</span><span id="line-605"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728990"><span class="annot"><span class="annottext">TxValidityUpperBound era
mValidityUpperBound :: TxValidityUpperBound era
mValidityUpperBound :: forall era.
TransactionBuildRawCmdArgs era -&gt; TxValidityUpperBound era
</span><a href="#local-6989586621681728990"><span class="hs-identifier hs-var hs-var">mValidityUpperBound</span></a></span></span><span>
</span><span id="line-606"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728992"><span class="annot"><span class="annottext">Lovelace
fee :: Lovelace
fee :: forall era. TransactionBuildRawCmdArgs era -&gt; Lovelace
</span><a href="#local-6989586621681728992"><span class="hs-identifier hs-var hs-var">fee</span></a></span></span><span>
</span><span id="line-607"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728994"><span class="annot"><span class="annottext">[(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
certificates :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(CertificateFile, Maybe (ScriptRequirements 'CertItem))]
</span><a href="#local-6989586621681728994"><span class="hs-identifier hs-var hs-var">certificates</span></a></span></span><span>
</span><span id="line-608"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728996"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: [(StakeAddress, Lovelace,
  Maybe (ScriptRequirements 'WithdrawalItem))]
withdrawals :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(StakeAddress, Lovelace,
     Maybe (ScriptRequirements 'WithdrawalItem))]
</span><a href="#local-6989586621681728996"><span class="hs-identifier hs-var hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-609"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681728998"><span class="annot"><span class="annottext">TxMetadataJsonSchema
metadataSchema :: TxMetadataJsonSchema
metadataSchema :: forall era. TransactionBuildRawCmdArgs era -&gt; TxMetadataJsonSchema
</span><a href="#local-6989586621681728998"><span class="hs-identifier hs-var hs-var">metadataSchema</span></a></span></span><span>
</span><span id="line-610"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729000"><span class="annot"><span class="annottext">[ScriptFile]
scriptFiles :: [ScriptFile]
scriptFiles :: forall era. TransactionBuildRawCmdArgs era -&gt; [ScriptFile]
</span><a href="#local-6989586621681729000"><span class="hs-identifier hs-var hs-var">scriptFiles</span></a></span></span><span>
</span><span id="line-611"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729002"><span class="annot"><span class="annottext">[MetadataFile]
metadataFiles :: [MetadataFile]
metadataFiles :: forall era. TransactionBuildRawCmdArgs era -&gt; [MetadataFile]
</span><a href="#local-6989586621681729002"><span class="hs-identifier hs-var hs-var">metadataFiles</span></a></span></span><span>
</span><span id="line-612"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729004"><span class="annot"><span class="annottext">Maybe ProtocolParamsFile
mProtocolParamsFile :: Maybe ProtocolParamsFile
mProtocolParamsFile :: forall era.
TransactionBuildRawCmdArgs era -&gt; Maybe ProtocolParamsFile
</span><a href="#local-6989586621681729004"><span class="hs-identifier hs-var hs-var">mProtocolParamsFile</span></a></span></span><span>
</span><span id="line-613"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729006"><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
mUpdateProprosalFile :: Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
mUpdateProprosalFile :: forall era.
TransactionBuildRawCmdArgs era
-&gt; Maybe
     (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><a href="#local-6989586621681729006"><span class="hs-identifier hs-var hs-var">mUpdateProprosalFile</span></a></span></span><span>
</span><span id="line-614"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729008"><span class="annot"><span class="annottext">[(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
voteFiles :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(VoteFile 'In, Maybe (ScriptRequirements 'VoterItem))]
</span><a href="#local-6989586621681729008"><span class="hs-identifier hs-var hs-var">voteFiles</span></a></span></span><span>
</span><span id="line-615"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729010"><span class="annot"><span class="annottext">[(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
proposalFiles :: forall era.
TransactionBuildRawCmdArgs era
-&gt; [(ProposalFile 'In, Maybe (ScriptRequirements 'ProposalItem))]
</span><a href="#local-6989586621681729010"><span class="hs-identifier hs-var hs-var">proposalFiles</span></a></span></span><span>
</span><span id="line-616"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729012"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
currentTreasuryValueAndDonation :: Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
currentTreasuryValueAndDonation :: forall era.
TransactionBuildRawCmdArgs era
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681729012"><span class="hs-identifier hs-var hs-var">currentTreasuryValueAndDonation</span></a></span></span><span>
</span><span id="line-617"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729014"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: forall era. TransactionBuildRawCmdArgs era -&gt; TxCborFormat
</span><a href="#local-6989586621681729014"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-618"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729016"><span class="annot"><span class="annottext">TxBodyFile 'Out
txBodyOutFile :: TxBodyFile 'Out
txBodyOutFile :: forall era. TransactionBuildRawCmdArgs era -&gt; TxBodyFile 'Out
</span><a href="#local-6989586621681729016"><span class="hs-identifier hs-var hs-var">txBodyOutFile</span></a></span></span><span>
</span><span id="line-619"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; (EraCommonConstraints era =&gt; RIO e ()) -&gt; RIO e ()
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">Exp.obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728968"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; RIO e ()) -&gt; RIO e ())
-&gt; (EraCommonConstraints era =&gt; RIO e ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-620"></span><span>    </span><span id="local-6989586621681729166"><span class="annot"><a href="#local-6989586621681729166"><span class="hs-identifier hs-var">txInsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-621"></span><span>      </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, AnyWitness (LedgerEra era))]
forall era e.
IsEra era =&gt;
[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
-&gt; CIO e [(TxIn, AnyWitness (LedgerEra era))]
</span><a href="Cardano.CLI.EraBased.Script.Spend.Read.html#readSpendScriptWitnesses"><span class="hs-identifier hs-var">readSpendScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, Maybe (ScriptRequirements 'TxInItem))]
</span><a href="#local-6989586621681728972"><span class="hs-identifier hs-var">txIns</span></a></span><span>
</span><span id="line-622"></span><span>
</span><span id="line-623"></span><span>    </span><span id="local-6989586621681729167"><span class="annot"><a href="#local-6989586621681729167"><span class="hs-identifier hs-var">certFilesAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">CertificateFile</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Exp.AnyWitness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.LedgerEra</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-624"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Certificate.Read.html#readCertificateScriptWitnesses"><span class="hs-identifier hs-type">readCertificateScriptWitnesses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728994"><span class="hs-identifier hs-type">certificates</span></a></span><span>
</span><span id="line-625"></span><span>
</span><span id="line-626"></span><span>    </span><span id="local-6989586621681729168"><span class="annot"><a href="#local-6989586621681729168"><span class="hs-identifier hs-var">withdrawalsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-627"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Withdrawal.Read.html#readWithdrawalScriptWitness"><span class="hs-identifier hs-type">readWithdrawalScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728996"><span class="hs-identifier hs-type">withdrawals</span></a></span><span>
</span><span id="line-628"></span><span>    </span><span id="local-6989586621681729169"><span class="annot"><a href="#local-6989586621681729169"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-629"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Read.html#readTxMetadata"><span class="hs-identifier hs-type">readTxMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-type">convert</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681728998"><span class="hs-identifier hs-type">metadataSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729002"><span class="hs-identifier hs-type">metadataFiles</span></a></span><span>
</span><span id="line-630"></span><span>
</span><span id="line-631"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681729170"><span class="annot"><a href="#local-6989586621681729170"><span class="hs-identifier hs-var">mas</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729171"><span class="annot"><a href="#local-6989586621681729171"><span class="hs-identifier hs-var">sWitFiles</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-type">fromMaybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#mempty"><span class="hs-identifier hs-type">mempty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728986"><span class="hs-identifier hs-type">mMintedAssets</span></a></span><span>
</span><span id="line-632"></span><span>    </span><span id="local-6989586621681729172"><span class="annot"><a href="#local-6989586621681729172"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-633"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681729170"><span class="hs-identifier hs-type">mas</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-type">&lt;$&gt;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Mint.Read.html#readMintScriptWitness"><span class="hs-identifier hs-type">readMintScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729171"><span class="hs-identifier hs-type">sWitFiles</span></a></span><span>
</span><span id="line-635"></span><span>
</span><span id="line-636"></span><span>    </span><span id="local-6989586621681729173"><span class="annot"><a href="#local-6989586621681729173"><span class="hs-identifier hs-var">scripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-637"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Read.html#readFileScriptInAnyLang"><span class="hs-identifier hs-type">readFileScriptInAnyLang</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681729000"><span class="hs-identifier hs-type">scriptFiles</span></a></span><span>
</span><span id="line-638"></span><span>    </span><span id="local-6989586621681729174"><span class="annot"><a href="#local-6989586621681729174"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-639"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-640"></span><span>        </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxValidationError.html#validateTxAuxScripts"><span class="hs-identifier hs-type">validateTxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729173"><span class="hs-identifier hs-type">scripts</span></a></span><span>
</span><span id="line-641"></span><span>
</span><span id="line-642"></span><span>    </span><span id="local-6989586621681729175"><span class="annot"><a href="#local-6989586621681729175"><span class="hs-identifier hs-var">pparams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#forM"><span class="hs-identifier hs-type">forM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729004"><span class="hs-identifier hs-type">mProtocolParamsFile</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681729176"><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681729176"><span class="hs-identifier hs-var">ppf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-643"></span><span>      </span><span class="annot"><span class="annottext">ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
-&gt; RIO e (PParams (LedgerEra era))
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
forall era.
IsEra era =&gt;
ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-var">readProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681729176"><span class="hs-identifier hs-var">ppf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-644"></span><span>
</span><span id="line-645"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729177"><span class="annot"><a href="#local-6989586621681729177"><span class="hs-identifier hs-var hs-var">mLedgerPParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
PParams (LedgerEra era) -&gt; LedgerProtocolParameters era
forall era.
PParams (ShelleyLedgerEra era) -&gt; LedgerProtocolParameters era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-var">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">(PParams (LedgerEra era) -&gt; LedgerProtocolParameters era)
-&gt; Maybe (PParams (LedgerEra era))
-&gt; Maybe (LedgerProtocolParameters era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (PParams (LedgerEra era))
</span><a href="#local-6989586621681729175"><span class="hs-identifier hs-var">pparams</span></a></span><span>
</span><span id="line-646"></span><span>
</span><span id="line-647"></span><span>    </span><span class="hs-comment">-- TODO: Remove me as update proposals are deprecated since Conway (replaced with proposals)</span><span>
</span><span id="line-648"></span><span>    </span><span id="local-6989586621681729179"><span class="annot"><a href="#local-6989586621681729179"><span class="hs-identifier hs-var">_txUpdateProposal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681729006"><span class="hs-identifier hs-type">mUpdateProprosalFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-649"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Feature.html#Featured"><span class="hs-identifier hs-type">Featured</span></a></span><span> </span><span id="local-6989586621681729180"><span class="annot"><span class="annottext">ShelleyToBabbageEra era
</span><a href="#local-6989586621681729180"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681729181"><span class="annot"><span class="annottext">UpdateProposalFile
</span><a href="#local-6989586621681729181"><span class="hs-identifier hs-var">updateProposalFile</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-650"></span><span>        </span><span class="annot"><span class="annottext">ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
-&gt; RIO e (TxUpdateProposal era)
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
 -&gt; RIO e (TxUpdateProposal era))
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
-&gt; RIO e (TxUpdateProposal era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyToBabbageEra era
-&gt; UpdateProposalFile
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
forall era.
ShelleyToBabbageEra era
-&gt; UpdateProposalFile
-&gt; ExceptT (FileError TextEnvelopeError) IO (TxUpdateProposal era)
</span><a href="Cardano.CLI.Read.html#readTxUpdateProposal"><span class="hs-identifier hs-var">readTxUpdateProposal</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyToBabbageEra era
</span><a href="#local-6989586621681729180"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateProposalFile
</span><a href="#local-6989586621681729181"><span class="hs-identifier hs-var">updateProposalFile</span></a></span><span>
</span><span id="line-651"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Featured ShelleyToBabbageEra era (Maybe UpdateProposalFile))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era -&gt; RIO e (TxUpdateProposal era)
forall a. a -&gt; RIO e a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TxUpdateProposal era
forall era. TxUpdateProposal era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxUpdateProposalNone"><span class="hs-identifier hs-var">TxUpdateProposalNone</span></a></span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span>    </span><span id="local-6989586621681729182"><span class="annot"><a href="#local-6989586621681729182"><span class="hs-identifier hs-var">requiredSigners</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-654"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html#readRequiredSigner"><span class="hs-identifier hs-type">readRequiredSigner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681728983"><span class="hs-identifier hs-type">reqSigners</span></a></span><span>
</span><span id="line-655"></span><span>
</span><span id="line-656"></span><span>    </span><span id="local-6989586621681729183"><span class="annot"><a href="#local-6989586621681729183"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-type">toTxOutInShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728979"><span class="hs-identifier hs-type">mReturnColl</span></a></span><span>
</span><span id="line-657"></span><span>
</span><span id="line-658"></span><span>    </span><span id="local-6989586621681729184"><span class="annot"><a href="#local-6989586621681729184"><span class="hs-identifier hs-var">txOuts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#mapM"><span class="hs-identifier hs-type">mapM</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInEra"><span class="hs-identifier hs-type">toTxOutInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728984"><span class="hs-identifier hs-type">txouts</span></a></span><span>
</span><span id="line-659"></span><span>
</span><span id="line-660"></span><span>    </span><span class="hs-comment">-- the same collateral input can be used for several plutus scripts</span><span>
</span><span id="line-661"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729185"><span class="annot"><a href="#local-6989586621681729185"><span class="hs-identifier hs-var hs-var">filteredTxinsc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l. IsList l =&gt; l -&gt; [Item l]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Set TxIn -&gt; [Item (Set TxIn)]) -&gt; Set TxIn -&gt; [Item (Set TxIn)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Item (Set TxIn)] -&gt; Set TxIn
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Item (Set TxIn)]
[TxIn]
</span><a href="#local-6989586621681728976"><span class="hs-identifier hs-var">txInsCollateral</span></a></span><span>
</span><span id="line-662"></span><span>
</span><span id="line-663"></span><span>    </span><span class="hs-comment">-- Conway related</span><span>
</span><span id="line-664"></span><span>    </span><span id="local-6989586621681729186"><span class="annot"><a href="#local-6989586621681729186"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-665"></span><span>      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ConwayEraOnwards.html#conwayEraOnwardsConstraints"><span class="hs-identifier hs-type">conwayEraOnwardsConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-type">convert</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681726819"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-666"></span><span>        </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Vote.Read.html#readVotingProceduresFiles"><span class="hs-identifier hs-type">readVotingProceduresFiles</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729008"><span class="hs-identifier hs-type">voteFiles</span></a></span><span>
</span><span id="line-667"></span><span>
</span><span id="line-668"></span><span>    </span><span id="local-6989586621681729206"><span class="annot"><a href="#local-6989586621681729206"><span class="hs-identifier hs-var">proposals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-669"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Script.Proposal.Read.html#readTxGovernanceActions"><span class="hs-identifier hs-type">readTxGovernanceActions</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681726819"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729010"><span class="hs-identifier hs-type">proposalFiles</span></a></span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span>    </span><span id="local-6989586621681729207"><span class="annot"><a href="#local-6989586621681729207"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-672"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#sequence"><span class="hs-identifier hs-type">sequence</span></a></span><span>
</span><span id="line-673"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621681729208"><span class="hs-identifier hs-type">mSwit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-674"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-type">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681728968"><span class="hs-identifier hs-type">eon</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-675"></span><span>                    </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-676"></span><span>                      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#readFileTextEnvelope"><span class="hs-identifier hs-type">readFileTextEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729219"><span class="hs-identifier hs-type">certFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-677"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-678"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#CertificateFile"><span class="hs-identifier hs-type">CertificateFile</span></a></span><span> </span><span id="local-6989586621681729219"><span class="annot"><a href="#local-6989586621681729219"><span class="hs-identifier hs-var">certFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729208"><span class="annot"><a href="#local-6989586621681729208"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621681729167"><span class="hs-identifier hs-type">certFilesAndMaybeScriptWits</span></a></span><span>
</span><span id="line-679"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-680"></span><span>    </span><span id="local-6989586621681729220"><span class="annot"><a href="#local-6989586621681729220"><span class="hs-identifier hs-var">txBody</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">Exp.UnsignedTx</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.LedgerEra</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-681"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-682"></span><span>        </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuildRaw"><span class="hs-identifier hs-type">runTxBuildRaw</span></a></span><span>
</span><span id="line-683"></span><span>          </span><span class="annot"><a href="#local-6989586621681728970"><span class="hs-identifier hs-type">mScriptValidity</span></a></span><span>
</span><span id="line-684"></span><span>          </span><span class="annot"><a href="#local-6989586621681729166"><span class="hs-identifier hs-type">txInsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-685"></span><span>          </span><span class="annot"><a href="#local-6989586621681728974"><span class="hs-identifier hs-type">readOnlyRefIns</span></a></span><span>
</span><span id="line-686"></span><span>          </span><span class="annot"><a href="#local-6989586621681729185"><span class="hs-identifier hs-type">filteredTxinsc</span></a></span><span>
</span><span id="line-687"></span><span>          </span><span class="annot"><a href="#local-6989586621681729183"><span class="hs-identifier hs-type">mReturnCollateral</span></a></span><span>
</span><span id="line-688"></span><span>          </span><span class="annot"><a href="#local-6989586621681728980"><span class="hs-identifier hs-type">mTotalCollateral</span></a></span><span>
</span><span id="line-689"></span><span>          </span><span class="annot"><a href="#local-6989586621681729184"><span class="hs-identifier hs-type">txOuts</span></a></span><span>
</span><span id="line-690"></span><span>          </span><span class="annot"><a href="#local-6989586621681728988"><span class="hs-identifier hs-type">mValidityLowerBound</span></a></span><span>
</span><span id="line-691"></span><span>          </span><span class="annot"><a href="#local-6989586621681728990"><span class="hs-identifier hs-type">mValidityUpperBound</span></a></span><span>
</span><span id="line-692"></span><span>          </span><span class="annot"><a href="#local-6989586621681728992"><span class="hs-identifier hs-type">fee</span></a></span><span>
</span><span id="line-693"></span><span>          </span><span class="annot"><a href="#local-6989586621681729172"><span class="hs-identifier hs-type">valuesWithScriptWits</span></a></span><span>
</span><span id="line-694"></span><span>          </span><span class="annot"><a href="#local-6989586621681729207"><span class="hs-identifier hs-type">certsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-695"></span><span>          </span><span class="annot"><a href="#local-6989586621681729168"><span class="hs-identifier hs-type">withdrawalsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-696"></span><span>          </span><span class="annot"><a href="#local-6989586621681729182"><span class="hs-identifier hs-type">requiredSigners</span></a></span><span>
</span><span id="line-697"></span><span>          </span><span class="annot"><a href="#local-6989586621681729174"><span class="hs-identifier hs-type">txAuxScripts</span></a></span><span>
</span><span id="line-698"></span><span>          </span><span class="annot"><a href="#local-6989586621681729169"><span class="hs-identifier hs-type">txMetadata</span></a></span><span>
</span><span id="line-699"></span><span>          </span><span class="annot"><a href="#local-6989586621681729177"><span class="hs-identifier hs-type">mLedgerPParams</span></a></span><span>
</span><span id="line-700"></span><span>          </span><span class="annot"><a href="#local-6989586621681729186"><span class="hs-identifier hs-type">votingProceduresAndMaybeScriptWits</span></a></span><span>
</span><span id="line-701"></span><span>          </span><span class="annot"><a href="#local-6989586621681729206"><span class="hs-identifier hs-type">proposals</span></a></span><span>
</span><span id="line-702"></span><span>          </span><span class="annot"><a href="#local-6989586621681729012"><span class="hs-identifier hs-type">currentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-703"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Type.html#UnsignedTx"><span class="hs-identifier hs-type">Exp.UnsignedTx</span></a></span><span> </span><span id="local-6989586621681729223"><span class="annot"><a href="#local-6989586621681729223"><span class="hs-identifier hs-var">lTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681729220"><span class="hs-identifier hs-type">txBody</span></a></span><span>
</span><span id="line-704"></span><span>        </span><span id="local-6989586621681729224"><span class="annot"><a href="#local-6989586621681729224"><span class="hs-identifier hs-var hs-var">noWitTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Tx (ShelleyLedgerEra era) -&gt; Tx era
forall era.
ShelleyBasedEra era -&gt; Tx (ShelleyLedgerEra era) -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTx"><span class="hs-identifier hs-var">ShelleyTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681728968"><span class="hs-identifier hs-var">eon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
Tx (LedgerEra era)
</span><a href="#local-6989586621681729223"><span class="hs-identifier hs-var">lTx</span></a></span><span>
</span><span id="line-705"></span><span>    </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-706"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621681729014"><span class="hs-identifier hs-type">isCborOutCanonical</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-type">==</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-type">TxCborCanonical</span></a></span><span>
</span><span id="line-707"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-type">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-type">convert</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681729016"><span class="hs-identifier hs-type">txBodyOutFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729224"><span class="hs-identifier hs-type">noWitTx</span></a></span><span>
</span><span id="line-708"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-type">writeTxFileTextEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-type">convert</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681729016"><span class="hs-identifier hs-type">txBodyOutFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729224"><span class="hs-identifier hs-type">noWitTx</span></a></span><span>
</span><span id="line-709"></span><span>
</span><span id="line-710"></span><span id="local-6989586621681727374"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuildRaw"><span class="hs-identifier hs-type">runTxBuildRaw</span></a></span><span>
</span><span id="line-711"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-712"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ScriptValidity"><span class="hs-identifier hs-type">ScriptValidity</span></a></span><span>
</span><span id="line-713"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Mark script as expected to pass or fail validation</span></span><span>
</span><span id="line-714"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-715"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn with potential script witness</span></span><span>
</span><span id="line-716"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-717"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Read only reference inputs</span></span><span>
</span><span id="line-718"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-719"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn for collateral</span></span><span>
</span><span id="line-720"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxOut"><span class="hs-identifier hs-type">Exp.TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-721"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Return collateral</span></span><span>
</span><span id="line-722"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-723"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Total collateral</span></span><span>
</span><span id="line-724"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxOut"><span class="hs-identifier hs-type">Exp.TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-725"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-slotting-0.2.0.1-12f785d361b267f840430cd9d7ca68dd8dba1d8b9d7aee7cacb3a1ef6f23575f/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-726"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx lower bound</span></span><span>
</span><span id="line-727"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxValidityUpperBound"><span class="hs-identifier hs-type">TxValidityUpperBound</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-728"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx upper bound</span></span><span>
</span><span id="line-729"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-730"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx fee</span></span><span>
</span><span id="line-731"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-mary-1.9.0.0-f232181cfed0f6572449e5ce013a358e04c40a2755ddd754f72238f6fa90fff5/share/doc/html/src/Cardano.Ledger.Mary.Value.html#MultiAsset"><span class="hs-identifier hs-type">L.MultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScriptWitness.html#AnyScriptWitness"><span class="hs-identifier hs-type">Exp.AnyScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Multi-Asset minted value(s)</span></span><span>
</span><span id="line-733"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.Type.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-734"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Certificate with potential script witness</span></span><span>
</span><span id="line-735"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-736"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-737"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Required signers</span></span><span>
</span><span id="line-738"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxAuxScripts"><span class="hs-identifier hs-type">TxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-739"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataInEra"><span class="hs-identifier hs-type">TxMetadataInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-740"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-741"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.VotingProcedure.html#VotingProcedures"><span class="hs-identifier hs-type">VotingProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-742"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#Proposal"><span class="hs-identifier hs-type">Proposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-743"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#TxCurrentTreasuryValue"><span class="hs-identifier hs-type">TxCurrentTreasuryValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxTreasuryDonation"><span class="hs-identifier hs-type">TxTreasuryDonation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-744"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Type.html#UnsignedTx"><span class="hs-identifier hs-type">Exp.UnsignedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727374"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-745"></span><span id="runTxBuildRaw"><span class="annot"><span class="annottext">runTxBuildRaw :: forall era.
IsEra era =&gt;
Maybe ScriptValidity
-&gt; [(TxIn, AnyWitness (LedgerEra era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut (LedgerEra era))
-&gt; Maybe Lovelace
-&gt; [TxOut (LedgerEra era)]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; Lovelace
-&gt; (MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; [Hash PaymentKey]
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; Maybe (LedgerProtocolParameters era)
-&gt; [(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [(Proposal era, AnyWitness (LedgerEra era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (UnsignedTx (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuildRaw"><span class="hs-identifier hs-var hs-var">runTxBuildRaw</span></a></span></span><span>
</span><span id="line-746"></span><span>  </span><span id="local-6989586621681729233"><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681729233"><span class="hs-identifier hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-747"></span><span>  </span><span id="local-6989586621681729234"><span class="annot"><span class="annottext">[(TxIn, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729234"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-748"></span><span>  </span><span id="local-6989586621681729235"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729235"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-749"></span><span>  </span><span id="local-6989586621681729236"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729236"><span class="hs-identifier hs-var">txinsc</span></a></span></span><span>
</span><span id="line-750"></span><span>  </span><span id="local-6989586621681729237"><span class="annot"><span class="annottext">Maybe (TxOut (LedgerEra era))
</span><a href="#local-6989586621681729237"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span>
</span><span id="line-751"></span><span>  </span><span id="local-6989586621681729238"><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681729238"><span class="hs-identifier hs-var">mTotCollateral</span></a></span></span><span>
</span><span id="line-752"></span><span>  </span><span id="local-6989586621681729239"><span class="annot"><span class="annottext">[TxOut (LedgerEra era)]
</span><a href="#local-6989586621681729239"><span class="hs-identifier hs-var">txouts</span></a></span></span><span>
</span><span id="line-753"></span><span>  </span><span id="local-6989586621681729240"><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681729240"><span class="hs-identifier hs-var">mLowerBound</span></a></span></span><span>
</span><span id="line-754"></span><span>  </span><span id="local-6989586621681729241"><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681729241"><span class="hs-identifier hs-var">mUpperBound</span></a></span></span><span>
</span><span id="line-755"></span><span>  </span><span id="local-6989586621681729242"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681729242"><span class="hs-identifier hs-var">fee</span></a></span></span><span>
</span><span id="line-756"></span><span>  </span><span id="local-6989586621681729243"><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
</span><a href="#local-6989586621681729243"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span></span><span>
</span><span id="line-757"></span><span>  </span><span id="local-6989586621681729244"><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729244"><span class="hs-identifier hs-var">certsAndMaybeSriptWits</span></a></span></span><span>
</span><span id="line-758"></span><span>  </span><span id="local-6989586621681729245"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729245"><span class="hs-identifier hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-759"></span><span>  </span><span id="local-6989586621681729246"><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681729246"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-760"></span><span>  </span><span id="local-6989586621681729247"><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681729247"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span>
</span><span id="line-761"></span><span>  </span><span id="local-6989586621681729248"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681729248"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span>
</span><span id="line-762"></span><span>  </span><span id="local-6989586621681729249"><span class="annot"><span class="annottext">Maybe (LedgerProtocolParameters era)
</span><a href="#local-6989586621681729249"><span class="hs-identifier hs-var">mpparams</span></a></span></span><span>
</span><span id="line-763"></span><span>  </span><span id="local-6989586621681729250"><span class="annot"><span class="annottext">[(VotingProcedures era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729250"><span class="hs-identifier hs-var">votingProcedures</span></a></span></span><span>
</span><span id="line-764"></span><span>  </span><span id="local-6989586621681729251"><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729251"><span class="hs-identifier hs-var">proposals</span></a></span></span><span>
</span><span id="line-765"></span><span>  </span><span id="local-6989586621681729252"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681729252"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-766"></span><span>    </span><span id="local-6989586621681729253"><span class="annot"><a href="#local-6989586621681729253"><span class="hs-identifier hs-var">txBodyContent</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-767"></span><span>      </span><span class="annot"><span class="annottext">Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, AnyWitness (LedgerEra era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut (LedgerEra era))
-&gt; Maybe Lovelace
-&gt; [TxOut (LedgerEra era)]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; [(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [(Proposal era, AnyWitness (LedgerEra era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent (LedgerEra era))
forall era.
IsEra era =&gt;
Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, AnyWitness (LedgerEra era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut (LedgerEra era))
-&gt; Maybe Lovelace
-&gt; [TxOut (LedgerEra era)]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; [(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [(Proposal era, AnyWitness (LedgerEra era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-var">constructTxBodyContent</span></a></span><span>
</span><span id="line-768"></span><span>        </span><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681729233"><span class="hs-identifier hs-var">mScriptValidity</span></a></span><span>
</span><span id="line-769"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era)
forall era.
Era era
-&gt; PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-var">fromShelleyLedgerPParamsShim</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="annot"><span class="annottext">(PParams (ShelleyLedgerEra era) -&gt; PParams (LedgerEra era))
-&gt; (LedgerProtocolParameters era -&gt; PParams (ShelleyLedgerEra era))
-&gt; LedgerProtocolParameters era
-&gt; PParams (LedgerEra era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era -&gt; PParams (ShelleyLedgerEra era)
forall era.
LedgerProtocolParameters era -&gt; PParams (ShelleyLedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#unLedgerProtocolParameters"><span class="hs-identifier hs-var">unLedgerProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">(LedgerProtocolParameters era -&gt; PParams (LedgerEra era))
-&gt; Maybe (LedgerProtocolParameters era)
-&gt; Maybe (PParams (LedgerEra era))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LedgerProtocolParameters era)
</span><a href="#local-6989586621681729249"><span class="hs-identifier hs-var">mpparams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-770"></span><span>        </span><span class="annot"><span class="annottext">[(TxIn, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729234"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-771"></span><span>        </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729235"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-772"></span><span>        </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729236"><span class="hs-identifier hs-var">txinsc</span></a></span><span>
</span><span id="line-773"></span><span>        </span><span class="annot"><span class="annottext">Maybe (TxOut (LedgerEra era))
</span><a href="#local-6989586621681729237"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span>
</span><span id="line-774"></span><span>        </span><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681729238"><span class="hs-identifier hs-var">mTotCollateral</span></a></span><span>
</span><span id="line-775"></span><span>        </span><span class="annot"><span class="annottext">[TxOut (LedgerEra era)]
</span><a href="#local-6989586621681729239"><span class="hs-identifier hs-var">txouts</span></a></span><span>
</span><span id="line-776"></span><span>        </span><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681729240"><span class="hs-identifier hs-var">mLowerBound</span></a></span><span>
</span><span id="line-777"></span><span>        </span><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681729241"><span class="hs-identifier hs-var">mUpperBound</span></a></span><span>
</span><span id="line-778"></span><span>        </span><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
</span><a href="#local-6989586621681729243"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span><span>
</span><span id="line-779"></span><span>        </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729244"><span class="hs-identifier hs-var">certsAndMaybeSriptWits</span></a></span><span>
</span><span id="line-780"></span><span>        </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729245"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-781"></span><span>        </span><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681729246"><span class="hs-identifier hs-var">reqSigners</span></a></span><span>
</span><span id="line-782"></span><span>        </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681729242"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-783"></span><span>        </span><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681729247"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span>
</span><span id="line-784"></span><span>        </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681729248"><span class="hs-identifier hs-var">txMetadata</span></a></span><span>
</span><span id="line-785"></span><span>        </span><span class="annot"><span class="annottext">[(VotingProcedures era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729250"><span class="hs-identifier hs-var">votingProcedures</span></a></span><span>
</span><span id="line-786"></span><span>        </span><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729251"><span class="hs-identifier hs-var">proposals</span></a></span><span>
</span><span id="line-787"></span><span>        </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681729252"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-788"></span><span>
</span><span id="line-789"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#makeUnsignedTx"><span class="hs-identifier hs-type">Exp.makeUnsignedTx</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729253"><span class="hs-identifier hs-type">txBodyContent</span></a></span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-type">constructTxBodyContent</span></a></span><span>
</span><span id="line-792"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681727298"><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-793"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-794"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ScriptValidity"><span class="hs-identifier hs-type">ScriptValidity</span></a></span><span>
</span><span id="line-795"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">L.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-797"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn with potential script witness</span></span><span>
</span><span id="line-798"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-799"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Read only reference inputs</span></span><span>
</span><span id="line-800"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-801"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn for collateral</span></span><span>
</span><span id="line-802"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxOut"><span class="hs-identifier hs-type">Exp.TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-803"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Return collateral</span></span><span>
</span><span id="line-804"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-805"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Total collateral</span></span><span>
</span><span id="line-806"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxOut"><span class="hs-identifier hs-type">Exp.TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-807"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Normal outputs</span></span><span>
</span><span id="line-808"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-slotting-0.2.0.1-12f785d361b267f840430cd9d7ca68dd8dba1d8b9d7aee7cacb3a1ef6f23575f/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-809"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx lower bound</span></span><span>
</span><span id="line-810"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxValidityUpperBound"><span class="hs-identifier hs-type">TxValidityUpperBound</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-811"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx upper bound</span></span><span>
</span><span id="line-812"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-mary-1.9.0.0-f232181cfed0f6572449e5ce013a358e04c40a2755ddd754f72238f6fa90fff5/share/doc/html/src/Cardano.Ledger.Mary.Value.html#MultiAsset"><span class="hs-identifier hs-type">L.MultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScriptWitness.html#AnyScriptWitness"><span class="hs-identifier hs-type">Exp.AnyScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-813"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Multi-Asset value(s)</span></span><span>
</span><span id="line-814"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.Type.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-815"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Certificate with potential script witness</span></span><span>
</span><span id="line-816"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-817"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Withdrawals</span></span><span>
</span><span id="line-818"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-819"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Required signers</span></span><span>
</span><span id="line-820"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-821"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx fee</span></span><span>
</span><span id="line-822"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxAuxScripts"><span class="hs-identifier hs-type">TxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-823"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataInEra"><span class="hs-identifier hs-type">TxMetadataInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-824"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.VotingProcedure.html#VotingProcedures"><span class="hs-identifier hs-type">VotingProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-825"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#Proposal"><span class="hs-identifier hs-type">Proposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-826"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#TxCurrentTreasuryValue"><span class="hs-identifier hs-type">TxCurrentTreasuryValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxTreasuryDonation"><span class="hs-identifier hs-type">TxTreasuryDonation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-827"></span><span>  </span><span class="hs-comment">-- ^ The current treasury value and the donation. This is a stop gap as the</span><span>
</span><span id="line-828"></span><span>  </span><span class="hs-comment">-- semantics of the donation and treasury value depend on the script languages</span><span>
</span><span id="line-829"></span><span>  </span><span class="hs-comment">-- being used.</span><span>
</span><span id="line-830"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxBodyContent"><span class="hs-identifier hs-type">Exp.TxBodyContent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-831"></span><span id="constructTxBodyContent"><span class="annot"><span class="annottext">constructTxBodyContent :: forall era.
IsEra era =&gt;
Maybe ScriptValidity
-&gt; Maybe (PParams (LedgerEra era))
-&gt; [(TxIn, AnyWitness (LedgerEra era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut (LedgerEra era))
-&gt; Maybe Lovelace
-&gt; [TxOut (LedgerEra era)]
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; (MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; [Hash PaymentKey]
-&gt; Lovelace
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; [(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [(Proposal era, AnyWitness (LedgerEra era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Either TxCmdError (TxBodyContent (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-var hs-var">constructTxBodyContent</span></a></span></span><span>
</span><span id="line-832"></span><span>  </span><span id="local-6989586621681729273"><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681729273"><span class="hs-identifier hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-833"></span><span>  </span><span id="local-6989586621681729274"><span class="annot"><span class="annottext">Maybe (PParams (LedgerEra era))
</span><a href="#local-6989586621681729274"><span class="hs-identifier hs-var">mPparams</span></a></span></span><span>
</span><span id="line-834"></span><span>  </span><span id="local-6989586621681729275"><span class="annot"><span class="annottext">[(TxIn, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729275"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-835"></span><span>  </span><span id="local-6989586621681729276"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729276"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-836"></span><span>  </span><span id="local-6989586621681729277"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729277"><span class="hs-identifier hs-var">txinsc</span></a></span></span><span>
</span><span id="line-837"></span><span>  </span><span id="local-6989586621681729278"><span class="annot"><span class="annottext">Maybe (TxOut (LedgerEra era))
</span><a href="#local-6989586621681729278"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span>
</span><span id="line-838"></span><span>  </span><span id="local-6989586621681729279"><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681729279"><span class="hs-identifier hs-var">mTotCollateral</span></a></span></span><span>
</span><span id="line-839"></span><span>  </span><span id="local-6989586621681729280"><span class="annot"><span class="annottext">[TxOut (LedgerEra era)]
</span><a href="#local-6989586621681729280"><span class="hs-identifier hs-var">txouts</span></a></span></span><span>
</span><span id="line-840"></span><span>  </span><span id="local-6989586621681729281"><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681729281"><span class="hs-identifier hs-var">mLowerBound</span></a></span></span><span>
</span><span id="line-841"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxValidityUpperBound"><span class="hs-identifier hs-type">TxValidityUpperBound</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681729283"><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681729283"><span class="hs-identifier hs-var">mUpperBound</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-842"></span><span>  </span><span id="local-6989586621681729284"><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
</span><a href="#local-6989586621681729284"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span></span><span>
</span><span id="line-843"></span><span>  </span><span id="local-6989586621681729285"><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729285"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-844"></span><span>  </span><span id="local-6989586621681729286"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729286"><span class="hs-identifier hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-845"></span><span>  </span><span id="local-6989586621681729287"><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681729287"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-846"></span><span>  </span><span id="local-6989586621681729288"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681729288"><span class="hs-identifier hs-var">fee</span></a></span></span><span>
</span><span id="line-847"></span><span>  </span><span id="local-6989586621681729289"><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681729289"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span>
</span><span id="line-848"></span><span>  </span><span id="local-6989586621681729290"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681729290"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span>
</span><span id="line-849"></span><span>  </span><span id="local-6989586621681729291"><span class="annot"><span class="annottext">[(VotingProcedures era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729291"><span class="hs-identifier hs-var">votingProcedures</span></a></span></span><span>
</span><span id="line-850"></span><span>  </span><span id="local-6989586621681729292"><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729292"><span class="hs-identifier hs-var">proposals</span></a></span></span><span>
</span><span id="line-851"></span><span>  </span><span id="local-6989586621681729293"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681729293"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-852"></span><span>    </span><span class="hs-keyword">do</span><span>
</span><span id="line-853"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729294"><span class="annot"><span class="annottext">allReferenceInputs :: [TxIn]
</span><a href="#local-6989586621681729294"><span class="hs-identifier hs-var hs-var hs-var">allReferenceInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-854"></span><span>            </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
-&gt; [AnyScriptWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [TxIn]
-&gt; [TxIn]
forall era.
[AnyWitness (LedgerEra era)]
-&gt; [AnyScriptWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [TxIn]
-&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-var">getAllReferenceInputs</span></a></span><span>
</span><span id="line-855"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((TxIn, AnyWitness (LedgerEra era)) -&gt; AnyWitness (LedgerEra era))
-&gt; [(TxIn, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn, AnyWitness (LedgerEra era)) -&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729275"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-856"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((PolicyId, AnyScriptWitness (LedgerEra era))
 -&gt; AnyScriptWitness (LedgerEra era))
-&gt; [(PolicyId, AnyScriptWitness (LedgerEra era))]
-&gt; [AnyScriptWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(PolicyId, AnyScriptWitness (LedgerEra era))
-&gt; AnyScriptWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">([(PolicyId, AnyScriptWitness (LedgerEra era))]
 -&gt; [AnyScriptWitness (LedgerEra era)])
-&gt; [(PolicyId, AnyScriptWitness (LedgerEra era))]
-&gt; [AnyScriptWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; [(PolicyId, AnyScriptWitness (LedgerEra era))]
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
</span><a href="#local-6989586621681729284"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-857"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729285"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-858"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((StakeAddress, Lovelace, AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeAddress
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729295"><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681729295"><span class="hs-identifier hs-var">mSwit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681729295"><span class="hs-identifier hs-var">mSwit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729286"><span class="hs-identifier hs-var">withdrawals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-859"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((VotingProcedures era, AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(VotingProcedures era, AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729291"><span class="hs-identifier hs-var">votingProcedures</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-860"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Proposal era, AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(Proposal era, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Proposal era, AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729292"><span class="hs-identifier hs-var">proposals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-861"></span><span>              </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729276"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-862"></span><span>      </span><span class="hs-comment">-- TODO The last argument of validateTxInsReference is a datum set from reference inputs</span><span>
</span><span id="line-863"></span><span>      </span><span class="hs-comment">-- Should we allow providing of datum from CLI?</span><span>
</span><span id="line-864"></span><span>      </span><span class="hs-comment">-- TODO: Figure how to expose resolved datums</span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729296"><span class="annot"><span class="annottext">Maybe (TxReturnCollateral (LedgerEra era))
</span><a href="#local-6989586621681729296"><span class="hs-identifier hs-var hs-var">txRetCollateral</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxReturnCollateral"><span class="hs-identifier hs-type">Exp.TxReturnCollateral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-867"></span><span>            </span><span class="annot"><span class="annottext">Maybe (TxOut (LedgerEra era))
</span><a href="#local-6989586621681729278"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (TxOut (LedgerEra era))
-&gt; (TxOut (LedgerEra era) -&gt; TxReturnCollateral (LedgerEra era))
-&gt; Maybe (TxReturnCollateral (LedgerEra era))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%26%3E"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxOut"><span class="hs-identifier hs-type">Exp.TxOut</span></a></span><span> </span><span id="local-6989586621681729300"><span class="annot"><span class="annottext">TxOut (LedgerEra era)
</span><a href="#local-6989586621681729300"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-868"></span><span>              </span><span class="annot"><span class="annottext">TxOut (LedgerEra era) -&gt; TxReturnCollateral (LedgerEra era)
forall era. TxOut era -&gt; TxReturnCollateral era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxReturnCollateral"><span class="hs-identifier hs-var">Exp.TxReturnCollateral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut (LedgerEra era)
</span><a href="#local-6989586621681729300"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.html#TxOut"><span class="hs-identifier hs-type">L.TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-869"></span><span>
</span><span id="line-870"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729302"><span class="annot"><span class="annottext">refInputs :: TxInsReference (LedgerEra era)
</span><a href="#local-6989586621681729302"><span class="hs-identifier hs-var hs-var hs-var">refInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxIn]
-&gt; Set (Datum CtxTx (LedgerEra era))
-&gt; TxInsReference (LedgerEra era)
forall era. [TxIn] -&gt; Set (Datum CtxTx era) -&gt; TxInsReference era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxInsReference"><span class="hs-identifier hs-var">Exp.TxInsReference</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729294"><span class="hs-identifier hs-var">allReferenceInputs</span></a></span><span> </span><span class="annot"><span class="annottext">Set (Datum CtxTx (LedgerEra era))
forall a. Set a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span>
</span><span id="line-871"></span><span>          </span><span id="local-6989586621681729305"><span class="annot"><span class="annottext">auxScripts :: [SimpleScript (LedgerEra era)]
</span><a href="#local-6989586621681729305"><span class="hs-identifier hs-var hs-var hs-var">auxScripts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681729289"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-872"></span><span>            </span><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxAuxScriptsNone"><span class="hs-identifier hs-var">TxAuxScriptsNone</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-873"></span><span>            </span><span class="hs-comment">-- TODO: Auxiliary scripts cannot be plutus scripts</span><span>
</span><span id="line-874"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxAuxScripts"><span class="hs-identifier hs-type">TxAuxScripts</span></a></span><span> </span><span class="annot"><span class="annottext">AllegraEraOnwards era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681729308"><span class="annot"><span class="annottext">[ScriptInEra era]
</span><a href="#local-6989586621681729308"><span class="hs-identifier hs-var">scripts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(ScriptInEra era -&gt; Maybe (SimpleScript (LedgerEra era)))
-&gt; [ScriptInEra era] -&gt; [SimpleScript (LedgerEra era)]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptInEra era -&gt; Maybe (SimpleScript (LedgerEra era))
forall era.
IsEra era =&gt;
ScriptInEra era -&gt; Maybe (SimpleScript (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#scriptInEraToSimpleScript"><span class="hs-identifier hs-var">scriptInEraToSimpleScript</span></a></span><span> </span><span class="annot"><span class="annottext">[ScriptInEra era]
</span><a href="#local-6989586621681729308"><span class="hs-identifier hs-var">scripts</span></a></span><span>
</span><span id="line-875"></span><span>          </span><span id="local-6989586621681729311"><span class="annot"><span class="annottext">txTotCollateral :: Maybe TxTotalCollateral
</span><a href="#local-6989586621681729311"><span class="hs-identifier hs-var hs-var hs-var">txTotCollateral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; TxTotalCollateral
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxTotalCollateral"><span class="hs-identifier hs-var">Exp.TxTotalCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">(Lovelace -&gt; TxTotalCollateral)
-&gt; Maybe Lovelace -&gt; Maybe TxTotalCollateral
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681729279"><span class="hs-identifier hs-var">mTotCollateral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">L.Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-876"></span><span>          </span><span id="local-6989586621681729314"><span class="annot"><span class="annottext">expTxMetadata :: TxMetadata
</span><a href="#local-6989586621681729314"><span class="hs-identifier hs-var hs-var hs-var">expTxMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681729290"><span class="hs-identifier hs-var">txMetadata</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-877"></span><span>            </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataNone"><span class="hs-identifier hs-var">TxMetadataNone</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Word64 TxMetadataValue -&gt; TxMetadata
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxMetadata.html#TxMetadata"><span class="hs-identifier hs-var">TxMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Map Word64 TxMetadataValue
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-878"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataInEra"><span class="hs-identifier hs-type">TxMetadataInEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681729318"><span class="annot"><span class="annottext">TxMetadata
</span><a href="#local-6989586621681729318"><span class="hs-identifier hs-var">mDat</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxMetadata
</span><a href="#local-6989586621681729318"><span class="hs-identifier hs-var">mDat</span></a></span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span>      </span><span id="local-6989586621681729319"><span class="annot"><a href="#local-6989586621681729319"><span class="hs-identifier hs-var">validatedMintValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; Either TxCmdError (TxMintValue (LedgerEra era))
forall era.
(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; Either TxCmdError (TxMintValue (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#createTxMintValue"><span class="hs-identifier hs-var">createTxMintValue</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
</span><a href="#local-6989586621681729284"><span class="hs-identifier hs-var">valuesWithScriptWits</span></a></span><span>
</span><span id="line-881"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729321"><span class="annot"><a href="#local-6989586621681729321"><span class="hs-identifier hs-var hs-var">vProcedures</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [(VotingProcedures (LedgerEra era), AnyWitness (LedgerEra era))]
forall era.
IsEra era =&gt;
[(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [(VotingProcedures (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#convertVotingProcedures"><span class="hs-identifier hs-var">convertVotingProcedures</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729291"><span class="hs-identifier hs-var">votingProcedures</span></a></span><span>
</span><span id="line-882"></span><span>      </span><span id="local-6989586621681729323"><span class="annot"><a href="#local-6989586621681729323"><span class="hs-identifier hs-var">validatedVotingProcedures</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-883"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxGovDuplicateVotes"><span class="hs-identifier hs-type">TxCmdTxGovDuplicateVotes</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxValidationError.html#TxGovDuplicateVotes"><span class="hs-identifier hs-type">TxGovDuplicateVotes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-884"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#mkTxVotingProcedures"><span class="hs-identifier hs-type">Exp.mkTxVotingProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729321"><span class="hs-identifier hs-type">vProcedures</span></a></span><span>
</span><span id="line-885"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729327"><span class="annot"><a href="#local-6989586621681729327"><span class="hs-identifier hs-var hs-var">txProposals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; ProposalProcedure (LedgerEra era))
-&gt; ProposalProcedure (LedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ProposalProcedure (ShelleyLedgerEra era)
ProposalProcedure (LedgerEra era)
EraCommonConstraints era =&gt; ProposalProcedure (LedgerEra era)
</span><a href="#local-6989586621681729329"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681729333"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#Proposal"><span class="hs-identifier hs-type">Proposal</span></a></span><span> </span><span id="local-6989586621681729329"><span class="annot"><span class="annottext">ProposalProcedure (ShelleyLedgerEra era)
</span><a href="#local-6989586621681729329"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729333"><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681729333"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729292"><span class="hs-identifier hs-var">proposals</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-886"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729336"><span class="annot"><a href="#local-6989586621681729336"><span class="hs-identifier hs-var hs-var">validatedTxProposals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-887"></span><span>            </span><span class="annot"><span class="annottext">[(ProposalProcedure (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; TxProposalProcedures (LedgerEra era)
forall era.
IsEra era =&gt;
[(ProposalProcedure (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; TxProposalProcedures (LedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#mkTxProposalProcedures"><span class="hs-identifier hs-var">Exp.mkTxProposalProcedures</span></a></span><span> </span><span class="annot"><span class="annottext">[(ProposalProcedure (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729327"><span class="hs-identifier hs-var">txProposals</span></a></span><span>
</span><span id="line-888"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729338"><span class="annot"><a href="#local-6989586621681729338"><span class="hs-identifier hs-var hs-var">validatedCurrentTreasuryValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxCurrentTreasuryValue -&gt; Lovelace
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#unTxCurrentTreasuryValue"><span class="hs-identifier hs-var">unTxCurrentTreasuryValue</span></a></span><span> </span><span class="annot"><span class="annottext">(TxCurrentTreasuryValue -&gt; Lovelace)
-&gt; ((TxCurrentTreasuryValue, TxTreasuryDonation)
    -&gt; TxCurrentTreasuryValue)
-&gt; (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Lovelace
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; TxCurrentTreasuryValue
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((TxCurrentTreasuryValue, TxTreasuryDonation) -&gt; Lovelace)
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Maybe Lovelace
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681729293"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-889"></span><span>          </span><span id="local-6989586621681729340"><span class="annot"><a href="#local-6989586621681729340"><span class="hs-identifier hs-var hs-var">validatedTreasuryDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxTreasuryDonation -&gt; Lovelace
</span><a href="Cardano.CLI.Type.Common.html#unTxTreasuryDonation"><span class="hs-identifier hs-var">unTxTreasuryDonation</span></a></span><span> </span><span class="annot"><span class="annottext">(TxTreasuryDonation -&gt; Lovelace)
-&gt; ((TxCurrentTreasuryValue, TxTreasuryDonation)
    -&gt; TxTreasuryDonation)
-&gt; (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Lovelace
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(TxCurrentTreasuryValue, TxTreasuryDonation) -&gt; TxTreasuryDonation
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((TxCurrentTreasuryValue, TxTreasuryDonation) -&gt; Lovelace)
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; Maybe Lovelace
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681729293"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-890"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729342"><span class="annot"><a href="#local-6989586621681729342"><span class="hs-identifier hs-var hs-var">validatedWithdrawals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; TxWithdrawals (LedgerEra era)
forall era.
[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; TxWithdrawals (LedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#convertWithdrawals"><span class="hs-identifier hs-var">convertWithdrawals</span></a></span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729286"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-891"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span>
</span><span id="line-892"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#defaultTxBodyContent"><span class="hs-identifier hs-type">Exp.defaultTxBodyContent</span></a></span><span>
</span><span id="line-893"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxIns"><span class="hs-identifier hs-type">Exp.setTxIns</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729275"><span class="hs-identifier hs-type">inputsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-894"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxInsCollateral"><span class="hs-identifier hs-type">Exp.setTxInsCollateral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729277"><span class="hs-identifier hs-type">txinsc</span></a></span><span>
</span><span id="line-895"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxInsReference"><span class="hs-identifier hs-type">Exp.setTxInsReference</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729302"><span class="hs-identifier hs-type">refInputs</span></a></span><span>
</span><span id="line-896"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxOuts"><span class="hs-identifier hs-type">Exp.setTxOuts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729280"><span class="hs-identifier hs-type">txouts</span></a></span><span>
</span><span id="line-897"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#maybe"><span class="hs-identifier hs-type">maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxReturnCollateral"><span class="hs-identifier hs-type">Exp.setTxReturnCollateral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729296"><span class="hs-identifier hs-type">txRetCollateral</span></a></span><span>
</span><span id="line-898"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#maybe"><span class="hs-identifier hs-type">maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxTotalCollateral"><span class="hs-identifier hs-type">Exp.setTxTotalCollateral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729311"><span class="hs-identifier hs-type">txTotCollateral</span></a></span><span>
</span><span id="line-899"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxFee"><span class="hs-identifier hs-type">Exp.setTxFee</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729288"><span class="hs-identifier hs-type">fee</span></a></span><span>
</span><span id="line-900"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#maybe"><span class="hs-identifier hs-type">maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxValidityLowerBound"><span class="hs-identifier hs-type">Exp.setTxValidityLowerBound</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729281"><span class="hs-identifier hs-type">mLowerBound</span></a></span><span>
</span><span id="line-901"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#maybe"><span class="hs-identifier hs-type">maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxValidityUpperBound"><span class="hs-identifier hs-type">Exp.setTxValidityUpperBound</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729283"><span class="hs-identifier hs-type">mUpperBound</span></a></span><span>
</span><span id="line-902"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxMetadata"><span class="hs-identifier hs-type">Exp.setTxMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729314"><span class="hs-identifier hs-type">expTxMetadata</span></a></span><span>
</span><span id="line-903"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxAuxScripts"><span class="hs-identifier hs-type">Exp.setTxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729305"><span class="hs-identifier hs-type">auxScripts</span></a></span><span>
</span><span id="line-904"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxWithdrawals"><span class="hs-identifier hs-type">Exp.setTxWithdrawals</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729342"><span class="hs-identifier hs-type">validatedWithdrawals</span></a></span><span>
</span><span id="line-905"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxExtraKeyWits"><span class="hs-identifier hs-type">Exp.setTxExtraKeyWits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxExtraKeyWitnesses"><span class="hs-identifier hs-type">Exp.TxExtraKeyWitnesses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729287"><span class="hs-identifier hs-type">reqSigners</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-906"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#maybe"><span class="hs-identifier hs-type">maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxProtocolParams"><span class="hs-identifier hs-type">Exp.setTxProtocolParams</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">Exp.obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727298"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681729274"><span class="hs-identifier hs-type">mPparams</span></a></span><span>
</span><span id="line-907"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxCertificates"><span class="hs-identifier hs-type">Exp.setTxCertificates</span></a></span><span>
</span><span id="line-908"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#mkTxCertificates"><span class="hs-identifier hs-type">Exp.mkTxCertificates</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729285"><span class="hs-identifier hs-type">certsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-909"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxMintValue"><span class="hs-identifier hs-type">Exp.setTxMintValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729319"><span class="hs-identifier hs-type">validatedMintValue</span></a></span><span>
</span><span id="line-910"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxScriptValidity"><span class="hs-identifier hs-type">Exp.setTxScriptValidity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-type">fromMaybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ScriptValid"><span class="hs-identifier hs-type">ScriptValid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729273"><span class="hs-identifier hs-type">mScriptValidity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-911"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxVotingProcedures"><span class="hs-identifier hs-type">Exp.setTxVotingProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729323"><span class="hs-identifier hs-type">validatedVotingProcedures</span></a></span><span>
</span><span id="line-912"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxProposalProcedures"><span class="hs-identifier hs-type">Exp.setTxProposalProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729336"><span class="hs-identifier hs-type">validatedTxProposals</span></a></span><span>
</span><span id="line-913"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#maybe"><span class="hs-identifier hs-type">maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxCurrentTreasuryValue"><span class="hs-identifier hs-type">Exp.setTxCurrentTreasuryValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729338"><span class="hs-identifier hs-type">validatedCurrentTreasuryValue</span></a></span><span>
</span><span id="line-914"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#maybe"><span class="hs-identifier hs-type">maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#setTxTreasuryDonation"><span class="hs-identifier hs-type">Exp.setTxTreasuryDonation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729340"><span class="hs-identifier hs-type">validatedTreasuryDonation</span></a></span><span>
</span><span id="line-915"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-916"></span><span>
</span><span id="line-917"></span><span id="local-6989586621681727414"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#convertWithdrawals"><span class="hs-identifier hs-type">convertWithdrawals</span></a></span><span>
</span><span id="line-918"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">L.Coin</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727414"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-919"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxWithdrawals"><span class="hs-identifier hs-type">Exp.TxWithdrawals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727414"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-920"></span><span id="convertWithdrawals"><span class="annot"><span class="annottext">convertWithdrawals :: forall era.
[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; TxWithdrawals (LedgerEra era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#convertWithdrawals"><span class="hs-identifier hs-var hs-var">convertWithdrawals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; TxWithdrawals (LedgerEra era)
forall era.
[(StakeAddress, Lovelace, AnyWitness era)] -&gt; TxWithdrawals era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxWithdrawals"><span class="hs-identifier hs-var">Exp.TxWithdrawals</span></a></span><span>
</span><span id="line-921"></span><span>
</span><span id="line-922"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#convertVotingProcedures"><span class="hs-identifier hs-type">convertVotingProcedures</span></a></span><span>
</span><span id="line-923"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681727403"><span class="annot"><a href="#local-6989586621681727403"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-924"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727403"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-925"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.VotingProcedure.html#VotingProcedures"><span class="hs-identifier hs-type">VotingProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727403"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727403"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-926"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-conway-1.20.0.0-6ca079ac8d5a215005d3e3abc84e962a86f8160b8bd1f162e084b5e8d37e52a3/share/doc/html/src/Cardano.Ledger.Conway.Governance.Procedures.html#VotingProcedures"><span class="hs-identifier hs-type">L.VotingProcedures</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727403"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727403"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-927"></span><span id="convertVotingProcedures"><span class="annot"><span class="annottext">convertVotingProcedures :: forall era.
IsEra era =&gt;
[(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [(VotingProcedures (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#convertVotingProcedures"><span class="hs-identifier hs-var hs-var">convertVotingProcedures</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-928"></span><span>  </span><span class="annot"><span class="annottext">((VotingProcedures era, AnyWitness (LedgerEra era))
 -&gt; (VotingProcedures (LedgerEra era), AnyWitness (LedgerEra era)))
-&gt; [(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [(VotingProcedures (LedgerEra era), AnyWitness (LedgerEra era))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span>
</span><span id="line-929"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.VotingProcedure.html#VotingProcedures"><span class="hs-identifier hs-type">VotingProcedures</span></a></span><span> </span><span id="local-6989586621681729375"><span class="annot"><span class="annottext">VotingProcedures (ShelleyLedgerEra era)
</span><a href="#local-6989586621681729375"><span class="hs-identifier hs-var">vp</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729376"><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681729376"><span class="hs-identifier hs-var">wit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-930"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; VotingProcedures (LedgerEra era))
-&gt; VotingProcedures (LedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727403"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">VotingProcedures (ShelleyLedgerEra era)
VotingProcedures (LedgerEra era)
EraCommonConstraints era =&gt; VotingProcedures (LedgerEra era)
</span><a href="#local-6989586621681729375"><span class="hs-identifier hs-var">vp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681729376"><span class="hs-identifier hs-var">wit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-931"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-932"></span><span>
</span><span id="line-933"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#scriptInEraToSimpleScript"><span class="hs-identifier hs-type">scriptInEraToSimpleScript</span></a></span><span>
</span><span id="line-934"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681727397"><span class="annot"><a href="#local-6989586621681727397"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727397"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptInEra"><span class="hs-identifier hs-type">ScriptInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727397"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Simple.Script.html#SimpleScript"><span class="hs-identifier hs-type">Exp.SimpleScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727397"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-935"></span><span id="scriptInEraToSimpleScript"><span class="annot"><span class="annottext">scriptInEraToSimpleScript :: forall era.
IsEra era =&gt;
ScriptInEra era -&gt; Maybe (SimpleScript (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#scriptInEraToSimpleScript"><span class="hs-identifier hs-var hs-var">scriptInEraToSimpleScript</span></a></span></span><span> </span><span id="local-6989586621681729382"><span class="annot"><span class="annottext">ScriptInEra era
</span><a href="#local-6989586621681729382"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-936"></span><span>  </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    Maybe (SimpleScript (LedgerEra era)))
-&gt; Maybe (SimpleScript (LedgerEra era))
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727397"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; Maybe (SimpleScript (LedgerEra era)))
 -&gt; Maybe (SimpleScript (LedgerEra era)))
-&gt; (EraCommonConstraints era =&gt;
    Maybe (SimpleScript (LedgerEra era)))
-&gt; Maybe (SimpleScript (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-937"></span><span>    </span><span class="annot"><span class="annottext">Timelock (LedgerEra era) -&gt; SimpleScript (LedgerEra era)
NativeScript (LedgerEra era) -&gt; SimpleScript (LedgerEra era)
forall era. EraScript era =&gt; NativeScript era -&gt; SimpleScript era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Simple.Script.html#SimpleScript"><span class="hs-identifier hs-var">Exp.SimpleScript</span></a></span><span>
</span><span id="line-938"></span><span>      </span><span class="annot"><span class="annottext">(Timelock (LedgerEra era) -&gt; SimpleScript (LedgerEra era))
-&gt; Maybe (Timelock (LedgerEra era))
-&gt; Maybe (SimpleScript (LedgerEra era))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Script (LedgerEra era) -&gt; Maybe (NativeScript (LedgerEra era))
forall era. EraScript era =&gt; Script era -&gt; Maybe (NativeScript era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.html#getNativeScript"><span class="hs-identifier hs-var">L.getNativeScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; Script (LedgerEra era))
-&gt; Script (LedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727397"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; Script (LedgerEra era))
 -&gt; Script (LedgerEra era))
-&gt; (EraCommonConstraints era =&gt; Script (LedgerEra era))
-&gt; Script (LedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptInEra era -&gt; Script (ShelleyLedgerEra era)
forall era. ScriptInEra era -&gt; Script (ShelleyLedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#toShelleyScript"><span class="hs-identifier hs-var">toShelleyScript</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptInEra era
</span><a href="#local-6989586621681729382"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-939"></span><span>
</span><span id="line-940"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuild"><span class="hs-identifier hs-type">runTxBuild</span></a></span><span>
</span><span id="line-941"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681727153"><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-942"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-943"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#SocketPath"><span class="hs-identifier hs-type">SocketPath</span></a></span><span>
</span><span id="line-945"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.Internal.NetworkId.html#NetworkId"><span class="hs-identifier hs-type">NetworkId</span></a></span><span>
</span><span id="line-946"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ScriptValidity"><span class="hs-identifier hs-type">ScriptValidity</span></a></span><span>
</span><span id="line-947"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Mark script as expected to pass or fail validation</span></span><span>
</span><span id="line-948"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-949"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Read only reference inputs</span></span><span>
</span><span id="line-950"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-951"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn with potential script witness</span></span><span>
</span><span id="line-952"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-953"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ TxIn for collateral</span></span><span>
</span><span id="line-954"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxOut"><span class="hs-identifier hs-type">Exp.TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-955"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Return collateral</span></span><span>
</span><span id="line-956"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-957"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Total collateral</span></span><span>
</span><span id="line-958"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxOut"><span class="hs-identifier hs-type">Exp.TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-959"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Normal outputs</span></span><span>
</span><span id="line-960"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutChangeAddress"><span class="hs-identifier hs-type">TxOutChangeAddress</span></a></span><span>
</span><span id="line-961"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ A change output</span></span><span>
</span><span id="line-962"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-mary-1.9.0.0-f232181cfed0f6572449e5ce013a358e04c40a2755ddd754f72238f6fa90fff5/share/doc/html/src/Cardano.Ledger.Mary.Value.html#MultiAsset"><span class="hs-identifier hs-type">L.MultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScriptWitness.html#AnyScriptWitness"><span class="hs-identifier hs-type">Exp.AnyScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-963"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Multi-Asset value(s)</span></span><span>
</span><span id="line-964"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-slotting-0.2.0.1-12f785d361b267f840430cd9d7ca68dd8dba1d8b9d7aee7cacb3a1ef6f23575f/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-965"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx lower bound</span></span><span>
</span><span id="line-966"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxValidityUpperBound"><span class="hs-identifier hs-type">TxValidityUpperBound</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-967"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Tx upper bound</span></span><span>
</span><span id="line-968"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Certificate.Type.html#Certificate"><span class="hs-identifier hs-type">Exp.Certificate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-969"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Certificate with potential script witness</span></span><span>
</span><span id="line-970"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-971"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-972"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Required signers</span></span><span>
</span><span id="line-973"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxAuxScripts"><span class="hs-identifier hs-type">TxAuxScripts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-974"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataInEra"><span class="hs-identifier hs-type">TxMetadataInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-975"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxUpdateProposal"><span class="hs-identifier hs-type">TxUpdateProposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-976"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#Word"><span class="hs-identifier hs-type">Word</span></a></span><span>
</span><span id="line-977"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.VotingProcedure.html#VotingProcedures"><span class="hs-identifier hs-type">VotingProcedures</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-978"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Governance.Internal.Action.ProposalProcedure.html#Proposal"><span class="hs-identifier hs-type">Proposal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-979"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#TxCurrentTreasuryValue"><span class="hs-identifier hs-type">TxCurrentTreasuryValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxTreasuryDonation"><span class="hs-identifier hs-type">TxTreasuryDonation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-980"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The current treasury value and the donation.</span></span><span>
</span><span id="line-981"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Type.html#UnsignedTx"><span class="hs-identifier hs-type">Exp.UnsignedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxBodyContent"><span class="hs-identifier hs-type">Exp.TxBodyContent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span id="runTxBuild"><span class="annot"><span class="annottext">runTxBuild :: forall era.
(IsEra era, HasCallStack) =&gt;
SocketPath
-&gt; NetworkId
-&gt; Maybe ScriptValidity
-&gt; [(TxIn, AnyWitness (LedgerEra era))]
-&gt; [TxIn]
-&gt; [TxIn]
-&gt; Maybe (TxOut (LedgerEra era))
-&gt; Maybe Lovelace
-&gt; [TxOut (LedgerEra era)]
-&gt; TxOutChangeAddress
-&gt; (MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; Maybe SlotNo
-&gt; TxValidityUpperBound era
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; [Hash PaymentKey]
-&gt; TxAuxScripts era
-&gt; TxMetadataInEra era
-&gt; TxUpdateProposal era
-&gt; Maybe Word
-&gt; [(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [(Proposal era, AnyWitness (LedgerEra era))]
-&gt; Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
-&gt; ExceptT
     TxCmdError
     IO
     (UnsignedTx (LedgerEra era), TxBodyContent (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTxBuild"><span class="hs-identifier hs-var hs-var">runTxBuild</span></a></span></span><span>
</span><span id="line-983"></span><span>  </span><span id="local-6989586621681729421"><span class="annot"><span class="annottext">SocketPath
</span><a href="#local-6989586621681729421"><span class="hs-identifier hs-var">socketPath</span></a></span></span><span>
</span><span id="line-984"></span><span>  </span><span id="local-6989586621681729422"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681729422"><span class="hs-identifier hs-var">networkId</span></a></span></span><span>
</span><span id="line-985"></span><span>  </span><span id="local-6989586621681729423"><span class="annot"><span class="annottext">Maybe ScriptValidity
</span><a href="#local-6989586621681729423"><span class="hs-identifier hs-var">mScriptValidity</span></a></span></span><span>
</span><span id="line-986"></span><span>  </span><span id="local-6989586621681729424"><span class="annot"><span class="annottext">[(TxIn, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729424"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-987"></span><span>  </span><span id="local-6989586621681729425"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729425"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span>
</span><span id="line-988"></span><span>  </span><span id="local-6989586621681729426"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729426"><span class="hs-identifier hs-var">txinsc</span></a></span></span><span>
</span><span id="line-989"></span><span>  </span><span id="local-6989586621681729427"><span class="annot"><span class="annottext">Maybe (TxOut (LedgerEra era))
</span><a href="#local-6989586621681729427"><span class="hs-identifier hs-var">mReturnCollateral</span></a></span></span><span>
</span><span id="line-990"></span><span>  </span><span id="local-6989586621681729428"><span class="annot"><span class="annottext">Maybe Lovelace
</span><a href="#local-6989586621681729428"><span class="hs-identifier hs-var">mTotCollateral</span></a></span></span><span>
</span><span id="line-991"></span><span>  </span><span id="local-6989586621681729429"><span class="annot"><span class="annottext">[TxOut (LedgerEra era)]
</span><a href="#local-6989586621681729429"><span class="hs-identifier hs-var">txouts</span></a></span></span><span>
</span><span id="line-992"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutChangeAddress"><span class="hs-identifier hs-type">TxOutChangeAddress</span></a></span><span> </span><span id="local-6989586621681729430"><span class="annot"><span class="annottext">AddressAny
</span><a href="#local-6989586621681729430"><span class="hs-identifier hs-var">changeAddr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-993"></span><span>  </span><span id="local-6989586621681729431"><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
</span><a href="#local-6989586621681729431"><span class="hs-identifier hs-var">mintValueWithScriptWits</span></a></span></span><span>
</span><span id="line-994"></span><span>  </span><span id="local-6989586621681729432"><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621681729432"><span class="hs-identifier hs-var">mLowerBound</span></a></span></span><span>
</span><span id="line-995"></span><span>  </span><span id="local-6989586621681729433"><span class="annot"><span class="annottext">TxValidityUpperBound era
</span><a href="#local-6989586621681729433"><span class="hs-identifier hs-var">mUpperBound</span></a></span></span><span>
</span><span id="line-996"></span><span>  </span><span id="local-6989586621681729434"><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729434"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-997"></span><span>  </span><span id="local-6989586621681729435"><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729435"><span class="hs-identifier hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-998"></span><span>  </span><span id="local-6989586621681729436"><span class="annot"><span class="annottext">[Hash PaymentKey]
</span><a href="#local-6989586621681729436"><span class="hs-identifier hs-var">reqSigners</span></a></span></span><span>
</span><span id="line-999"></span><span>  </span><span id="local-6989586621681729437"><span class="annot"><span class="annottext">TxAuxScripts era
</span><a href="#local-6989586621681729437"><span class="hs-identifier hs-var">txAuxScripts</span></a></span></span><span>
</span><span id="line-1000"></span><span>  </span><span id="local-6989586621681729438"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621681729438"><span class="hs-identifier hs-var">txMetadata</span></a></span></span><span>
</span><span id="line-1001"></span><span>  </span><span id="local-6989586621681729439"><span class="annot"><span class="annottext">TxUpdateProposal era
</span><a href="#local-6989586621681729439"><span class="hs-identifier hs-var">_txUpdateProposal</span></a></span></span><span> </span><span class="hs-comment">-- TODO: Remove this parameter</span><span>
</span><span id="line-1002"></span><span>  </span><span id="local-6989586621681729440"><span class="annot"><span class="annottext">Maybe Word
</span><a href="#local-6989586621681729440"><span class="hs-identifier hs-var">mOverrideWits</span></a></span></span><span>
</span><span id="line-1003"></span><span>  </span><span id="local-6989586621681729441"><span class="annot"><span class="annottext">[(VotingProcedures era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729441"><span class="hs-identifier hs-var">votingProcedures</span></a></span></span><span>
</span><span id="line-1004"></span><span>  </span><span id="local-6989586621681729442"><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729442"><span class="hs-identifier hs-var">proposals</span></a></span></span><span>
</span><span id="line-1005"></span><span>  </span><span id="local-6989586621681729443"><span class="annot"><span class="annottext">Maybe (TxCurrentTreasuryValue, TxTreasuryDonation)
</span><a href="#local-6989586621681729443"><span class="hs-identifier hs-var">mCurrentTreasuryValueAndDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1006"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729444"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621681729444"><span class="hs-identifier hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1007"></span><span>    </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ExceptT
      TxCmdError
      IO
      (UnsignedTx (LedgerEra era), TxBodyContent (LedgerEra era)))
-&gt; ExceptT
     TxCmdError
     IO
     (UnsignedTx (LedgerEra era), TxBodyContent (LedgerEra era))
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681729444"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt;
  ExceptT
    TxCmdError
    IO
    (UnsignedTx (LedgerEra era), TxBodyContent (LedgerEra era)))
 -&gt; ExceptT
      TxCmdError
      IO
      (UnsignedTx (LedgerEra era), TxBodyContent (LedgerEra era)))
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ExceptT
      TxCmdError
      IO
      (UnsignedTx (LedgerEra era), TxBodyContent (LedgerEra era)))
-&gt; ExceptT
     TxCmdError
     IO
     (UnsignedTx (LedgerEra era), TxBodyContent (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1008"></span><span>      </span><span class="hs-comment">-- TODO: All functions should be parameterized by ShelleyBasedEra</span><span>
</span><span id="line-1009"></span><span>      </span><span class="hs-comment">-- as it's not possible to call this function with ByronEra</span><span>
</span><span id="line-1010"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729466"><span class="annot"><span class="annottext">era :: CardanoEra era
</span><a href="#local-6989586621681729466"><span class="hs-identifier hs-var hs-var hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681729444"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-1011"></span><span>          </span><span id="local-6989586621681729467"><span class="annot"><span class="annottext">inputsThatRequireWitnessing :: [TxIn]
</span><a href="#local-6989586621681729467"><span class="hs-identifier hs-var hs-var hs-var">inputsThatRequireWitnessing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681729468"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681729468"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681729468"><span class="hs-identifier hs-var">input</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(TxIn, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729424"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1012"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729469"><span class="annot"><span class="annottext">allReferenceInputs :: [TxIn]
</span><a href="#local-6989586621681729469"><span class="hs-identifier hs-var hs-var hs-var">allReferenceInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1013"></span><span>            </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
-&gt; [AnyScriptWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [TxIn]
-&gt; [TxIn]
forall era.
[AnyWitness (LedgerEra era)]
-&gt; [AnyScriptWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [TxIn]
-&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-var">getAllReferenceInputs</span></a></span><span>
</span><span id="line-1014"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((TxIn, AnyWitness (LedgerEra era)) -&gt; AnyWitness (LedgerEra era))
-&gt; [(TxIn, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn, AnyWitness (LedgerEra era)) -&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxIn, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729424"><span class="hs-identifier hs-var">inputsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1015"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((PolicyId, AnyScriptWitness (LedgerEra era))
 -&gt; AnyScriptWitness (LedgerEra era))
-&gt; [(PolicyId, AnyScriptWitness (LedgerEra era))]
-&gt; [AnyScriptWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(PolicyId, AnyScriptWitness (LedgerEra era))
-&gt; AnyScriptWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">([(PolicyId, AnyScriptWitness (LedgerEra era))]
 -&gt; [AnyScriptWitness (LedgerEra era)])
-&gt; [(PolicyId, AnyScriptWitness (LedgerEra era))]
-&gt; [AnyScriptWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; [(PolicyId, AnyScriptWitness (LedgerEra era))]
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
</span><a href="#local-6989586621681729431"><span class="hs-identifier hs-var">mintValueWithScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1016"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729434"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1017"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((StakeAddress, Lovelace, AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeAddress
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729470"><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681729470"><span class="hs-identifier hs-var">wit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era)
</span><a href="#local-6989586621681729470"><span class="hs-identifier hs-var">wit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(StakeAddress, Lovelace, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729435"><span class="hs-identifier hs-var">withdrawals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1018"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((VotingProcedures era, AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(VotingProcedures era, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(VotingProcedures era, AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(VotingProcedures era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729441"><span class="hs-identifier hs-var">votingProcedures</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1019"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Proposal era, AnyWitness (LedgerEra era))
 -&gt; AnyWitness (LedgerEra era))
-&gt; [(Proposal era, AnyWitness (LedgerEra era))]
-&gt; [AnyWitness (LedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Proposal era, AnyWitness (LedgerEra era))
-&gt; AnyWitness (LedgerEra era)
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Proposal era, AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729442"><span class="hs-identifier hs-var">proposals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1020"></span><span>              </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729425"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-1021"></span><span>
</span><span id="line-1022"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729471"><span class="annot"><span class="annottext">allTxInputs :: [TxIn]
</span><a href="#local-6989586621681729471"><span class="hs-identifier hs-var hs-var hs-var">allTxInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729467"><span class="hs-identifier hs-var">inputsThatRequireWitnessing</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn] -&gt; [TxIn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729469"><span class="hs-identifier hs-var">allReferenceInputs</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn] -&gt; [TxIn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729426"><span class="hs-identifier hs-var">txinsc</span></a></span><span>
</span><span id="line-1023"></span><span>          </span><span id="local-6989586621681729472"><span class="annot"><span class="annottext">localNodeConnInfo :: LocalNodeConnectInfo
</span><a href="#local-6989586621681729472"><span class="hs-identifier hs-var hs-var hs-var">localNodeConnInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1024"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#LocalNodeConnectInfo"><span class="hs-identifier hs-type">LocalNodeConnectInfo</span></a></span><span>
</span><span id="line-1025"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">localConsensusModeParams :: ConsensusModeParams
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localConsensusModeParams"><span class="hs-identifier hs-var">localConsensusModeParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpochSlots -&gt; ConsensusModeParams
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Consensus.Internal.Mode.html#CardanoModeParams"><span class="hs-identifier hs-var">CardanoModeParams</span></a></span><span> </span><span class="annot"><span class="annottext">(EpochSlots -&gt; ConsensusModeParams)
-&gt; EpochSlots -&gt; ConsensusModeParams
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; EpochSlots
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-byron-1.2.0.0-584313d54dba56b7b6c8bfd4bf097b74f3b18bccf227d8008c637dfb31b13369/share/doc/html/src/Cardano.Chain.Slotting.EpochSlots.html#EpochSlots"><span class="hs-identifier hs-var">EpochSlots</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">21600</span></span><span>
</span><span id="line-1026"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">localNodeNetworkId :: NetworkId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localNodeNetworkId"><span class="hs-identifier hs-var">localNodeNetworkId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621681729422"><span class="hs-identifier hs-var">networkId</span></a></span><span>
</span><span id="line-1027"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">localNodeSocketPath :: SocketPath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#localNodeSocketPath"><span class="hs-identifier hs-var">localNodeSocketPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SocketPath
</span><a href="#local-6989586621681729421"><span class="hs-identifier hs-var">socketPath</span></a></span><span>
</span><span id="line-1028"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-1029"></span><span>
</span><span id="line-1030"></span><span>      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span id="local-6989586621681729480"><span class="annot"><a href="#local-6989586621681729480"><span class="hs-identifier hs-var">nodeEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1031"></span><span>        </span><span class="annot"><span class="annottext">IO
  (Either
     AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; IO
     (Either
        AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
forall a.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr BlockInMode ChainPoint QueryInMode () IO a
-&gt; IO (Either AcquiringFailure a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-var">executeLocalStateQueryExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681729472"><span class="hs-identifier hs-var">localNodeConnInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Target ChainPoint
forall point. Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-network-protocols-0.15.2.0-52b14221062ec550f031c2adf46330b1522019890a2b16413d3b31a4f7cbb829/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-var">Consensus.VolatileTip</span></a></span><span> </span><span class="annot"><span class="annottext">LocalStateQueryExpr
  BlockInMode
  ChainPoint
  QueryInMode
  ()
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
forall block point r.
LocalStateQueryExpr
  block
  point
  QueryInMode
  r
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryCurrentEra"><span class="hs-identifier hs-var">queryCurrentEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1032"></span><span>          </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either
     AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either
         AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
    -&gt; ExceptT
         TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(AcquiringFailure
 -&gt; ExceptT
      TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError
 -&gt; ExceptT
      TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra))
-&gt; (AcquiringFailure -&gt; TxCmdError)
-&gt; AcquiringFailure
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError -&gt; TxCmdError)
-&gt; (AcquiringFailure -&gt; QueryConvenienceError)
-&gt; AcquiringFailure
-&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#AcqFailure"><span class="hs-identifier hs-var">AcqFailure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1033"></span><span>          </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; (ExceptT
      TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
    -&gt; ExceptT TxCmdError IO AnyCardanoEra)
-&gt; ExceptT TxCmdError IO AnyCardanoEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsupportedNtcVersionError -&gt; ExceptT TxCmdError IO AnyCardanoEra)
-&gt; ExceptT
     TxCmdError IO (Either UnsupportedNtcVersionError AnyCardanoEra)
-&gt; ExceptT TxCmdError IO AnyCardanoEra
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO AnyCardanoEra
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO AnyCardanoEra)
-&gt; (UnsupportedNtcVersionError -&gt; TxCmdError)
-&gt; UnsupportedNtcVersionError
-&gt; ExceptT TxCmdError IO AnyCardanoEra
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError -&gt; TxCmdError)
-&gt; (UnsupportedNtcVersionError -&gt; QueryConvenienceError)
-&gt; UnsupportedNtcVersionError
-&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UnsupportedNtcVersionError -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-var">QceUnsupportedNtcVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1034"></span><span>
</span><span id="line-1035"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#Refl"><span class="hs-identifier hs-type">Refl</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1036"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#testEquality"><span class="hs-identifier hs-type">testEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729466"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729480"><span class="hs-identifier hs-type">nodeEra</span></a></span><span>
</span><span id="line-1037"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">hoistMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxNodeEraMismatchError"><span class="hs-identifier hs-type">TxCmdTxNodeEraMismatchError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.NodeEraMismatchError.html#NodeEraMismatchError"><span class="hs-identifier hs-type">NodeEraMismatchError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729466"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729480"><span class="hs-identifier hs-type">nodeEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1038"></span><span>
</span><span id="line-1039"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729551"><span class="annot"><a href="#local-6989586621681729551"><span class="hs-identifier hs-var hs-var">certsToQuery</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    [Certificate (ShelleyLedgerEra era)])
-&gt; [Certificate (ShelleyLedgerEra era)]
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Certificate (LedgerEra era), AnyWitness (LedgerEra era))
-&gt; Certificate (LedgerEra era)
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((Certificate (LedgerEra era), AnyWitness (LedgerEra era))
 -&gt; Certificate (LedgerEra era))
-&gt; [(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
-&gt; [Certificate (LedgerEra era)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[(Certificate (LedgerEra era), AnyWitness (LedgerEra era))]
</span><a href="#local-6989586621681729434"><span class="hs-identifier hs-var">certsAndMaybeScriptWits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1040"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681729557"><span class="annot"><a href="#local-6989586621681729557"><span class="hs-identifier hs-var">txEraUtxo</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729558"><span class="annot"><a href="#local-6989586621681729558"><span class="hs-identifier hs-var">pparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729559"><span class="annot"><a href="#local-6989586621681729559"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729560"><span class="annot"><a href="#local-6989586621681729560"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729561"><span class="annot"><a href="#local-6989586621681729561"><span class="hs-identifier hs-var">stakePools</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729562"><span class="annot"><a href="#local-6989586621681729562"><span class="hs-identifier hs-var">stakeDelegDeposits</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729563"><span class="annot"><a href="#local-6989586621681729563"><span class="hs-identifier hs-var">drepDelegDeposits</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1041"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-type">lift</span></a></span><span>
</span><span id="line-1042"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-type">executeLocalStateQueryExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729472"><span class="hs-identifier hs-type">localNodeConnInfo</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-network-protocols-0.15.2.0-52b14221062ec550f031c2adf46330b1522019890a2b16413d3b31a4f7cbb829/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-type">Consensus.VolatileTip</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1043"></span><span>              </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#queryStateForBalancedTx"><span class="hs-identifier hs-type">queryStateForBalancedTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729480"><span class="hs-identifier hs-type">nodeEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729471"><span class="hs-identifier hs-type">allTxInputs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729551"><span class="hs-identifier hs-type">certsToQuery</span></a></span><span>
</span><span id="line-1044"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1045"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-type">TxCmdQueryConvenienceError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#AcqFailure"><span class="hs-identifier hs-type">AcqFailure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1046"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-type">TxCmdQueryConvenienceError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1047"></span><span>
</span><span id="line-1048"></span><span>      </span><span id="local-6989586621681729564"><span class="annot"><a href="#local-6989586621681729564"><span class="hs-identifier hs-var">txBodyContent</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1049"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">hoistEither</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1050"></span><span>          </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#constructTxBodyContent"><span class="hs-identifier hs-type">constructTxBodyContent</span></a></span><span>
</span><span id="line-1051"></span><span>            </span><span class="annot"><a href="#local-6989586621681729423"><span class="hs-identifier hs-type">mScriptValidity</span></a></span><span>
</span><span id="line-1052"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#fromShelleyLedgerPParamsShim"><span class="hs-identifier hs-type">fromShelleyLedgerPParamsShim</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#unLedgerProtocolParameters"><span class="hs-identifier hs-var">unLedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729558"><span class="hs-identifier hs-type">pparams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1053"></span><span>            </span><span class="annot"><a href="#local-6989586621681729424"><span class="hs-identifier hs-type">inputsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-1054"></span><span>            </span><span class="annot"><a href="#local-6989586621681729425"><span class="hs-identifier hs-type">readOnlyRefIns</span></a></span><span>
</span><span id="line-1055"></span><span>            </span><span class="annot"><a href="#local-6989586621681729426"><span class="hs-identifier hs-type">txinsc</span></a></span><span>
</span><span id="line-1056"></span><span>            </span><span class="annot"><a href="#local-6989586621681729427"><span class="hs-identifier hs-type">mReturnCollateral</span></a></span><span>
</span><span id="line-1057"></span><span>            </span><span class="annot"><a href="#local-6989586621681729428"><span class="hs-identifier hs-type">mTotCollateral</span></a></span><span>
</span><span id="line-1058"></span><span>            </span><span class="annot"><a href="#local-6989586621681729429"><span class="hs-identifier hs-type">txouts</span></a></span><span>
</span><span id="line-1059"></span><span>            </span><span class="annot"><a href="#local-6989586621681729432"><span class="hs-identifier hs-type">mLowerBound</span></a></span><span>
</span><span id="line-1060"></span><span>            </span><span class="annot"><a href="#local-6989586621681729433"><span class="hs-identifier hs-type">mUpperBound</span></a></span><span>
</span><span id="line-1061"></span><span>            </span><span class="annot"><a href="#local-6989586621681729431"><span class="hs-identifier hs-type">mintValueWithScriptWits</span></a></span><span>
</span><span id="line-1062"></span><span>            </span><span class="annot"><a href="#local-6989586621681729434"><span class="hs-identifier hs-type">certsAndMaybeScriptWits</span></a></span><span>
</span><span id="line-1063"></span><span>            </span><span class="annot"><a href="#local-6989586621681729435"><span class="hs-identifier hs-type">withdrawals</span></a></span><span>
</span><span id="line-1064"></span><span>            </span><span class="annot"><a href="#local-6989586621681729436"><span class="hs-identifier hs-type">reqSigners</span></a></span><span>
</span><span id="line-1065"></span><span>            </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-1066"></span><span>            </span><span class="annot"><a href="#local-6989586621681729437"><span class="hs-identifier hs-type">txAuxScripts</span></a></span><span>
</span><span id="line-1067"></span><span>            </span><span class="annot"><a href="#local-6989586621681729438"><span class="hs-identifier hs-type">txMetadata</span></a></span><span>
</span><span id="line-1068"></span><span>            </span><span class="annot"><a href="#local-6989586621681729441"><span class="hs-identifier hs-type">votingProcedures</span></a></span><span>
</span><span id="line-1069"></span><span>            </span><span class="annot"><a href="#local-6989586621681729442"><span class="hs-identifier hs-type">proposals</span></a></span><span>
</span><span id="line-1070"></span><span>            </span><span class="annot"><a href="#local-6989586621681729443"><span class="hs-identifier hs-type">mCurrentTreasuryValueAndDonation</span></a></span><span>
</span><span id="line-1071"></span><span>
</span><span id="line-1072"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxInsDoNotExist"><span class="hs-identifier hs-type">TxCmdTxInsDoNotExist</span></a></span><span>
</span><span id="line-1073"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">hoistEither</span></span><span>
</span><span id="line-1074"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Convenience.html#txInsExistInUTxO"><span class="hs-identifier hs-type">txInsExistInUTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729471"><span class="hs-identifier hs-type">allTxInputs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729557"><span class="hs-identifier hs-type">txEraUtxo</span></a></span><span>
</span><span id="line-1075"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryNotScriptLocked"><span class="hs-identifier hs-type">TxCmdQueryNotScriptLocked</span></a></span><span>
</span><span id="line-1076"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">hoistEither</span></span><span>
</span><span id="line-1077"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Convenience.html#notScriptLockedTxIns"><span class="hs-identifier hs-type">notScriptLockedTxIns</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729426"><span class="hs-identifier hs-type">txinsc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729557"><span class="hs-identifier hs-type">txEraUtxo</span></a></span><span>
</span><span id="line-1078"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729571"><span class="annot"><a href="#local-6989586621681729571"><span class="hs-identifier hs-var hs-var">ledgerUTxO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; UTxO era -&gt; UTxO (ShelleyLedgerEra era)
forall era.
ShelleyBasedEra era -&gt; UTxO era -&gt; UTxO (ShelleyLedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerUTxO"><span class="hs-identifier hs-var">Api.toLedgerUTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681729557"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-1079"></span><span>      </span><span id="local-6989586621681729572"><span class="annot"><a href="#local-6989586621681729572"><span class="hs-identifier hs-var">cAddr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1080"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-type">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#anyAddressInEra"><span class="hs-identifier hs-type">anyAddressInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729466"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729430"><span class="hs-identifier hs-type">changeAddr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1081"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Err.html#error"><span class="hs-identifier hs-type">error</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;runTxBuild: Byron address used: &quot;</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-type">&lt;&gt;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Show.html#show"><span class="hs-identifier hs-type">show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729430"><span class="hs-identifier hs-type">changeAddr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- should this throw instead?</span><span>
</span><span id="line-1082"></span><span>      </span><span id="local-6989586621681729576"><span class="annot"><a href="#local-6989586621681729576"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681729577"><span class="annot"><a href="#local-6989586621681729577"><span class="hs-identifier hs-var">unsignedTx</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1083"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdBalanceTxBody"><span class="hs-identifier hs-type">TxCmdBalanceTxBody</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#AnyTxBodyErrorAutoBalance"><span class="hs-identifier hs-type">AnyTxBodyErrorAutoBalance</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1084"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">hoistEither</span></span><span>
</span><span id="line-1085"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Fee.html#makeTransactionBodyAutoBalance"><span class="hs-identifier hs-type">Exp.makeTransactionBodyAutoBalance</span></a></span><span>
</span><span id="line-1086"></span><span>            </span><span class="annot"><a href="#local-6989586621681729560"><span class="hs-identifier hs-type">systemStart</span></a></span><span>
</span><span id="line-1087"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerEpochInfo"><span class="hs-identifier hs-type">toLedgerEpochInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729559"><span class="hs-identifier hs-type">eraHistory</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1088"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">Exp.obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#unLedgerProtocolParameters"><span class="hs-identifier hs-var">unLedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729558"><span class="hs-identifier hs-type">pparams</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1089"></span><span>            </span><span class="annot"><a href="#local-6989586621681729561"><span class="hs-identifier hs-type">stakePools</span></a></span><span>
</span><span id="line-1090"></span><span>            </span><span class="annot"><a href="#local-6989586621681729562"><span class="hs-identifier hs-type">stakeDelegDeposits</span></a></span><span>
</span><span id="line-1091"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Map.Strict.Internal.html#map"><span class="hs-identifier hs-type">Map.map</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Compactible.html#fromCompact"><span class="hs-identifier hs-type">L.fromCompact</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729563"><span class="hs-identifier hs-type">drepDelegDeposits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1092"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">obtainCommonConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681727153"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681729571"><span class="hs-identifier hs-type">ledgerUTxO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1093"></span><span>            </span><span class="annot"><a href="#local-6989586621681729564"><span class="hs-identifier hs-type">txBodyContent</span></a></span><span>
</span><span id="line-1094"></span><span>            </span><span class="annot"><a href="#local-6989586621681729572"><span class="hs-identifier hs-type">cAddr</span></a></span><span>
</span><span id="line-1095"></span><span>            </span><span class="annot"><a href="#local-6989586621681729440"><span class="hs-identifier hs-type">mOverrideWits</span></a></span><span>
</span><span id="line-1096"></span><span>      </span><span class="hs-comment">-- Check to see if we lost any scripts during balancing</span><span>
</span><span id="line-1097"></span><span>      </span><span id="local-6989586621681729600"><span class="annot"><a href="#local-6989586621681729600"><span class="hs-identifier hs-var">scriptWitnessesBeforeBalance</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1098"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdCBORDecodeError"><span class="hs-identifier hs-type">TxCmdCBORDecodeError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1099"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">hoistEither</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1100"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#extractAllIndexedPlutusScriptWitnesses"><span class="hs-identifier hs-type">Exp.extractAllIndexedPlutusScriptWitnesses</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729564"><span class="hs-identifier hs-type">txBodyContent</span></a></span><span>
</span><span id="line-1101"></span><span>      </span><span id="local-6989586621681729603"><span class="annot"><a href="#local-6989586621681729603"><span class="hs-identifier hs-var">scriptWitnessesAfterBalance</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1102"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">hoistEither</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdCBORDecodeError"><span class="hs-identifier hs-type">TxCmdCBORDecodeError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1103"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#extractAllIndexedPlutusScriptWitnesses"><span class="hs-identifier hs-type">Exp.extractAllIndexedPlutusScriptWitnesses</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-type">Exp.useEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Tuple.html#snd"><span class="hs-identifier hs-type">snd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729576"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1104"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#when"><span class="hs-identifier hs-type">when</span></a></span><span>
</span><span id="line-1105"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#length"><span class="hs-identifier hs-type">length</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729600"><span class="hs-identifier hs-type">scriptWitnessesBeforeBalance</span></a></span><span>
</span><span id="line-1106"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Classes.html#%2F%3D"><span class="hs-operator hs-type">/=</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#length"><span class="hs-identifier hs-type">length</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729603"><span class="hs-identifier hs-type">scriptWitnessesAfterBalance</span></a></span><span>
</span><span id="line-1107"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1108"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span>
</span><span id="line-1109"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#LostScriptWitnesses"><span class="hs-identifier hs-type">LostScriptWitnesses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729600"><span class="hs-identifier hs-type">scriptWitnessesBeforeBalance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729603"><span class="hs-identifier hs-type">scriptWitnessesAfterBalance</span></a></span><span>
</span><span id="line-1110"></span><span>
</span><span id="line-1111"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.System.IO.html#putStrLn"><span class="hs-identifier hs-type">putStrLn</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Pretty.html#docToString"><span class="hs-identifier hs-type">docToString</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1112"></span><span>        </span><span class="annot"><span class="hs-string">&quot;Estimated transaction fee:&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.html#getUnsignedTxFee"><span class="hs-identifier hs-type">Exp.getUnsignedTxFee</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729577"><span class="hs-identifier hs-type">unsignedTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1113"></span><span>
</span><span id="line-1114"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729576"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-1115"></span><span>
</span><span id="line-1116"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1117"></span><span class="hs-comment">-- Transaction body validation and conversion</span><span>
</span><span id="line-1118"></span><span class="hs-comment">--</span><span>
</span><span id="line-1119"></span><span>
</span><span id="line-1120"></span><span id="local-6989586621681727120"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-type">getAllReferenceInputs</span></a></span><span>
</span><span id="line-1121"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727120"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1122"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScriptWitness.html#AnyScriptWitness"><span class="hs-identifier hs-type">Exp.AnyScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727120"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1123"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727120"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1124"></span><span>  </span><span class="hs-comment">-- \^ Certificate witnesses</span><span>
</span><span id="line-1125"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727120"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1126"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727120"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1127"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">Exp.AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727120"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1128"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1129"></span><span>  </span><span class="hs-comment">-- \^ Read only reference inputs</span><span>
</span><span id="line-1130"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-1131"></span><span id="getAllReferenceInputs"><span class="annot"><span class="annottext">getAllReferenceInputs :: forall era.
[AnyWitness (LedgerEra era)]
-&gt; [AnyScriptWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [AnyWitness (LedgerEra era)]
-&gt; [TxIn]
-&gt; [TxIn]
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getAllReferenceInputs"><span class="hs-identifier hs-var hs-var">getAllReferenceInputs</span></a></span></span><span>
</span><span id="line-1132"></span><span>  </span><span id="local-6989586621681729614"><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729614"><span class="hs-identifier hs-var">spendingWitnesses</span></a></span></span><span>
</span><span id="line-1133"></span><span>  </span><span id="local-6989586621681729615"><span class="annot"><span class="annottext">[AnyScriptWitness (LedgerEra era)]
</span><a href="#local-6989586621681729615"><span class="hs-identifier hs-var">mintWitnesses</span></a></span></span><span>
</span><span id="line-1134"></span><span>  </span><span id="local-6989586621681729616"><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729616"><span class="hs-identifier hs-var">certScriptWitnesses</span></a></span></span><span>
</span><span id="line-1135"></span><span>  </span><span id="local-6989586621681729617"><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729617"><span class="hs-identifier hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-1136"></span><span>  </span><span id="local-6989586621681729618"><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729618"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span></span><span>
</span><span id="line-1137"></span><span>  </span><span id="local-6989586621681729619"><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729619"><span class="hs-identifier hs-var">propProceduresAnMaybeScriptWits</span></a></span></span><span>
</span><span id="line-1138"></span><span>  </span><span id="local-6989586621681729620"><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729620"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1139"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729621"><span class="annot"><span class="annottext">txinsWitByRefInputs :: [TxIn]
</span><a href="#local-6989586621681729621"><span class="hs-identifier hs-var hs-var">txinsWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnyWitness (LedgerEra era) -&gt; Maybe TxIn)
-&gt; [AnyWitness (LedgerEra era)] -&gt; [TxIn]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era) -&gt; Maybe TxIn
forall era. AnyWitness era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var">Exp.getAnyWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729614"><span class="hs-identifier hs-var">spendingWitnesses</span></a></span><span>
</span><span id="line-1140"></span><span>        </span><span id="local-6989586621681729623"><span class="annot"><span class="annottext">mintingRefInputs :: [TxIn]
</span><a href="#local-6989586621681729623"><span class="hs-identifier hs-var hs-var">mintingRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnyScriptWitness (LedgerEra era) -&gt; Maybe TxIn)
-&gt; [AnyScriptWitness (LedgerEra era)] -&gt; [TxIn]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">AnyScriptWitness (LedgerEra era) -&gt; Maybe TxIn
forall era. AnyScriptWitness era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScriptWitness.html#getAnyScriptWitnessReferenceInput"><span class="hs-identifier hs-var">Exp.getAnyScriptWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">[AnyScriptWitness (LedgerEra era)]
</span><a href="#local-6989586621681729615"><span class="hs-identifier hs-var">mintWitnesses</span></a></span><span>
</span><span id="line-1141"></span><span>        </span><span id="local-6989586621681729625"><span class="annot"><span class="annottext">certsWitByRefInputs :: [TxIn]
</span><a href="#local-6989586621681729625"><span class="hs-identifier hs-var hs-var">certsWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnyWitness (LedgerEra era) -&gt; Maybe TxIn)
-&gt; [AnyWitness (LedgerEra era)] -&gt; [TxIn]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era) -&gt; Maybe TxIn
forall era. AnyWitness era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var">Exp.getAnyWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729616"><span class="hs-identifier hs-var">certScriptWitnesses</span></a></span><span>
</span><span id="line-1142"></span><span>        </span><span id="local-6989586621681729626"><span class="annot"><span class="annottext">withdrawalsWitByRefInputs :: [TxIn]
</span><a href="#local-6989586621681729626"><span class="hs-identifier hs-var hs-var">withdrawalsWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnyWitness (LedgerEra era) -&gt; Maybe TxIn)
-&gt; [AnyWitness (LedgerEra era)] -&gt; [TxIn]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era) -&gt; Maybe TxIn
forall era. AnyWitness era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var">Exp.getAnyWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729617"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-1143"></span><span>        </span><span id="local-6989586621681729627"><span class="annot"><span class="annottext">votesWitByRefInputs :: [TxIn]
</span><a href="#local-6989586621681729627"><span class="hs-identifier hs-var hs-var">votesWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnyWitness (LedgerEra era) -&gt; Maybe TxIn)
-&gt; [AnyWitness (LedgerEra era)] -&gt; [TxIn]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era) -&gt; Maybe TxIn
forall era. AnyWitness era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var">Exp.getAnyWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729618"><span class="hs-identifier hs-var">votingProceduresAndMaybeScriptWits</span></a></span><span>
</span><span id="line-1144"></span><span>        </span><span id="local-6989586621681729628"><span class="annot"><span class="annottext">propsWitByRefInputs :: [TxIn]
</span><a href="#local-6989586621681729628"><span class="hs-identifier hs-var hs-var">propsWitByRefInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnyWitness (LedgerEra era) -&gt; Maybe TxIn)
-&gt; [AnyWitness (LedgerEra era)] -&gt; [TxIn]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">AnyWitness (LedgerEra era) -&gt; Maybe TxIn
forall era. AnyWitness era -&gt; Maybe TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#getAnyWitnessReferenceInput"><span class="hs-identifier hs-var">Exp.getAnyWitnessReferenceInput</span></a></span><span> </span><span class="annot"><span class="annottext">[AnyWitness (LedgerEra era)]
</span><a href="#local-6989586621681729619"><span class="hs-identifier hs-var">propProceduresAnMaybeScriptWits</span></a></span><span>
</span><span id="line-1145"></span><span>
</span><span id="line-1146"></span><span>    </span><span class="annot"><span class="annottext">[[TxIn]] -&gt; [TxIn]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-1147"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729621"><span class="hs-identifier hs-var">txinsWitByRefInputs</span></a></span><span>
</span><span id="line-1148"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729623"><span class="hs-identifier hs-var">mintingRefInputs</span></a></span><span>
</span><span id="line-1149"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729625"><span class="hs-identifier hs-var">certsWitByRefInputs</span></a></span><span>
</span><span id="line-1150"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729626"><span class="hs-identifier hs-var">withdrawalsWitByRefInputs</span></a></span><span>
</span><span id="line-1151"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729627"><span class="hs-identifier hs-var">votesWitByRefInputs</span></a></span><span>
</span><span id="line-1152"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729628"><span class="hs-identifier hs-var">propsWitByRefInputs</span></a></span><span>
</span><span id="line-1153"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(TxIn -&gt; Maybe TxIn) -&gt; [TxIn] -&gt; [TxIn]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; Maybe TxIn
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn]
</span><a href="#local-6989586621681729620"><span class="hs-identifier hs-var">readOnlyRefIns</span></a></span><span>
</span><span id="line-1154"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-1155"></span><span>
</span><span id="line-1156"></span><span id="local-6989586621681727074"><span id="local-6989586621681727075"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-type">toTxOutInShelleyBasedEra</span></a></span><span>
</span><span id="line-1157"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">Exp.IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727074"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1158"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutShelleyBasedEra"><span class="hs-identifier hs-type">TxOutShelleyBasedEra</span></a></span><span>
</span><span id="line-1159"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727075"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxOut"><span class="hs-identifier hs-type">Exp.TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727074"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1160"></span><span id="toTxOutInShelleyBasedEra"><span class="annot"><span class="annottext">toTxOutInShelleyBasedEra :: forall era e.
IsEra era =&gt;
TxOutShelleyBasedEra -&gt; CIO e (TxOut (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-var hs-var">toTxOutInShelleyBasedEra</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxOutShelleyBasedEra"><span class="hs-identifier hs-type">TxOutShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681729643"><span class="annot"><span class="annottext">Address ShelleyAddr
</span><a href="#local-6989586621681729643"><span class="hs-identifier hs-var">addr'</span></a></span></span><span> </span><span id="local-6989586621681729644"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681729644"><span class="hs-identifier hs-var">val'</span></a></span></span><span> </span><span id="local-6989586621681729645"><span class="annot"><span class="annottext">TxOutDatumAnyEra
</span><a href="#local-6989586621681729645"><span class="hs-identifier hs-var">mDatumHash</span></a></span></span><span> </span><span id="local-6989586621681729646"><span class="annot"><span class="annottext">ReferenceScriptAnyEra
</span><a href="#local-6989586621681729646"><span class="hs-identifier hs-var">refScriptFp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1161"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729649"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621681729649"><span class="hs-identifier hs-var hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
forall era. IsEra era =&gt; Era era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">Exp.useEra</span></a></span><span>
</span><span id="line-1162"></span><span>      </span><span id="local-6989586621681729650"><span class="annot"><span class="annottext">addr :: AddressInEra era
</span><a href="#local-6989586621681729650"><span class="hs-identifier hs-var hs-var hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Address ShelleyAddr -&gt; AddressInEra era
forall era.
ShelleyBasedEra era -&gt; Address ShelleyAddr -&gt; AddressInEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Address.html#shelleyAddressInEra"><span class="hs-identifier hs-var">shelleyAddressInEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681729649"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">Address ShelleyAddr
</span><a href="#local-6989586621681729643"><span class="hs-identifier hs-var">addr'</span></a></span><span>
</span><span id="line-1163"></span><span>  </span><span id="local-6989586621681729652"><span class="annot"><a href="#local-6989586621681729652"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; AddressInEra era
-&gt; Value
-&gt; TxOutDatumAnyEra
-&gt; ReferenceScriptAnyEra
-&gt; CIO e (TxOut CtxTx era)
forall era e.
ShelleyBasedEra era
-&gt; AddressInEra era
-&gt; Value
-&gt; TxOutDatumAnyEra
-&gt; ReferenceScriptAnyEra
-&gt; CIO e (TxOut CtxTx era)
</span><a href="Cardano.CLI.Compatible.Transaction.TxOut.html#mkTxOut"><span class="hs-identifier hs-var">mkTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681729649"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra era
</span><a href="#local-6989586621681729650"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681729644"><span class="hs-identifier hs-var">val'</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutDatumAnyEra
</span><a href="#local-6989586621681729645"><span class="hs-identifier hs-var">mDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">ReferenceScriptAnyEra
</span><a href="#local-6989586621681729646"><span class="hs-identifier hs-var">refScriptFp</span></a></span><span>
</span><span id="line-1164"></span><span>  </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#fromLegacyTxOut"><span class="hs-identifier hs-type">Exp.fromLegacyTxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729652"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-1165"></span><span>
</span><span id="line-1166"></span><span class="hs-comment">-- TODO: Currently we specify the policyId with the '--mint' option on the cli</span><span>
</span><span id="line-1167"></span><span class="hs-comment">-- and we added a separate '--policy-id' parser that parses the policy id for the</span><span>
</span><span id="line-1168"></span><span class="hs-comment">-- given reference input (since we don't have the script in this case). To avoid asking</span><span>
</span><span id="line-1169"></span><span class="hs-comment">-- for the policy id twice (in the build command) we can potentially query the UTxO and</span><span>
</span><span id="line-1170"></span><span class="hs-comment">-- access the script (and therefore the policy id).</span><span>
</span><span id="line-1171"></span><span id="local-6989586621681727401"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#createTxMintValue"><span class="hs-identifier hs-type">createTxMintValue</span></a></span><span>
</span><span id="line-1172"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-mary-1.9.0.0-f232181cfed0f6572449e5ce013a358e04c40a2755ddd754f72238f6fa90fff5/share/doc/html/src/Cardano.Ledger.Mary.Value.html#MultiAsset"><span class="hs-identifier hs-type">L.MultiAsset</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScriptWitness.html#AnyScriptWitness"><span class="hs-identifier hs-type">Exp.AnyScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727401"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1173"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxMintValue"><span class="hs-identifier hs-type">Exp.TxMintValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">Exp.LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727401"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-1174"></span><span id="createTxMintValue"><span class="annot"><span class="annottext">createTxMintValue :: forall era.
(MultiAsset, [(PolicyId, AnyScriptWitness (LedgerEra era))])
-&gt; Either TxCmdError (TxMintValue (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#createTxMintValue"><span class="hs-identifier hs-var hs-var">createTxMintValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681729666"><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681729666"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729667"><span class="annot"><span class="annottext">[(PolicyId, AnyScriptWitness (LedgerEra era))]
</span><a href="#local-6989586621681729667"><span class="hs-identifier hs-var">scriptWitnesses</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1175"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">MultiAsset
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">MultiAsset -&gt; MultiAsset -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681729666"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">[(PolicyId, AnyScriptWitness (LedgerEra era))] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#null"><span class="hs-identifier hs-var">List.null</span></a></span><span> </span><span class="annot"><span class="annottext">[(PolicyId, AnyScriptWitness (LedgerEra era))]
</span><a href="#local-6989586621681729667"><span class="hs-identifier hs-var">scriptWitnesses</span></a></span><span>
</span><span id="line-1176"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TxMintValue (LedgerEra era)
-&gt; Either TxCmdError (TxMintValue (LedgerEra era))
forall a. a -&gt; Either TxCmdError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxMintValue (LedgerEra era)
 -&gt; Either TxCmdError (TxMintValue (LedgerEra era)))
-&gt; TxMintValue (LedgerEra era)
-&gt; Either TxCmdError (TxMintValue (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Map PolicyId (PolicyAssets, AnyScriptWitness (LedgerEra era))
-&gt; TxMintValue (LedgerEra era)
forall era.
Map PolicyId (PolicyAssets, AnyScriptWitness era)
-&gt; TxMintValue era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxMintValue"><span class="hs-identifier hs-var">Exp.TxMintValue</span></a></span><span> </span><span class="annot"><span class="annottext">Map PolicyId (PolicyAssets, AnyScriptWitness (LedgerEra era))
forall k a. Map k a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">Map.empty</span></a></span><span>
</span><span id="line-1177"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1178"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621681729671"><span class="hs-identifier hs-type">policiesWithAssets</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyAssets"><span class="hs-identifier hs-type">PolicyAssets</span></a></span><span>
</span><span id="line-1179"></span><span>          </span><span id="local-6989586621681729671"><span class="annot"><span class="annottext">policiesWithAssets :: Map PolicyId PolicyAssets
</span><a href="#local-6989586621681729671"><span class="hs-identifier hs-var hs-var hs-var">policiesWithAssets</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MultiAsset -&gt; Map PolicyId PolicyAssets
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#multiAssetToPolicyAssets"><span class="hs-identifier hs-var">multiAssetToPolicyAssets</span></a></span><span> </span><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681729666"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-1180"></span><span>          </span><span class="hs-comment">-- The set of policy ids for which we need witnesses:</span><span>
</span><span id="line-1181"></span><span>          </span><span class="annot"><a href="#local-6989586621681729673"><span class="hs-identifier hs-type">witnessesNeededSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span>
</span><span id="line-1182"></span><span>          </span><span id="local-6989586621681729673"><span class="annot"><span class="annottext">witnessesNeededSet :: Set PolicyId
</span><a href="#local-6989586621681729673"><span class="hs-identifier hs-var hs-var hs-var">witnessesNeededSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map PolicyId PolicyAssets -&gt; Set PolicyId
forall k a. Map k a -&gt; Set k
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Map.Internal.html#keysSet"><span class="hs-identifier hs-var">Map.keysSet</span></a></span><span> </span><span class="annot"><span class="annottext">Map PolicyId PolicyAssets
</span><a href="#local-6989586621681729671"><span class="hs-identifier hs-var">policiesWithAssets</span></a></span><span>
</span><span id="line-1183"></span><span>
</span><span id="line-1184"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729675"><span class="annot"><span class="annottext">witnessesProvidedMap :: Map PolicyId (AnyScriptWitness (LedgerEra era))
</span><a href="#local-6989586621681729675"><span class="hs-identifier hs-var hs-var hs-var">witnessesProvidedMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Item (Map PolicyId (AnyScriptWitness (LedgerEra era)))]
-&gt; Map PolicyId (AnyScriptWitness (LedgerEra era))
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[(PolicyId, AnyScriptWitness (LedgerEra era))]
[Item (Map PolicyId (AnyScriptWitness (LedgerEra era)))]
</span><a href="#local-6989586621681729667"><span class="hs-identifier hs-var">scriptWitnesses</span></a></span><span>
</span><span id="line-1185"></span><span>          </span><span class="annot"><a href="#local-6989586621681729676"><span class="hs-identifier hs-type">witnessesProvidedSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span>
</span><span id="line-1186"></span><span>          </span><span id="local-6989586621681729676"><span class="annot"><span class="annottext">witnessesProvidedSet :: Set PolicyId
</span><a href="#local-6989586621681729676"><span class="hs-identifier hs-var hs-var hs-var">witnessesProvidedSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map PolicyId (AnyScriptWitness (LedgerEra era)) -&gt; Set PolicyId
forall k a. Map k a -&gt; Set k
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Map.Internal.html#keysSet"><span class="hs-identifier hs-var">Map.keysSet</span></a></span><span> </span><span class="annot"><span class="annottext">Map PolicyId (AnyScriptWitness (LedgerEra era))
</span><a href="#local-6989586621681729675"><span class="hs-identifier hs-var">witnessesProvidedMap</span></a></span><span>
</span><span id="line-1187"></span><span>
</span><span id="line-1188"></span><span>      </span><span class="hs-comment">-- Check not too many, nor too few:</span><span>
</span><span id="line-1189"></span><span>      </span><span class="annot"><span class="annottext">Set PolicyId -&gt; Set PolicyId -&gt; Either TxCmdError ()
</span><a href="#local-6989586621681729677"><span class="hs-identifier hs-var">validateAllWitnessesProvided</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729673"><span class="hs-identifier hs-var">witnessesNeededSet</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729676"><span class="hs-identifier hs-var">witnessesProvidedSet</span></a></span><span>
</span><span id="line-1190"></span><span>      </span><span class="annot"><span class="annottext">Set PolicyId -&gt; Set PolicyId -&gt; Either TxCmdError ()
</span><a href="#local-6989586621681729678"><span class="hs-identifier hs-var">validateNoUnnecessaryWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729673"><span class="hs-identifier hs-var">witnessesNeededSet</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729676"><span class="hs-identifier hs-var">witnessesProvidedSet</span></a></span><span>
</span><span id="line-1191"></span><span>      </span><span class="annot"><span class="annottext">TxMintValue (LedgerEra era)
-&gt; Either TxCmdError (TxMintValue (LedgerEra era))
forall a. a -&gt; Either TxCmdError a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TxMintValue (LedgerEra era)
 -&gt; Either TxCmdError (TxMintValue (LedgerEra era)))
-&gt; TxMintValue (LedgerEra era)
-&gt; Either TxCmdError (TxMintValue (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1192"></span><span>        </span><span class="annot"><span class="annottext">Map PolicyId (PolicyAssets, AnyScriptWitness (LedgerEra era))
-&gt; TxMintValue (LedgerEra era)
forall era.
Map PolicyId (PolicyAssets, AnyScriptWitness era)
-&gt; TxMintValue era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.BodyContent.New.html#TxMintValue"><span class="hs-identifier hs-var">Exp.TxMintValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Map PolicyId (PolicyAssets, AnyScriptWitness (LedgerEra era))
 -&gt; TxMintValue (LedgerEra era))
-&gt; Map PolicyId (PolicyAssets, AnyScriptWitness (LedgerEra era))
-&gt; TxMintValue (LedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1193"></span><span>          </span><span class="annot"><span class="annottext">(PolicyAssets
 -&gt; AnyScriptWitness (LedgerEra era)
 -&gt; (PolicyAssets, AnyScriptWitness (LedgerEra era)))
-&gt; Map PolicyId PolicyAssets
-&gt; Map PolicyId (AnyScriptWitness (LedgerEra era))
-&gt; Map PolicyId (PolicyAssets, AnyScriptWitness (LedgerEra era))
forall k a b c.
Ord k =&gt;
(a -&gt; b -&gt; c) -&gt; Map k a -&gt; Map k b -&gt; Map k c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Map.Strict.Internal.html#intersectionWith"><span class="hs-identifier hs-var">Map.intersectionWith</span></a></span><span>
</span><span id="line-1194"></span><span>            </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-1195"></span><span>            </span><span class="annot"><span class="annottext">Map PolicyId PolicyAssets
</span><a href="#local-6989586621681729671"><span class="hs-identifier hs-var">policiesWithAssets</span></a></span><span>
</span><span id="line-1196"></span><span>            </span><span class="annot"><span class="annottext">Map PolicyId (AnyScriptWitness (LedgerEra era))
</span><a href="#local-6989586621681729675"><span class="hs-identifier hs-var">witnessesProvidedMap</span></a></span><span>
</span><span id="line-1197"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1198"></span><span>  </span><span id="local-6989586621681729677"><span class="annot"><span class="annottext">validateAllWitnessesProvided :: Set PolicyId -&gt; Set PolicyId -&gt; Either TxCmdError ()
</span><a href="#local-6989586621681729677"><span class="hs-identifier hs-var hs-var">validateAllWitnessesProvided</span></a></span></span><span> </span><span id="local-6989586621681729684"><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729684"><span class="hs-identifier hs-var">witnessesNeeded</span></a></span></span><span> </span><span id="local-6989586621681729685"><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729685"><span class="hs-identifier hs-var">witnessesProvided</span></a></span></span><span>
</span><span id="line-1199"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[PolicyId] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[PolicyId]
</span><a href="#local-6989586621681729686"><span class="hs-identifier hs-var">witnessesMissing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Either TxCmdError ()
forall a. a -&gt; Either TxCmdError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1200"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxCmdError -&gt; Either TxCmdError ()
forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PolicyId] -&gt; [PolicyId] -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdPolicyIdsMissing"><span class="hs-identifier hs-var">TxCmdPolicyIdsMissing</span></a></span><span> </span><span class="annot"><span class="annottext">[PolicyId]
</span><a href="#local-6989586621681729686"><span class="hs-identifier hs-var">witnessesMissing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set PolicyId -&gt; [Item (Set PolicyId)]
forall l. IsList l =&gt; l -&gt; [Item l]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IsList.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729685"><span class="hs-identifier hs-var">witnessesProvided</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1201"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1202"></span><span>    </span><span id="local-6989586621681729686"><span class="annot"><span class="annottext">witnessesMissing :: [PolicyId]
</span><a href="#local-6989586621681729686"><span class="hs-identifier hs-var hs-var">witnessesMissing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set PolicyId -&gt; [PolicyId]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#elems"><span class="hs-identifier hs-var">Set.elems</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729684"><span class="hs-identifier hs-var">witnessesNeeded</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId -&gt; Set PolicyId -&gt; Set PolicyId
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#%5C%5C"><span class="hs-operator hs-var">Set.\\</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729685"><span class="hs-identifier hs-var">witnessesProvided</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1203"></span><span>
</span><span id="line-1204"></span><span>  </span><span id="local-6989586621681729678"><span class="annot"><span class="annottext">validateNoUnnecessaryWitnesses :: Set PolicyId -&gt; Set PolicyId -&gt; Either TxCmdError ()
</span><a href="#local-6989586621681729678"><span class="hs-identifier hs-var hs-var">validateNoUnnecessaryWitnesses</span></a></span></span><span> </span><span id="local-6989586621681729693"><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729693"><span class="hs-identifier hs-var">witnessesNeeded</span></a></span></span><span> </span><span id="local-6989586621681729694"><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729694"><span class="hs-identifier hs-var">witnessesProvided</span></a></span></span><span>
</span><span id="line-1205"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[PolicyId] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[PolicyId]
</span><a href="#local-6989586621681729695"><span class="hs-identifier hs-var">witnessesExtra</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Either TxCmdError ()
forall a. a -&gt; Either TxCmdError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1206"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxCmdError -&gt; Either TxCmdError ()
forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PolicyId] -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdPolicyIdsExcess"><span class="hs-identifier hs-var">TxCmdPolicyIdsExcess</span></a></span><span> </span><span class="annot"><span class="annottext">[PolicyId]
</span><a href="#local-6989586621681729695"><span class="hs-identifier hs-var">witnessesExtra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1207"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1208"></span><span>    </span><span id="local-6989586621681729695"><span class="annot"><span class="annottext">witnessesExtra :: [PolicyId]
</span><a href="#local-6989586621681729695"><span class="hs-identifier hs-var hs-var">witnessesExtra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set PolicyId -&gt; [PolicyId]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#elems"><span class="hs-identifier hs-var">Set.elems</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729694"><span class="hs-identifier hs-var">witnessesProvided</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId -&gt; Set PolicyId -&gt; Set PolicyId
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#%5C%5C"><span class="hs-operator hs-var">Set.\\</span></a></span><span> </span><span class="annot"><span class="annottext">Set PolicyId
</span><a href="#local-6989586621681729693"><span class="hs-identifier hs-var">witnessesNeeded</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1209"></span><span>
</span><span id="line-1210"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1211"></span><span class="hs-comment">-- Transaction signing</span><span>
</span><span id="line-1212"></span><span class="hs-comment">--</span><span>
</span><span id="line-1213"></span><span>
</span><span id="line-1214"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignCmd"><span class="hs-identifier hs-type">runTransactionSignCmd</span></a></span><span>
</span><span id="line-1215"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1216"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSignCmdArgs</span></a></span><span>
</span><span id="line-1217"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1218"></span><span id="runTransactionSignCmd"><span class="annot"><span class="annottext">runTransactionSignCmd :: TransactionSignCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignCmd"><span class="hs-identifier hs-var hs-var">runTransactionSignCmd</span></a></span></span><span>
</span><span id="line-1219"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSignCmdArgs</span></a></span><span>
</span><span id="line-1220"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txOrTxBodyFile :: TransactionSignCmdArgs -&gt; InputTxBodyOrTxFile
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txOrTxBodyFile"><span class="hs-identifier hs-var">txOrTxBodyFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681729699"><span class="annot"><span class="annottext">InputTxBodyOrTxFile
</span><a href="#local-6989586621681729699"><span class="hs-identifier hs-var">txOrTxBody</span></a></span></span><span>
</span><span id="line-1221"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729700"><span class="annot"><span class="annottext">[WitnessSigningData]
witnessSigningData :: [WitnessSigningData]
witnessSigningData :: TransactionSignCmdArgs -&gt; [WitnessSigningData]
</span><a href="#local-6989586621681729700"><span class="hs-identifier hs-var hs-var">witnessSigningData</span></a></span></span><span>
</span><span id="line-1222"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729702"><span class="annot"><span class="annottext">Maybe NetworkId
mNetworkId :: Maybe NetworkId
mNetworkId :: TransactionSignCmdArgs -&gt; Maybe NetworkId
</span><a href="#local-6989586621681729702"><span class="hs-identifier hs-var hs-var">mNetworkId</span></a></span></span><span>
</span><span id="line-1223"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729704"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: TransactionSignCmdArgs -&gt; TxCborFormat
</span><a href="#local-6989586621681729704"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-1224"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729706"><span class="annot"><span class="annottext">TxFile 'Out
outTxFile :: TxFile 'Out
outTxFile :: TransactionSignCmdArgs -&gt; TxFile 'Out
</span><a href="#local-6989586621681729706"><span class="hs-identifier hs-var hs-var">outTxFile</span></a></span></span><span>
</span><span id="line-1225"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1226"></span><span>    </span><span id="local-6989586621681729708"><span class="annot"><a href="#local-6989586621681729708"><span class="hs-identifier hs-var">sks</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[WitnessSigningData]
-&gt; (WitnessSigningData -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; ExceptT TxCmdError IO [SomeSigningWitness]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[WitnessSigningData]
</span><a href="#local-6989586621681729700"><span class="hs-identifier hs-var">witnessSigningData</span></a></span><span> </span><span class="annot"><span class="annottext">((WitnessSigningData -&gt; ExceptT TxCmdError IO SomeSigningWitness)
 -&gt; ExceptT TxCmdError IO [SomeSigningWitness])
-&gt; (WitnessSigningData -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; ExceptT TxCmdError IO [SomeSigningWitness]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681729709"><span class="annot"><span class="annottext">WitnessSigningData
</span><a href="#local-6989586621681729709"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1227"></span><span>      </span><span class="annot"><span class="annottext">IO (Either ReadWitnessSigningDataError SomeSigningWitness)
-&gt; ExceptT
     TxCmdError
     IO
     (Either ReadWitnessSigningDataError SomeSigningWitness)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WitnessSigningData
-&gt; IO (Either ReadWitnessSigningDataError SomeSigningWitness)
</span><a href="Cardano.CLI.Read.html#readWitnessSigningData"><span class="hs-identifier hs-var">readWitnessSigningData</span></a></span><span> </span><span class="annot"><span class="annottext">WitnessSigningData
</span><a href="#local-6989586621681729709"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1228"></span><span>        </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either ReadWitnessSigningDataError SomeSigningWitness)
-&gt; (ExceptT
      TxCmdError
      IO
      (Either ReadWitnessSigningDataError SomeSigningWitness)
    -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; ExceptT TxCmdError IO SomeSigningWitness
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(ReadWitnessSigningDataError
 -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; ExceptT
     TxCmdError
     IO
     (Either ReadWitnessSigningDataError SomeSigningWitness)
-&gt; ExceptT TxCmdError IO SomeSigningWitness
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO SomeSigningWitness
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO SomeSigningWitness)
-&gt; (ReadWitnessSigningDataError -&gt; TxCmdError)
-&gt; ReadWitnessSigningDataError
-&gt; ExceptT TxCmdError IO SomeSigningWitness
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ReadWitnessSigningDataError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdReadWitnessSigningDataError"><span class="hs-identifier hs-var">TxCmdReadWitnessSigningDataError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1229"></span><span>
</span><span id="line-1230"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681729712"><span class="annot"><a href="#local-6989586621681729712"><span class="hs-identifier hs-var">sksByron</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729713"><span class="annot"><a href="#local-6989586621681729713"><span class="hs-identifier hs-var">sksShelley</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#partitionSomeWitnesses"><span class="hs-identifier hs-type">partitionSomeWitnesses</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-type">map</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html#categoriseSomeSigningWitness"><span class="hs-identifier hs-type">categoriseSomeSigningWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729708"><span class="hs-identifier hs-type">sks</span></a></span><span>
</span><span id="line-1231"></span><span>
</span><span id="line-1232"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681729699"><span class="hs-identifier hs-type">txOrTxBody</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1233"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#InputTxFile"><span class="hs-identifier hs-type">InputTxFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681729716"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681729716"><span class="hs-identifier hs-var">inputTxFilePath</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1234"></span><span>        </span><span id="local-6989586621681729717"><span class="annot"><a href="#local-6989586621681729717"><span class="hs-identifier hs-var">inputTxFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681729716"><span class="hs-identifier hs-var">inputTxFilePath</span></a></span><span>
</span><span id="line-1235"></span><span>        </span><span id="local-6989586621681729719"><span class="annot"><a href="#local-6989586621681729719"><span class="hs-identifier hs-var">anyTx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-type">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTx"><span class="hs-identifier hs-type">readFileTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729717"><span class="hs-identifier hs-type">inputTxFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1236"></span><span>
</span><span id="line-1237"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681729739"><span class="annot"><a href="#local-6989586621681729739"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681729740"><span class="annot"><a href="#local-6989586621681729740"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTx"><span class="hs-identifier hs-type">ShelleyTx</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681729741"><span class="annot"><a href="#local-6989586621681729741"><span class="hs-identifier hs-var">ledgerTx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-type">pure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729719"><span class="hs-identifier hs-type">anyTx</span></a></span><span>
</span><span id="line-1238"></span><span>
</span><span id="line-1239"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681729742"><span class="annot"><a href="#local-6989586621681729742"><span class="hs-identifier hs-var">apiTxBody</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729743"><span class="annot"><a href="#local-6989586621681729743"><span class="hs-identifier hs-var">existingTxKeyWits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#getTxBodyAndWitnesses"><span class="hs-identifier hs-type">getTxBodyAndWitnesses</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729740"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-1240"></span><span>
</span><span id="line-1241"></span><span>        </span><span id="local-6989586621681729745"><span class="annot"><a href="#local-6989586621681729745"><span class="hs-identifier hs-var">byronWitnesses</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1242"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdBootstrapWitnessError"><span class="hs-identifier hs-type">TxCmdBootstrapWitnessError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/mtl-2.3.1-inplace/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-type">liftEither</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1243"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#forM"><span class="hs-identifier hs-type">forM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729712"><span class="hs-identifier hs-type">sksByron</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1244"></span><span>              </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-type">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729739"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1245"></span><span>                </span><span class="annot"><a href="Cardano.CLI.Read.html#mkShelleyBootstrapWitness"><span class="hs-identifier hs-type">mkShelleyBootstrapWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729739"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729702"><span class="hs-identifier hs-type">mNetworkId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681729741"><span class="hs-identifier hs-type">ledgerTx</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">^.</span></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.html#bodyTxL"><span class="hs-identifier hs-type">L.bodyTxL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1246"></span><span>
</span><span id="line-1247"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729763"><span class="annot"><a href="#local-6989586621681729763"><span class="hs-identifier hs-var hs-var">newShelleyKeyWits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ShelleyWitnessSigningKey -&gt; KeyWitness era)
-&gt; [ShelleyWitnessSigningKey] -&gt; [KeyWitness era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
forall era.
ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeShelleyKeyWitness"><span class="hs-identifier hs-var">makeShelleyKeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681729739"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681729742"><span class="hs-identifier hs-var">apiTxBody</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681729713"><span class="hs-identifier hs-var">sksShelley</span></a></span><span>
</span><span id="line-1248"></span><span>            </span><span id="local-6989586621681729765"><span class="annot"><a href="#local-6989586621681729765"><span class="hs-identifier hs-var hs-var">allKeyWits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681729743"><span class="hs-identifier hs-var">existingTxKeyWits</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; [KeyWitness era] -&gt; [KeyWitness era]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681729763"><span class="hs-identifier hs-var">newShelleyKeyWits</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; [KeyWitness era] -&gt; [KeyWitness era]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681729745"><span class="hs-identifier hs-var">byronWitnesses</span></a></span><span>
</span><span id="line-1249"></span><span>            </span><span id="local-6989586621681729766"><span class="annot"><a href="#local-6989586621681729766"><span class="hs-identifier hs-var hs-var">signedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681729765"><span class="hs-identifier hs-var">allKeyWits</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681729742"><span class="hs-identifier hs-var">apiTxBody</span></a></span><span>
</span><span id="line-1250"></span><span>
</span><span id="line-1251"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-type">modifyError</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWriteFileError"><span class="hs-identifier hs-type">TxCmdWriteFileError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1252"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Monad.Error.html#hoistIOEither"><span class="hs-identifier hs-type">hoistIOEither</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1253"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621681729704"><span class="hs-identifier hs-type">isCborOutCanonical</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-type">==</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-type">TxCborCanonical</span></a></span><span>
</span><span id="line-1254"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-type">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729739"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729706"><span class="hs-identifier hs-type">outTxFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729766"><span class="hs-identifier hs-type">signedTx</span></a></span><span>
</span><span id="line-1255"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-type">writeTxFileTextEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729739"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729706"><span class="hs-identifier hs-type">outTxFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729766"><span class="hs-identifier hs-type">signedTx</span></a></span><span>
</span><span id="line-1256"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#InputTxBodyFile"><span class="hs-identifier hs-type">InputTxBodyFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681729772"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681729772"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1257"></span><span>        </span><span id="local-6989586621681729773"><span class="annot"><a href="#local-6989586621681729773"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681729772"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1258"></span><span>        </span><span id="local-6989586621681729774"><span class="annot"><a href="#local-6989586621681729774"><span class="hs-identifier hs-var">unwitnessed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1259"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">newExceptT</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1260"></span><span>            </span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-type">readFileTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729773"><span class="hs-identifier hs-type">txbodyFile</span></a></span><span>
</span><span id="line-1261"></span><span>
</span><span id="line-1262"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681729774"><span class="hs-identifier hs-type">unwitnessed</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1263"></span><span>          </span><span class="annot"><a href="Cardano.CLI.Read.html#IncompleteTxBody"><span class="hs-identifier hs-type">IncompleteTxBody</span></a></span><span> </span><span id="local-6989586621681729778"><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
</span><a href="#local-6989586621681729778"><span class="hs-identifier hs-var">anyTxBody</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1264"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681729793"><span class="annot"><a href="#local-6989586621681729793"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681729794"><span class="annot"><a href="#local-6989586621681729794"><span class="hs-identifier hs-var">txbody</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTxBody"><span class="hs-identifier hs-type">ShelleyTxBody</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681729796"><span class="annot"><a href="#local-6989586621681729796"><span class="hs-identifier hs-var">ledgerTxBody</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
</span><a href="#local-6989586621681729778"><span class="hs-identifier hs-var">anyTxBody</span></a></span><span>
</span><span id="line-1265"></span><span>
</span><span id="line-1266"></span><span>            </span><span class="hs-comment">-- Byron witnesses require the network ID. This can either be provided</span><span>
</span><span id="line-1267"></span><span>            </span><span class="hs-comment">-- directly or derived from a provided Byron address.</span><span>
</span><span id="line-1268"></span><span>            </span><span id="local-6989586621681729797"><span class="annot"><a href="#local-6989586621681729797"><span class="hs-identifier hs-var">byronWitnesses</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1269"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdBootstrapWitnessError"><span class="hs-identifier hs-type">TxCmdBootstrapWitnessError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/mtl-2.3.1-inplace/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-type">liftEither</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1270"></span><span>                </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#forM"><span class="hs-identifier hs-type">forM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729712"><span class="hs-identifier hs-type">sksByron</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1271"></span><span>                  </span><span class="annot"><a href="Cardano.CLI.Read.html#mkShelleyBootstrapWitness"><span class="hs-identifier hs-type">mkShelleyBootstrapWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729793"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729702"><span class="hs-identifier hs-type">mNetworkId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729796"><span class="hs-identifier hs-type">ledgerTxBody</span></a></span><span>
</span><span id="line-1272"></span><span>
</span><span id="line-1273"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729798"><span class="annot"><a href="#local-6989586621681729798"><span class="hs-identifier hs-var hs-var">shelleyKeyWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ShelleyWitnessSigningKey -&gt; KeyWitness era)
-&gt; [ShelleyWitnessSigningKey] -&gt; [KeyWitness era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
forall era.
ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeShelleyKeyWitness"><span class="hs-identifier hs-var">makeShelleyKeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681729793"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681729794"><span class="hs-identifier hs-var">txbody</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681729713"><span class="hs-identifier hs-var">sksShelley</span></a></span><span>
</span><span id="line-1274"></span><span>                </span><span id="local-6989586621681729799"><span class="annot"><a href="#local-6989586621681729799"><span class="hs-identifier hs-var hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681729797"><span class="hs-identifier hs-var">byronWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; [KeyWitness era] -&gt; [KeyWitness era]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681729798"><span class="hs-identifier hs-var">shelleyKeyWitnesses</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681729794"><span class="hs-identifier hs-var">txbody</span></a></span><span>
</span><span id="line-1275"></span><span>
</span><span id="line-1276"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-type">modifyError</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWriteFileError"><span class="hs-identifier hs-type">TxCmdWriteFileError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1277"></span><span>              </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Monad.Error.html#hoistIOEither"><span class="hs-identifier hs-type">hoistIOEither</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1278"></span><span>                </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621681729704"><span class="hs-identifier hs-type">isCborOutCanonical</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-type">==</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-type">TxCborCanonical</span></a></span><span>
</span><span id="line-1279"></span><span>                  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-type">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729793"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729706"><span class="hs-identifier hs-type">outTxFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729799"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-1280"></span><span>                  </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-type">writeTxFileTextEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729793"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729706"><span class="hs-identifier hs-type">outTxFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729799"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-1281"></span><span>
</span><span id="line-1282"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1283"></span><span class="hs-comment">-- Transaction submission</span><span>
</span><span id="line-1284"></span><span class="hs-comment">--</span><span>
</span><span id="line-1285"></span><span>
</span><span id="line-1286"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSubmitCmd"><span class="hs-identifier hs-type">runTransactionSubmitCmd</span></a></span><span>
</span><span id="line-1287"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1288"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSubmitCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSubmitCmdArgs</span></a></span><span>
</span><span id="line-1289"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1290"></span><span id="runTransactionSubmitCmd"><span class="annot"><span class="annottext">runTransactionSubmitCmd :: TransactionSubmitCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSubmitCmd"><span class="hs-identifier hs-var hs-var">runTransactionSubmitCmd</span></a></span></span><span>
</span><span id="line-1291"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSubmitCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSubmitCmdArgs</span></a></span><span>
</span><span id="line-1292"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681729801"><span class="annot"><span class="annottext">LocalNodeConnectInfo
nodeConnInfo :: LocalNodeConnectInfo
nodeConnInfo :: TransactionSubmitCmdArgs -&gt; LocalNodeConnectInfo
</span><a href="#local-6989586621681729801"><span class="hs-identifier hs-var hs-var">nodeConnInfo</span></a></span></span><span>
</span><span id="line-1293"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729803"><span class="annot"><span class="annottext">FilePath
txFile :: FilePath
txFile :: TransactionSubmitCmdArgs -&gt; FilePath
</span><a href="#local-6989586621681729803"><span class="hs-identifier hs-var hs-var">txFile</span></a></span></span><span>
</span><span id="line-1294"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1295"></span><span>    </span><span id="local-6989586621681729805"><span class="annot"><a href="#local-6989586621681729805"><span class="hs-identifier hs-var">txFileOrPipe</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681729803"><span class="hs-identifier hs-var">txFile</span></a></span><span>
</span><span id="line-1296"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681729818"><span class="annot"><a href="#local-6989586621681729818"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681729819"><span class="annot"><a href="#local-6989586621681729819"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1297"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-type">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTx"><span class="hs-identifier hs-type">readFileTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729805"><span class="hs-identifier hs-type">txFileOrPipe</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1298"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729820"><span class="annot"><a href="#local-6989586621681729820"><span class="hs-identifier hs-var hs-var">txInMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Tx era -&gt; TxInMode
forall era. ShelleyBasedEra era -&gt; Tx era -&gt; TxInMode
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxInMode"><span class="hs-identifier hs-var">TxInMode</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681729818"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681729819"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1299"></span><span>    </span><span id="local-6989586621681729822"><span class="annot"><a href="#local-6989586621681729822"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#submitTxToNodeLocal"><span class="hs-identifier hs-type">submitTxToNodeLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729801"><span class="hs-identifier hs-type">nodeConnInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729820"><span class="hs-identifier hs-type">txInMode</span></a></span><span>
</span><span id="line-1300"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681729822"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1301"></span><span>      </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-network-protocols-0.15.2.0-52b14221062ec550f031c2adf46330b1522019890a2b16413d3b31a4f7cbb829/share/doc/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitSuccess"><span class="hs-identifier hs-var">Net.Tx.SubmitSuccess</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1302"></span><span>        </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT TxCmdError IO ()
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT TxCmdError IO ())
-&gt; IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; Text -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Internal.IO.html#hPutStrLn"><span class="hs-identifier hs-var">Text.hPutStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.IO.StdHandles.html#stderr"><span class="hs-identifier hs-var">IO.stderr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Transaction successfully submitted. Transaction hash is:&quot;</span></span><span>
</span><span id="line-1303"></span><span>        </span><span class="annot"><span class="annottext">IO () -&gt; ExceptT TxCmdError IO ()
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ExceptT TxCmdError IO ())
-&gt; IO () -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxSubmissionResult -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">Aeson.encode</span></span><span> </span><span class="annot"><span class="annottext">(TxSubmissionResult -&gt; ByteString)
-&gt; TxSubmissionResult -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxSubmissionResult
</span><a href="Cardano.CLI.Type.Common.html#TxSubmissionResult"><span class="hs-identifier hs-var">TxSubmissionResult</span></a></span><span> </span><span class="annot"><span class="annottext">(TxId -&gt; TxSubmissionResult) -&gt; TxId -&gt; TxSubmissionResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; TxId
forall era. TxBody era -&gt; TxId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#getTxId"><span class="hs-identifier hs-var">getTxId</span></a></span><span> </span><span class="annot"><span class="annottext">(TxBody era -&gt; TxId) -&gt; TxBody era -&gt; TxId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; TxBody era
forall era. Tx era -&gt; TxBody era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#getTxBody"><span class="hs-identifier hs-var">getTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681729819"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1304"></span><span>      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-network-protocols-0.15.2.0-52b14221062ec550f031c2adf46330b1522019890a2b16413d3b31a4f7cbb829/share/doc/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitFail"><span class="hs-identifier hs-type">Net.Tx.SubmitFail</span></a></span><span> </span><span id="local-6989586621681729832"><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode
</span><a href="#local-6989586621681729832"><span class="hs-identifier hs-var">reason</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1305"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode
</span><a href="#local-6989586621681729832"><span class="hs-identifier hs-var">reason</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1306"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxValidationErrorInCardanoMode"><span class="hs-identifier hs-type">TxValidationErrorInCardanoMode</span></a></span><span> </span><span id="local-6989586621681729837"><span class="annot"><span class="annottext">TxValidationError era
</span><a href="#local-6989586621681729837"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO ()
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO ())
-&gt; (FilePath -&gt; TxCmdError) -&gt; FilePath -&gt; ExceptT TxCmdError IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxSubmitError"><span class="hs-identifier hs-var">TxCmdTxSubmitError</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxCmdError)
-&gt; (FilePath -&gt; Text) -&gt; FilePath -&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Text
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; ExceptT TxCmdError IO ())
-&gt; FilePath -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidationError era -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidationError era
</span><a href="#local-6989586621681729837"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-1307"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxValidationEraMismatch"><span class="hs-identifier hs-type">TxValidationEraMismatch</span></a></span><span> </span><span id="local-6989586621681729841"><span class="annot"><span class="annottext">EraMismatch
</span><a href="#local-6989586621681729841"><span class="hs-identifier hs-var">mismatchErr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO ()
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO ())
-&gt; TxCmdError -&gt; ExceptT TxCmdError IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EraMismatch -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxSubmitErrorEraMismatch"><span class="hs-identifier hs-var">TxCmdTxSubmitErrorEraMismatch</span></a></span><span> </span><span class="annot"><span class="annottext">EraMismatch
</span><a href="#local-6989586621681729841"><span class="hs-identifier hs-var">mismatchErr</span></a></span><span>
</span><span id="line-1308"></span><span>
</span><span id="line-1309"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1310"></span><span class="hs-comment">-- Transaction fee calculation</span><span>
</span><span id="line-1311"></span><span class="hs-comment">--</span><span>
</span><span id="line-1312"></span><span>
</span><span id="line-1313"></span><span id="local-6989586621681726831"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinFeeCmd"><span class="hs-identifier hs-type">runTransactionCalculateMinFeeCmd</span></a></span><span>
</span><span id="line-1314"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1315"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinFeeCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinFeeCmdArgs</span></a></span><span>
</span><span id="line-1316"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726831"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1317"></span><span id="runTransactionCalculateMinFeeCmd"><span class="annot"><span class="annottext">runTransactionCalculateMinFeeCmd :: forall e. TransactionCalculateMinFeeCmdArgs -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinFeeCmd"><span class="hs-identifier hs-var hs-var">runTransactionCalculateMinFeeCmd</span></a></span></span><span>
</span><span id="line-1318"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinFeeCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinFeeCmdArgs</span></a></span><span>
</span><span id="line-1319"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txBodyFile :: TransactionCalculateMinFeeCmdArgs -&gt; File (TxBody ()) 'In
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txBodyFile"><span class="hs-identifier hs-var">txBodyFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681729864"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681729864"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span>
</span><span id="line-1320"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">protocolParamsFile :: TransactionCalculateMinFeeCmdArgs -&gt; ProtocolParamsFile
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#protocolParamsFile"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681729866"><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681729866"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span></span><span>
</span><span id="line-1321"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txShelleyWitnessCount :: TransactionCalculateMinFeeCmdArgs -&gt; TxShelleyWitnessCount
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txShelleyWitnessCount"><span class="hs-identifier hs-var">txShelleyWitnessCount</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxShelleyWitnessCount"><span class="hs-identifier hs-type">TxShelleyWitnessCount</span></a></span><span> </span><span id="local-6989586621681729869"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681729869"><span class="hs-identifier hs-var">nShelleyKeyWitnesses</span></a></span></span><span>
</span><span id="line-1322"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txByronWitnessCount :: TransactionCalculateMinFeeCmdArgs -&gt; TxByronWitnessCount
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txByronWitnessCount"><span class="hs-identifier hs-var">txByronWitnessCount</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#TxByronWitnessCount"><span class="hs-identifier hs-type">TxByronWitnessCount</span></a></span><span> </span><span id="local-6989586621681729872"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681729872"><span class="hs-identifier hs-var">nByronKeyWitnesses</span></a></span></span><span>
</span><span id="line-1323"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">referenceScriptSize :: TransactionCalculateMinFeeCmdArgs -&gt; ReferenceScriptSize
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#referenceScriptSize"><span class="hs-identifier hs-var">referenceScriptSize</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#ReferenceScriptSize"><span class="hs-identifier hs-type">ReferenceScriptSize</span></a></span><span> </span><span id="local-6989586621681729875"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681729875"><span class="hs-identifier hs-var">sReferenceScript</span></a></span></span><span>
</span><span id="line-1324"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729876"><span class="annot"><span class="annottext">Vary '[FormatJson, FormatText, FormatYaml]
outputFormat :: Vary '[FormatJson, FormatText, FormatYaml]
outputFormat :: TransactionCalculateMinFeeCmdArgs
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
</span><a href="#local-6989586621681729876"><span class="hs-identifier hs-var hs-var">outputFormat</span></a></span></span><span>
</span><span id="line-1325"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681729878"><span class="annot"><span class="annottext">Maybe (File () 'Out)
outFile :: Maybe (File () 'Out)
outFile :: TransactionCalculateMinFeeCmdArgs -&gt; Maybe (File () 'Out)
</span><a href="#local-6989586621681729878"><span class="hs-identifier hs-var hs-var">outFile</span></a></span></span><span>
</span><span id="line-1326"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1327"></span><span>    </span><span id="local-6989586621681729880"><span class="annot"><a href="#local-6989586621681729880"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; RIO e FileOrPipe
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; RIO e FileOrPipe)
-&gt; IO FileOrPipe -&gt; RIO e FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681729864"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1328"></span><span>    </span><span id="local-6989586621681729881"><span class="annot"><a href="#local-6989586621681729881"><span class="hs-identifier hs-var">unwitnessed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1329"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-type">fromEitherIOCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1330"></span><span>        </span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-type">readFileTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729880"><span class="hs-identifier hs-type">txbodyFile</span></a></span><span>
</span><span id="line-1331"></span><span>
</span><span id="line-1332"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729882"><span class="annot"><a href="#local-6989586621681729882"><span class="hs-identifier hs-var hs-var">nShelleyKeyWitW32</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681729869"><span class="hs-identifier hs-var">nShelleyKeyWitnesses</span></a></span><span>
</span><span id="line-1333"></span><span>
</span><span id="line-1334"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681729945"><span class="annot"><a href="#local-6989586621681729945"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681729946"><span class="annot"><a href="#local-6989586621681729946"><span class="hs-identifier hs-var">txbody</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-type">pure</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html#unIncompleteTxBody"><span class="hs-identifier hs-var">unIncompleteTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729881"><span class="hs-identifier hs-type">unwitnessed</span></a></span><span>
</span><span id="line-1335"></span><span>
</span><span id="line-1336"></span><span>    </span><span id="local-6989586621681729948"><span class="annot"><a href="#local-6989586621681729948"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromEitherCli"><span class="hs-identifier hs-type">fromEitherCli</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#sbeToEra"><span class="hs-identifier hs-type">Exp.sbeToEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729945"><span class="hs-identifier hs-type">sbe</span></a></span><span>
</span><span id="line-1337"></span><span>    </span><span id="local-6989586621681729950"><span class="annot"><a href="#local-6989586621681729950"><span class="hs-identifier hs-var">lpparams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1338"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-type">fromExceptTCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.CLI.Type.Error.ProtocolParamsError.html#ProtocolParamsError"><span class="hs-identifier hs-type">ProtocolParamsError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1339"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">Exp.obtainCommonConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729948"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1340"></span><span>          </span><span class="annot"><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-type">readProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681729866"><span class="hs-identifier hs-type">protocolParamsFile</span></a></span><span>
</span><span id="line-1341"></span><span>
</span><span id="line-1342"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729967"><span class="annot"><a href="#local-6989586621681729967"><span class="hs-identifier hs-var hs-var">shelleyfee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era)
-&gt; TxBody era
-&gt; Word
-&gt; Word
-&gt; Int
-&gt; Lovelace
forall era.
ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era)
-&gt; TxBody era
-&gt; Word
-&gt; Word
-&gt; Int
-&gt; Lovelace
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#evaluateTransactionFee"><span class="hs-identifier hs-var">evaluateTransactionFee</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681729945"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681729950"><span class="hs-identifier hs-var">lpparams</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681729946"><span class="hs-identifier hs-var">txbody</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681729882"><span class="hs-identifier hs-var">nShelleyKeyWitW32</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681729875"><span class="hs-identifier hs-var">sReferenceScript</span></a></span><span>
</span><span id="line-1343"></span><span>
</span><span id="line-1344"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729969"><span class="annot"><a href="#local-6989586621681729969"><span class="hs-identifier hs-var hs-var">byronfee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1345"></span><span>          </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt; Lovelace) -&gt; Lovelace
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681729945"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt; Lovelace) -&gt; Lovelace)
-&gt; (ShelleyBasedEraConstraints era =&gt; Lovelace) -&gt; Lovelace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1346"></span><span>            </span><span class="annot"><span class="annottext">Lovelace -&gt; Int -&gt; Lovelace
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#calculateByronWitnessFees"><span class="hs-identifier hs-var">calculateByronWitnessFees</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681729950"><span class="hs-identifier hs-var">lpparams</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
-&gt; Getting Lovelace (PParams (ShelleyLedgerEra era)) Lovelace
-&gt; Lovelace
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Lovelace (PParams (ShelleyLedgerEra era)) Lovelace
forall era. EraPParams era =&gt; Lens' (PParams era) Lovelace
Lens' (PParams (ShelleyLedgerEra era)) Lovelace
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.PParams.html#ppMinFeeAL"><span class="hs-identifier hs-var">L.ppMinFeeAL</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681729872"><span class="hs-identifier hs-var">nByronKeyWitnesses</span></a></span><span>
</span><span id="line-1347"></span><span>
</span><span id="line-1348"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681729986"><span class="annot"><a href="#local-6989586621681729986"><span class="hs-identifier hs-var hs-var">fee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681729967"><span class="hs-identifier hs-var">shelleyfee</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Lovelace -&gt; Lovelace
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681729969"><span class="hs-identifier hs-var">byronfee</span></a></span><span>
</span><span id="line-1349"></span><span>        </span><span id="local-6989586621681729988"><span class="annot"><a href="#local-6989586621681729988"><span class="hs-identifier hs-var hs-var">textToWrite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Pretty.html#docToText"><span class="hs-identifier hs-var">docToText</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc AnsiStyle -&gt; Text) -&gt; Doc AnsiStyle -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Doc AnsiStyle
forall ann. Lovelace -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681729986"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-1350"></span><span>        </span><span id="local-6989586621681729990"><span class="annot"><a href="#local-6989586621681729990"><span class="hs-identifier hs-var hs-var">content</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fee&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Lovelace -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681729986"><span class="hs-identifier hs-var">fee</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1351"></span><span>
</span><span id="line-1352"></span><span>    </span><span class="annot"><a href="#local-6989586621681729876"><span class="hs-identifier hs-type">outputFormat</span></a></span><span>
</span><span id="line-1353"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-type">id</span></a></span><span>
</span><span id="line-1354"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vary.on</span></span><span>
</span><span id="line-1355"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatJson
</span><a href="Cardano.CLI.Type.Common.html#FormatJson"><span class="hs-identifier hs-var">FormatJson</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="#local-6989586621681729878"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1356"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1357"></span><span>                    </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeJson"><span class="hs-identifier hs-var">Json.encodeJson</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681729990"><span class="hs-identifier hs-var">content</span></a></span><span>
</span><span id="line-1358"></span><span>                  </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681729995"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681729995"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1359"></span><span>                    </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Error.html#FileError"><span class="hs-identifier hs-type">FileError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1360"></span><span>                      </span><span class="annot"><span class="annottext">File () 'Out -&gt; ByteString -&gt; IO (Either (FileError ()) ())
forall (m :: * -&gt; *) content e.
MonadIO m =&gt;
File content 'Out -&gt; ByteString -&gt; m (Either (FileError e) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.html#writeLazyByteStringFile"><span class="hs-identifier hs-var">writeLazyByteStringFile</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681729995"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO (Either (FileError ()) ()))
-&gt; ByteString -&gt; IO (Either (FileError ()) ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1361"></span><span>                        </span><span class="annot"><span class="annottext">Value -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeJson"><span class="hs-identifier hs-var">Json.encodeJson</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681729990"><span class="hs-identifier hs-var">content</span></a></span><span>
</span><span id="line-1362"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-1363"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vary.on</span></span><span>
</span><span id="line-1364"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatText
</span><a href="Cardano.CLI.Type.Common.html#FormatText"><span class="hs-identifier hs-var">FormatText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="#local-6989586621681729878"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1365"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1366"></span><span>                    </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/text-2.1.2-inplace/src/Data.Text.IO.html#putStrLn"><span class="hs-identifier hs-var">Text.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681729988"><span class="hs-identifier hs-var">textToWrite</span></a></span><span>
</span><span id="line-1367"></span><span>                  </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681729999"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681729999"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1368"></span><span>                    </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Error.html#FileError"><span class="hs-identifier hs-type">FileError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out -&gt; Text -&gt; IO (Either (FileError ()) ())
forall (m :: * -&gt; *) content e.
MonadIO m =&gt;
File content 'Out -&gt; Text -&gt; m (Either (FileError e) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.html#writeTextFile"><span class="hs-identifier hs-var">writeTextFile</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681729999"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681729988"><span class="hs-identifier hs-var">textToWrite</span></a></span><span>
</span><span id="line-1369"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-1370"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vary.on</span></span><span>
</span><span id="line-1371"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatYaml
</span><a href="Cardano.CLI.Type.Common.html#FormatYaml"><span class="hs-identifier hs-var">FormatYaml</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="#local-6989586621681729878"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1372"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1373"></span><span>                    </span><span class="annot"><span class="annottext">IO () -&gt; RIO e ()
forall a. IO a -&gt; RIO e a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; RIO e ()) -&gt; IO () -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeYaml"><span class="hs-identifier hs-var">Json.encodeYaml</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681729990"><span class="hs-identifier hs-var">content</span></a></span><span>
</span><span id="line-1374"></span><span>                  </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681730003"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681730003"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1375"></span><span>                    </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
IO (Either e a) -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromEitherIOCli"><span class="hs-identifier hs-var">fromEitherIOCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Error.html#FileError"><span class="hs-identifier hs-type">FileError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO (Either (FileError ()) ()) -&gt; RIO e ())
-&gt; IO (Either (FileError ()) ()) -&gt; RIO e ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1376"></span><span>                      </span><span class="annot"><span class="annottext">File () 'Out -&gt; ByteString -&gt; IO (Either (FileError ()) ())
forall (m :: * -&gt; *) content e.
MonadIO m =&gt;
File content 'Out -&gt; ByteString -&gt; m (Either (FileError e) ())
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.html#writeLazyByteStringFile"><span class="hs-identifier hs-var">writeLazyByteStringFile</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681730003"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO (Either (FileError ()) ()))
-&gt; ByteString -&gt; IO (Either (FileError ()) ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1377"></span><span>                        </span><span class="annot"><span class="annottext">Value -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeYaml"><span class="hs-identifier hs-var">Json.encodeYaml</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681729990"><span class="hs-identifier hs-var">content</span></a></span><span>
</span><span id="line-1378"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-1379"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vary.exhaustiveCase</span></span><span>
</span><span id="line-1380"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1381"></span><span>
</span><span id="line-1382"></span><span class="hs-comment">-- Extra logic to handle byron witnesses.</span><span>
</span><span id="line-1383"></span><span class="hs-comment">-- TODO: move this to Cardano.API.Fee.evaluateTransactionFee.</span><span>
</span><span id="line-1384"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#calculateByronWitnessFees"><span class="hs-identifier hs-type">calculateByronWitnessFees</span></a></span><span>
</span><span id="line-1385"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1386"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-1387"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The tx fee per byte (from protocol parameters)</span></span><span>
</span><span id="line-1388"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-1389"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The number of Byron key witnesses</span></span><span>
</span><span id="line-1390"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Value.Internal.html#Lovelace"><span class="hs-identifier hs-type">Lovelace</span></a></span><span>
</span><span id="line-1391"></span><span id="calculateByronWitnessFees"><span class="annot"><span class="annottext">calculateByronWitnessFees :: Lovelace -&gt; Int -&gt; Lovelace
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#calculateByronWitnessFees"><span class="hs-identifier hs-var hs-var">calculateByronWitnessFees</span></a></span></span><span> </span><span id="local-6989586621681730005"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681730005"><span class="hs-identifier hs-var">txFeePerByte</span></a></span></span><span> </span><span id="local-6989586621681730006"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730006"><span class="hs-identifier hs-var">byronwitcount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1392"></span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; Lovelace
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">L.Coin</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Lovelace) -&gt; Integer -&gt; Lovelace
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1393"></span><span>    </span><span class="annot"><span class="annottext">Lovelace -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Real.html#toInteger"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621681730005"><span class="hs-identifier hs-var">txFeePerByte</span></a></span><span>
</span><span id="line-1394"></span><span>      </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Real.html#toInteger"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730006"><span class="hs-identifier hs-var">byronwitcount</span></a></span><span>
</span><span id="line-1395"></span><span>      </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Real.html#toInteger"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730009"><span class="hs-identifier hs-var">sizeByronKeyWitnesses</span></a></span><span>
</span><span id="line-1396"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1397"></span><span>  </span><span id="local-6989586621681730009"><span class="annot"><span class="annottext">sizeByronKeyWitnesses :: Int
</span><a href="#local-6989586621681730009"><span class="hs-identifier hs-var hs-var">sizeByronKeyWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730010"><span class="hs-identifier hs-var">smallArray</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730011"><span class="hs-identifier hs-var">keyObj</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730012"><span class="hs-identifier hs-var">sigObj</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730013"><span class="hs-identifier hs-var">ccodeObj</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730014"><span class="hs-identifier hs-var">attrsObj</span></a></span><span>
</span><span id="line-1398"></span><span>
</span><span id="line-1399"></span><span>  </span><span id="local-6989586621681730010"><span class="annot"><span class="annottext">smallArray :: Int
</span><a href="#local-6989586621681730010"><span class="hs-identifier hs-var hs-var">smallArray</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-1400"></span><span>
</span><span id="line-1401"></span><span>  </span><span id="local-6989586621681730011"><span class="annot"><span class="annottext">keyObj :: Int
</span><a href="#local-6989586621681730011"><span class="hs-identifier hs-var hs-var">keyObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730016"><span class="hs-identifier hs-var">keyLen</span></a></span><span>
</span><span id="line-1402"></span><span>  </span><span id="local-6989586621681730016"><span class="annot"><span class="annottext">keyLen :: Int
</span><a href="#local-6989586621681730016"><span class="hs-identifier hs-var hs-var">keyLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span>
</span><span id="line-1403"></span><span>
</span><span id="line-1404"></span><span>  </span><span id="local-6989586621681730012"><span class="annot"><span class="annottext">sigObj :: Int
</span><a href="#local-6989586621681730012"><span class="hs-identifier hs-var hs-var">sigObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730018"><span class="hs-identifier hs-var">sigLen</span></a></span><span>
</span><span id="line-1405"></span><span>  </span><span id="local-6989586621681730018"><span class="annot"><span class="annottext">sigLen :: Int
</span><a href="#local-6989586621681730018"><span class="hs-identifier hs-var hs-var">sigLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">64</span></span><span>
</span><span id="line-1406"></span><span>
</span><span id="line-1407"></span><span>  </span><span id="local-6989586621681730013"><span class="annot"><span class="annottext">ccodeObj :: Int
</span><a href="#local-6989586621681730013"><span class="hs-identifier hs-var hs-var">ccodeObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681730020"><span class="hs-identifier hs-var">ccodeLen</span></a></span><span>
</span><span id="line-1408"></span><span>  </span><span id="local-6989586621681730020"><span class="annot"><span class="annottext">ccodeLen :: Int
</span><a href="#local-6989586621681730020"><span class="hs-identifier hs-var hs-var">ccodeLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span>
</span><span id="line-1409"></span><span>
</span><span id="line-1410"></span><span>  </span><span id="local-6989586621681730014"><span class="annot"><span class="annottext">attrsObj :: Int
</span><a href="#local-6989586621681730014"><span class="hs-identifier hs-var hs-var">attrsObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.html#length"><span class="hs-identifier hs-var">Data.Bytestring.length</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621681730025"><span class="hs-identifier hs-var">attributes</span></a></span><span>
</span><span id="line-1411"></span><span>
</span><span id="line-1412"></span><span>  </span><span class="hs-comment">-- We assume testnet network magic here to avoid having</span><span>
</span><span id="line-1413"></span><span>  </span><span class="hs-comment">-- to thread the actual network ID into this function</span><span>
</span><span id="line-1414"></span><span>  </span><span class="hs-comment">-- merely to calculate the fees of byron witnesses more accurately.</span><span>
</span><span id="line-1415"></span><span>  </span><span class="hs-comment">-- This may slightly over-estimate min fees for byron witnesses</span><span>
</span><span id="line-1416"></span><span>  </span><span class="hs-comment">-- in mainnet transaction by one Word32 per witness.</span><span>
</span><span id="line-1417"></span><span>  </span><span id="local-6989586621681730025"><span class="annot"><span class="annottext">attributes :: ByteString
</span><a href="#local-6989586621681730025"><span class="hs-identifier hs-var hs-var">attributes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1418"></span><span>    </span><span class="annot"><span class="annottext">Attributes AddrAttributes -&gt; ByteString
forall a. ToCBOR a =&gt; a -&gt; ByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-binary-1.7.2.0-ce9a15fbc7756d1bebaef771c8cfc97d748a2796c4be0538ee47f5fe23060ac4/share/doc/html/src/Cardano.Binary.Serialize.html#serialize%27"><span class="hs-identifier hs-var">CBOR.serialize'</span></a></span><span> </span><span class="annot"><span class="annottext">(Attributes AddrAttributes -&gt; ByteString)
-&gt; Attributes AddrAttributes -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1419"></span><span>      </span><span class="annot"><span class="annottext">AddrAttributes -&gt; Attributes AddrAttributes
forall h. h -&gt; Attributes h
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-byron-1.2.0.0-584313d54dba56b7b6c8bfd4bf097b74f3b18bccf227d8008c637dfb31b13369/share/doc/html/src/Cardano.Chain.Common.Attributes.html#mkAttributes"><span class="hs-identifier hs-var">Byron.mkAttributes</span></a></span><span>
</span><span id="line-1420"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-byron-1.2.0.0-584313d54dba56b7b6c8bfd4bf097b74f3b18bccf227d8008c637dfb31b13369/share/doc/html/src/Cardano.Chain.Common.AddrAttributes.html#AddrAttributes"><span class="hs-identifier hs-type">Byron.AddrAttributes</span></a></span><span>
</span><span id="line-1421"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">aaVKDerivationPath :: Maybe HDAddressPayload
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-byron-1.2.0.0-584313d54dba56b7b6c8bfd4bf097b74f3b18bccf227d8008c637dfb31b13369/share/doc/html/src/Cardano.Chain.Common.AddrAttributes.html#aaVKDerivationPath"><span class="hs-identifier hs-var">Byron.aaVKDerivationPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe HDAddressPayload
forall a. Maybe a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1422"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">aaNetworkMagic :: NetworkMagic
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-byron-1.2.0.0-584313d54dba56b7b6c8bfd4bf097b74f3b18bccf227d8008c637dfb31b13369/share/doc/html/src/Cardano.Chain.Common.AddrAttributes.html#aaNetworkMagic"><span class="hs-identifier hs-var">Byron.aaNetworkMagic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; NetworkMagic
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-byron-1.2.0.0-584313d54dba56b7b6c8bfd4bf097b74f3b18bccf227d8008c637dfb31b13369/share/doc/html/src/Cardano.Chain.Common.NetworkMagic.html#NetworkTestnet"><span class="hs-identifier hs-var">Byron.NetworkTestnet</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
forall a. Bounded a =&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Enum.html#maxBound"><span class="hs-identifier hs-var">maxBound</span></a></span><span>
</span><span id="line-1423"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-1424"></span><span>
</span><span id="line-1425"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1426"></span><span class="hs-comment">-- Transaction fee calculation</span><span>
</span><span id="line-1427"></span><span class="hs-comment">--</span><span>
</span><span id="line-1428"></span><span>
</span><span id="line-1429"></span><span id="local-6989586621681726833"><span id="local-6989586621681726834"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinValueCmd"><span class="hs-identifier hs-type">runTransactionCalculateMinValueCmd</span></a></span><span>
</span><span id="line-1430"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1431"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinValueCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinValueCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726833"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1432"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726834"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1433"></span><span id="runTransactionCalculateMinValueCmd"><span class="annot"><span class="annottext">runTransactionCalculateMinValueCmd :: forall era e. TransactionCalculateMinValueCmdArgs era -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculateMinValueCmd"><span class="hs-identifier hs-var hs-var">runTransactionCalculateMinValueCmd</span></a></span></span><span>
</span><span id="line-1434"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculateMinValueCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculateMinValueCmdArgs</span></a></span><span>
</span><span id="line-1435"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">era :: forall era. TransactionCalculateMinValueCmdArgs era -&gt; Era era
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#era"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681730053"><span id="local-6989586621681730054"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681730054"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730053"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-1436"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730055"><span class="annot"><span class="annottext">ProtocolParamsFile
protocolParamsFile :: ProtocolParamsFile
protocolParamsFile :: forall era.
TransactionCalculateMinValueCmdArgs era -&gt; ProtocolParamsFile
</span><a href="#local-6989586621681730055"><span class="hs-identifier hs-var hs-var">protocolParamsFile</span></a></span></span><span>
</span><span id="line-1437"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730057"><span class="annot"><span class="annottext">TxOutShelleyBasedEra
txOut :: TxOutShelleyBasedEra
txOut :: forall era.
TransactionCalculateMinValueCmdArgs era -&gt; TxOutShelleyBasedEra
</span><a href="#local-6989586621681730057"><span class="hs-identifier hs-var hs-var">txOut</span></a></span></span><span>
</span><span id="line-1438"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1439"></span><span>    </span><span id="local-6989586621681730059"><span class="annot"><a href="#local-6989586621681730059"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">L.PParams</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exp.LedgerEra</span></span><span> </span><span class="annot"><span class="hs-identifier">era</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1440"></span><span>      </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, Show e, Typeable e, Error e) =&gt;
ExceptT e IO a -&gt; m a
</span><a href="Cardano.CLI.Compatible.Exception.html#fromExceptTCli"><span class="hs-identifier hs-var">fromExceptTCli</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.CLI.Type.Error.ProtocolParamsError.html#ProtocolParamsError"><span class="hs-identifier hs-type">ProtocolParamsError</span></a></span><span>
</span><span id="line-1441"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (LedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681730054"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt;
  ExceptT ProtocolParamsError IO (PParams (LedgerEra era)))
 -&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era)))
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (LedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
forall era.
IsEra era =&gt;
ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-var">readProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681730055"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1442"></span><span>    </span><span id="local-6989586621681730074"><span class="annot"><a href="#local-6989586621681730074"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-type">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730054"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#toTxOutInShelleyBasedEra"><span class="hs-identifier hs-type">toTxOutInShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730057"><span class="hs-identifier hs-type">txOut</span></a></span><span>
</span><span id="line-1443"></span><span>
</span><span id="line-1444"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681730091"><span class="annot"><a href="#local-6989586621681730091"><span class="hs-identifier hs-var hs-var">minValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PParams (LedgerEra era) -&gt; TxOut (LedgerEra era) -&gt; Lovelace
forall era.
HasCallStack =&gt;
PParams (LedgerEra era) -&gt; TxOut (LedgerEra era) -&gt; Lovelace
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Tx.Internal.Fee.html#calculateMinimumUTxO"><span class="hs-identifier hs-var">Exp.calculateMinimumUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (LedgerEra era)
</span><a href="#local-6989586621681730059"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut (LedgerEra era)
</span><a href="#local-6989586621681730074"><span class="hs-identifier hs-var">out</span></a></span><span>
</span><span id="line-1445"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.System.IO.html#print"><span class="hs-identifier hs-type">IO.print</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730091"><span class="hs-identifier hs-type">minValue</span></a></span><span>
</span><span id="line-1446"></span><span>
</span><span id="line-1447"></span><span id="local-6989586621681726836"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculatePlutusScriptCostCmd"><span class="hs-identifier hs-type">runTransactionCalculatePlutusScriptCostCmd</span></a></span><span>
</span><span id="line-1448"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculatePlutusScriptCostCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculatePlutusScriptCostCmdArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726836"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1449"></span><span id="runTransactionCalculatePlutusScriptCostCmd"><span class="annot"><span class="annottext">runTransactionCalculatePlutusScriptCostCmd :: forall era.
TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionCalculatePlutusScriptCostCmd"><span class="hs-identifier hs-var hs-var">runTransactionCalculatePlutusScriptCostCmd</span></a></span></span><span>
</span><span id="line-1450"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionCalculatePlutusScriptCostCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionCalculatePlutusScriptCostCmdArgs</span></a></span><span>
</span><span id="line-1451"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681730100"><span class="annot"><span class="annottext">NodeContextInfoSource era
nodeContextInfoSource :: NodeContextInfoSource era
nodeContextInfoSource :: forall era.
TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; NodeContextInfoSource era
</span><a href="#local-6989586621681730100"><span class="hs-identifier hs-var hs-var">nodeContextInfoSource</span></a></span></span><span>
</span><span id="line-1452"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730102"><span class="annot"><span class="annottext">FilePath
txFileIn :: FilePath
txFileIn :: forall era.
TransactionCalculatePlutusScriptCostCmdArgs era -&gt; FilePath
</span><a href="#local-6989586621681730102"><span class="hs-identifier hs-var hs-var">txFileIn</span></a></span></span><span>
</span><span id="line-1453"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730104"><span class="annot"><span class="annottext">Maybe (File () 'Out)
outputFile :: Maybe (File () 'Out)
outputFile :: forall era.
TransactionCalculatePlutusScriptCostCmdArgs era
-&gt; Maybe (File () 'Out)
</span><a href="#local-6989586621681730104"><span class="hs-identifier hs-var hs-var">outputFile</span></a></span></span><span>
</span><span id="line-1454"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1455"></span><span>    </span><span id="local-6989586621681730106"><span class="annot"><a href="#local-6989586621681730106"><span class="hs-identifier hs-var">txFileOrPipeIn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730102"><span class="hs-identifier hs-var">txFileIn</span></a></span><span>
</span><span id="line-1456"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681730142"><span class="annot"><a href="#local-6989586621681730142"><span class="hs-identifier hs-var">txEra</span></a></span></span><span> </span><span id="local-6989586621681730143"><span class="annot"><a href="#local-6989586621681730143"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTx"><span class="hs-identifier hs-type">ShelleyTx</span></a></span><span> </span><span id="local-6989586621681730144"><span class="annot"><a href="#local-6989586621681730144"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681730145"><span class="annot"><a href="#local-6989586621681730145"><span class="hs-identifier hs-var">ledgerTx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1457"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTx"><span class="hs-identifier hs-type">readFileTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730106"><span class="hs-identifier hs-type">txFileOrPipeIn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1458"></span><span>
</span><span id="line-1459"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621681730146"><span class="hs-identifier hs-type">relevantTxIns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span>
</span><span id="line-1460"></span><span>        </span><span id="local-6989586621681730146"><span class="annot"><a href="#local-6989586621681730146"><span class="hs-identifier hs-var hs-var">relevantTxIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxIn -&gt; TxIn) -&gt; Set TxIn -&gt; Set TxIn
forall b a. Ord b =&gt; (a -&gt; b) -&gt; Set a -&gt; Set b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/containers-0.7-inplace/src/Data.Set.Internal.html#map"><span class="hs-identifier hs-var">Set.map</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; TxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#fromShelleyTxIn"><span class="hs-identifier hs-var">fromShelleyTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">(Set TxIn -&gt; Set TxIn) -&gt; Set TxIn -&gt; Set TxIn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt; Set TxIn) -&gt; Set TxIn
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681730144"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681730145"><span class="hs-identifier hs-var">ledgerTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
-&gt; Getting (Set TxIn) (Tx (ShelleyLedgerEra era)) (Set TxIn)
-&gt; Set TxIn
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">(TxBody (ShelleyLedgerEra era)
 -&gt; Const (Set TxIn) (TxBody (ShelleyLedgerEra era)))
-&gt; Tx (ShelleyLedgerEra era)
-&gt; Const (Set TxIn) (Tx (ShelleyLedgerEra era))
forall era. EraTx era =&gt; Lens' (Tx era) (TxBody era)
Lens' (Tx (ShelleyLedgerEra era)) (TxBody (ShelleyLedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.html#bodyTxL"><span class="hs-identifier hs-var">bodyTxL</span></a></span><span> </span><span class="annot"><span class="annottext">((TxBody (ShelleyLedgerEra era)
  -&gt; Const (Set TxIn) (TxBody (ShelleyLedgerEra era)))
 -&gt; Tx (ShelleyLedgerEra era)
 -&gt; Const (Set TxIn) (Tx (ShelleyLedgerEra era)))
-&gt; ((Set TxIn -&gt; Const (Set TxIn) (Set TxIn))
    -&gt; TxBody (ShelleyLedgerEra era)
    -&gt; Const (Set TxIn) (TxBody (ShelleyLedgerEra era)))
-&gt; Getting (Set TxIn) (Tx (ShelleyLedgerEra era)) (Set TxIn)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Set TxIn -&gt; Const (Set TxIn) (Set TxIn))
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; Const (Set TxIn) (TxBody (ShelleyLedgerEra era))
forall era. EraTxBody era =&gt; SimpleGetter (TxBody era) (Set TxIn)
SimpleGetter (TxBody (ShelleyLedgerEra era)) (Set TxIn)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Core.html#allInputsTxBodyF"><span class="hs-identifier hs-var">allInputsTxBodyF</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1461"></span><span>
</span><span id="line-1462"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span id="local-6989586621681730166"><span class="annot"><a href="#local-6989586621681730166"><span class="hs-identifier hs-var">nodeEra</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730167"><span class="annot"><a href="#local-6989586621681730167"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730168"><span class="annot"><a href="#local-6989586621681730168"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730169"><span class="annot"><a href="#local-6989586621681730169"><span class="hs-identifier hs-var">txEraUtxo</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730170"><span class="annot"><a href="#local-6989586621681730170"><span class="hs-identifier hs-var">pparams</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1463"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681730100"><span class="hs-identifier hs-type">nodeContextInfoSource</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1464"></span><span>        </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#NodeConnectionInfo"><span class="hs-identifier hs-type">NodeConnectionInfo</span></a></span><span> </span><span id="local-6989586621681730172"><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681730172"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1465"></span><span>          </span><span class="annot"><span class="annottext">IO
  (Either
     AcquiringFailure
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era)))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
            LedgerProtocolParameters era)))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT TxCmdError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span>
</span><span id="line-1466"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
-&gt; IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
            LedgerProtocolParameters era)))
forall a.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; LocalStateQueryExpr BlockInMode ChainPoint QueryInMode () IO a
-&gt; IO (Either AcquiringFailure a)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#executeLocalStateQueryExpr"><span class="hs-identifier hs-var">executeLocalStateQueryExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621681730172"><span class="hs-identifier hs-var">nodeConnInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Target ChainPoint
forall point. Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-network-protocols-0.15.2.0-52b14221062ec550f031c2adf46330b1522019890a2b16413d3b31a4f7cbb829/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#VolatileTip"><span class="hs-identifier hs-var">Consensus.VolatileTip</span></a></span><span> </span><span class="annot"><span class="annottext">(LocalStateQueryExpr
   BlockInMode
   ChainPoint
   QueryInMode
   ()
   IO
   (Either
      QueryConvenienceError
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
 -&gt; IO
      (Either
         AcquiringFailure
         (Either
            QueryConvenienceError
            (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
             LedgerProtocolParameters era))))
-&gt; LocalStateQueryExpr
     BlockInMode
     ChainPoint
     QueryInMode
     ()
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
-&gt; IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
            LedgerProtocolParameters era)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1467"></span><span>                </span><span id="local-6989586621681730173"><span class="annot"><a href="#local-6989586621681730173"><span class="hs-identifier hs-var">eCurrentEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalStateQueryExpr
  BlockInMode
  ChainPoint
  QueryInMode
  ()
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
forall block point r.
LocalStateQueryExpr
  block
  point
  QueryInMode
  r
  IO
  (Either UnsupportedNtcVersionError AnyCardanoEra)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryCurrentEra"><span class="hs-identifier hs-var">queryCurrentEra</span></a></span><span>
</span><span id="line-1468"></span><span>                </span><span id="local-6989586621681730174"><span class="annot"><a href="#local-6989586621681730174"><span class="hs-identifier hs-var">eSystemStart</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#querySystemStart"><span class="hs-identifier hs-type">querySystemStart</span></a></span><span>
</span><span id="line-1469"></span><span>                </span><span id="local-6989586621681730176"><span class="annot"><a href="#local-6989586621681730176"><span class="hs-identifier hs-var">eEraHistory</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryEraHistory"><span class="hs-identifier hs-type">queryEraHistory</span></a></span><span>
</span><span id="line-1470"></span><span>                </span><span id="local-6989586621681730178"><span class="annot"><a href="#local-6989586621681730178"><span class="hs-identifier hs-var">eeUtxo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Expr.html#queryUtxo"><span class="hs-identifier hs-type">queryUtxo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730142"><span class="hs-identifier hs-type">txEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryUTxOByTxIn"><span class="hs-identifier hs-type">QueryUTxOByTxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730146"><span class="hs-identifier hs-type">relevantTxIns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1471"></span><span>                </span><span id="local-6989586621681730181"><span class="annot"><a href="#local-6989586621681730181"><span class="hs-identifier hs-var">ePp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Network.IPC.Internal.Monad.html#queryExpr"><span class="hs-identifier hs-type">queryExpr</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryInEra"><span class="hs-identifier hs-type">QueryInEra</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryInShelleyBasedEra"><span class="hs-identifier hs-type">QueryInShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730144"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryProtocolParameters"><span class="hs-identifier hs-type">Api.QueryProtocolParameters</span></a></span><span>
</span><span id="line-1472"></span><span>                </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1473"></span><span>                  </span><span id="local-6989586621681730186"><span class="annot"><a href="#local-6989586621681730186"><span class="hs-identifier hs-var">currentEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-type">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730173"><span class="hs-identifier hs-type">eCurrentEra</span></a></span><span>
</span><span id="line-1474"></span><span>                  </span><span id="local-6989586621681730187"><span class="annot"><a href="#local-6989586621681730187"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-type">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730174"><span class="hs-identifier hs-type">eSystemStart</span></a></span><span>
</span><span id="line-1475"></span><span>                  </span><span id="local-6989586621681730188"><span class="annot"><a href="#local-6989586621681730188"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-type">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730176"><span class="hs-identifier hs-type">eEraHistory</span></a></span><span>
</span><span id="line-1476"></span><span>                  </span><span id="local-6989586621681730189"><span class="annot"><a href="#local-6989586621681730189"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QueryEraMismatch"><span class="hs-identifier hs-type">QueryEraMismatch</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%3D%3C%3C"><span class="hs-operator hs-type">=&lt;&lt;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-type">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730178"><span class="hs-identifier hs-type">eeUtxo</span></a></span><span>
</span><span id="line-1477"></span><span>                  </span><span id="local-6989586621681730192"><span class="annot"><a href="#local-6989586621681730192"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QueryEraMismatch"><span class="hs-identifier hs-type">QueryEraMismatch</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%3D%3C%3C"><span class="hs-operator hs-type">=&lt;&lt;</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#QceUnsupportedNtcVersion"><span class="hs-identifier hs-type">QceUnsupportedNtcVersion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730181"><span class="hs-identifier hs-type">ePp</span></a></span><span>
</span><span id="line-1478"></span><span>                  </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681730186"><span class="hs-identifier hs-type">currentEra</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681730187"><span class="hs-identifier hs-type">systemStart</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681730188"><span class="hs-identifier hs-type">eraHistory</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681730189"><span class="hs-identifier hs-type">utxo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730192"><span class="hs-identifier hs-type">pp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1479"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1480"></span><span>            </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either
     AcquiringFailure
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era)))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either
         AcquiringFailure
         (Either
            QueryConvenienceError
            (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
             LedgerProtocolParameters era)))
    -&gt; ExceptT
         TxCmdError
         IO
         (Either
            QueryConvenienceError
            (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
             LedgerProtocolParameters era)))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(AcquiringFailure
 -&gt; ExceptT
      TxCmdError
      IO
      (Either
         QueryConvenienceError
         (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
          LedgerProtocolParameters era)))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        AcquiringFailure
        (Either
           QueryConvenienceError
           (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
            LedgerProtocolParameters era)))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError
 -&gt; ExceptT
      TxCmdError
      IO
      (Either
         QueryConvenienceError
         (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
          LedgerProtocolParameters era)))
-&gt; (AcquiringFailure -&gt; TxCmdError)
-&gt; AcquiringFailure
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError -&gt; TxCmdError)
-&gt; (AcquiringFailure -&gt; QueryConvenienceError)
-&gt; AcquiringFailure
-&gt; TxCmdError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure -&gt; QueryConvenienceError
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Convenience.html#AcqFailure"><span class="hs-identifier hs-var">AcqFailure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1481"></span><span>            </span><span class="annot"><span class="annottext">ExceptT
  TxCmdError
  IO
  (Either
     QueryConvenienceError
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era))
-&gt; (ExceptT
      TxCmdError
      IO
      (Either
         QueryConvenienceError
         (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
          LedgerProtocolParameters era))
    -&gt; ExceptT
         TxCmdError
         IO
         (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
          LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryConvenienceError
 -&gt; ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (Either
        QueryConvenienceError
        (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
         LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall e x (m :: * -&gt; *) a.
Monad m =&gt;
(e -&gt; ExceptT x m a) -&gt; ExceptT x m (Either e a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError
 -&gt; ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; (QueryConvenienceError -&gt; TxCmdError)
-&gt; QueryConvenienceError
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QueryConvenienceError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdQueryConvenienceError"><span class="hs-identifier hs-var">TxCmdQueryConvenienceError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1482"></span><span>        </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#ProvidedTransactionContextInfo"><span class="hs-identifier hs-type">ProvidedTransactionContextInfo</span></a></span><span>
</span><span id="line-1483"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionContext"><span class="hs-identifier hs-type">TransactionContext</span></a></span><span>
</span><span id="line-1484"></span><span>              </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681730195"><span class="annot"><span class="annottext">SystemStartOrGenesisFileSource
systemStartSource :: SystemStartOrGenesisFileSource
systemStartSource :: forall era.
TransactionContext era -&gt; SystemStartOrGenesisFileSource
</span><a href="#local-6989586621681730195"><span class="hs-identifier hs-var hs-var">systemStartSource</span></a></span></span><span>
</span><span id="line-1485"></span><span>              </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730197"><span class="annot"><span class="annottext">MustExtendSafeZone
mustExtendSafeZone :: MustExtendSafeZone
mustExtendSafeZone :: forall era. TransactionContext era -&gt; MustExtendSafeZone
</span><a href="#local-6989586621681730197"><span class="hs-identifier hs-var hs-var">mustExtendSafeZone</span></a></span></span><span>
</span><span id="line-1486"></span><span>              </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730199"><span class="annot"><span class="annottext">File EraHistory 'In
eraHistoryFile :: File EraHistory 'In
eraHistoryFile :: forall era. TransactionContext era -&gt; File EraHistory 'In
</span><a href="#local-6989586621681730199"><span class="hs-identifier hs-var hs-var">eraHistoryFile</span></a></span></span><span>
</span><span id="line-1487"></span><span>              </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730201"><span class="annot"><span class="annottext">File (Some UTxO) 'In
utxoFile :: File (Some UTxO) 'In
utxoFile :: forall era. TransactionContext era -&gt; File (Some UTxO) 'In
</span><a href="#local-6989586621681730201"><span class="hs-identifier hs-var hs-var">utxoFile</span></a></span></span><span>
</span><span id="line-1488"></span><span>              </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730203"><span class="annot"><span class="annottext">ProtocolParamsFile
protocolParamsFile :: ProtocolParamsFile
protocolParamsFile :: forall era. TransactionContext era -&gt; ProtocolParamsFile
</span><a href="#local-6989586621681730203"><span class="hs-identifier hs-var hs-var">protocolParamsFile</span></a></span></span><span>
</span><span id="line-1489"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-1490"></span><span>            </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1491"></span><span>            </span><span id="local-6989586621681730205"><span class="annot"><a href="#local-6989586621681730205"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either TxCmdError (Era era) -&gt; ExceptT TxCmdError IO (Era era)
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">hoistEither</span></span><span> </span><span class="annot"><span class="annottext">(Either TxCmdError (Era era) -&gt; ExceptT TxCmdError IO (Era era))
-&gt; Either TxCmdError (Era era) -&gt; ExceptT TxCmdError IO (Era era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(DeprecatedEra era -&gt; TxCmdError)
-&gt; Either (DeprecatedEra era) (Era era)
-&gt; Either TxCmdError (Era era)
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">DeprecatedEra era -&gt; TxCmdError
forall era. DeprecatedEra era -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdDeprecatedEra"><span class="hs-identifier hs-var">TxCmdDeprecatedEra</span></a></span><span> </span><span class="annot"><span class="annottext">(Either (DeprecatedEra era) (Era era)
 -&gt; Either TxCmdError (Era era))
-&gt; Either (DeprecatedEra era) (Era era)
-&gt; Either TxCmdError (Era era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Either (DeprecatedEra era) (Era era)
forall era (m :: * -&gt; *).
MonadError (DeprecatedEra era) m =&gt;
ShelleyBasedEra era -&gt; m (Era era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#sbeToEra"><span class="hs-identifier hs-var">Exp.sbeToEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681730144"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-1492"></span><span>            </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#buildTransactionContext"><span class="hs-identifier hs-type">buildTransactionContext</span></a></span><span>
</span><span id="line-1493"></span><span>              </span><span class="annot"><a href="#local-6989586621681730205"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1494"></span><span>              </span><span class="annot"><a href="#local-6989586621681730195"><span class="hs-identifier hs-type">systemStartSource</span></a></span><span>
</span><span id="line-1495"></span><span>              </span><span class="annot"><a href="#local-6989586621681730197"><span class="hs-identifier hs-type">mustExtendSafeZone</span></a></span><span>
</span><span id="line-1496"></span><span>              </span><span class="annot"><a href="#local-6989586621681730199"><span class="hs-identifier hs-type">eraHistoryFile</span></a></span><span>
</span><span id="line-1497"></span><span>              </span><span class="annot"><a href="#local-6989586621681730201"><span class="hs-identifier hs-type">utxoFile</span></a></span><span>
</span><span id="line-1498"></span><span>              </span><span class="annot"><a href="#local-6989586621681730203"><span class="hs-identifier hs-type">protocolParamsFile</span></a></span><span>
</span><span id="line-1499"></span><span>
</span><span id="line-1500"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#Refl"><span class="hs-identifier hs-type">Refl</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1501"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#testEquality"><span class="hs-identifier hs-type">testEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730166"><span class="hs-identifier hs-type">nodeEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-type">convert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730142"><span class="hs-identifier hs-type">txEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1502"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">hoistMaybe</span></span><span>
</span><span id="line-1503"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTxSubmitErrorEraMismatch"><span class="hs-identifier hs-type">TxCmdTxSubmitErrorEraMismatch</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1504"></span><span>              </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-consensus-0.30.0.1-885419ec23ef72db59789e28d68eae2af4f190cb157465e68cf6b196a2c4c20d/share/doc/html/src/Ouroboros.Consensus.HardFork.Combinator.AcrossEras.html#EraMismatch"><span class="hs-identifier hs-type">EraMismatch</span></a></span><span class="hs-special">{</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-consensus-0.30.0.1-885419ec23ef72db59789e28d68eae2af4f190cb157465e68cf6b196a2c4c20d/share/doc/html/src/Ouroboros.Consensus.HardFork.Combinator.AcrossEras.html#ledgerEraName"><span class="hs-identifier hs-var">ledgerEraName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Pretty.html#docToText"><span class="hs-identifier hs-type">docToText</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">pretty</span></span><span> </span><span class="annot"><a href="#local-6989586621681730166"><span class="hs-identifier hs-type">nodeEra</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-consensus-0.30.0.1-885419ec23ef72db59789e28d68eae2af4f190cb157465e68cf6b196a2c4c20d/share/doc/html/src/Ouroboros.Consensus.HardFork.Combinator.AcrossEras.html#otherEraName"><span class="hs-identifier hs-var">otherEraName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Pretty.html#docToText"><span class="hs-identifier hs-type">docToText</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">pretty</span></span><span> </span><span class="annot"><a href="#local-6989586621681730142"><span class="hs-identifier hs-type">txEra</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1505"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1506"></span><span>
</span><span id="line-1507"></span><span>    </span><span id="local-6989586621681730217"><span class="annot"><a href="#local-6989586621681730217"><span class="hs-identifier hs-var">aeo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#forEraMaybeEon"><span class="hs-identifier hs-type">forEraMaybeEon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730166"><span class="hs-identifier hs-type">nodeEra</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">hoistMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdAlonzoEraOnwardsRequired"><span class="hs-identifier hs-type">TxCmdAlonzoEraOnwardsRequired</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730166"><span class="hs-identifier hs-type">nodeEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1508"></span><span>    </span><span class="annot"><a href="#local-6989586621681730220"><span class="hs-identifier hs-type">calculatePlutusScriptsCosts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730217"><span class="hs-identifier hs-type">aeo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730167"><span class="hs-identifier hs-type">systemStart</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730168"><span class="hs-identifier hs-type">eraHistory</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730170"><span class="hs-identifier hs-type">pparams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730169"><span class="hs-identifier hs-type">txEraUtxo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730143"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-1509"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1510"></span><span>    </span><span id="local-6989586621681727702"><span class="annot"><a href="#local-6989586621681730220"><span class="hs-identifier hs-type">calculatePlutusScriptsCosts</span></a></span><span>
</span><span id="line-1511"></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727702"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1512"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-slotting-0.2.0.1-12f785d361b267f840430cd9d7ca68dd8dba1d8b9d7aee7cacb3a1ef6f23575f/share/doc/html/src/Cardano.Slotting.Time.html#SystemStart"><span class="hs-identifier hs-type">SystemStart</span></a></span><span>
</span><span id="line-1513"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-type">EraHistory</span></a></span><span>
</span><span id="line-1514"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727702"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1515"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.UTxO.html#UTxO"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727702"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1516"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727702"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1517"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1518"></span><span>    </span><span id="local-6989586621681730220"><span class="annot"><span class="annottext">calculatePlutusScriptsCosts :: forall era.
AlonzoEraOnwards era
-&gt; SystemStart
-&gt; EraHistory
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; Tx era
-&gt; ExceptT TxCmdError IO ()
</span><a href="#local-6989586621681730220"><span class="hs-identifier hs-var hs-var">calculatePlutusScriptsCosts</span></a></span></span><span> </span><span id="local-6989586621681730234"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681730234"><span class="hs-identifier hs-var">aeo</span></a></span></span><span> </span><span id="local-6989586621681730235"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681730235"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span> </span><span id="local-6989586621681730236"><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681730236"><span class="hs-identifier hs-var">eraHistory</span></a></span></span><span> </span><span id="local-6989586621681730237"><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681730237"><span class="hs-identifier hs-var">pparams</span></a></span></span><span> </span><span id="local-6989586621681730238"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681730238"><span class="hs-identifier hs-var">txEraUtxo</span></a></span></span><span> </span><span id="local-6989586621681730239"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681730239"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1519"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681730240"><span class="annot"><span class="annottext">era' :: CardanoEra era
</span><a href="#local-6989586621681730240"><span class="hs-identifier hs-var hs-var hs-var">era'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era -&gt; CardanoEra era
forall era. AlonzoEraOnwards era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681730234"><span class="hs-identifier hs-var">aeo</span></a></span><span>
</span><span id="line-1520"></span><span>
</span><span id="line-1521"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681730241"><span class="annot"><span class="annottext">scriptHashes :: Map ScriptWitnessIndex ScriptHash
</span><a href="#local-6989586621681730241"><span class="hs-identifier hs-var hs-var hs-var">scriptHashes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; Tx era -&gt; UTxO era -&gt; Map ScriptWitnessIndex ScriptHash
forall era.
AlonzoEraOnwards era
-&gt; Tx era -&gt; UTxO era -&gt; Map ScriptWitnessIndex ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Plutus.Internal.html#collectPlutusScriptHashes"><span class="hs-identifier hs-var">collectPlutusScriptHashes</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681730234"><span class="hs-identifier hs-var">aeo</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681730239"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681730238"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-1522"></span><span>
</span><span id="line-1523"></span><span>      </span><span id="local-6989586621681730243"><span class="annot"><a href="#local-6989586621681730243"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1524"></span><span>        </span><span class="annot"><span class="annottext">Maybe Prices -&gt; ExceptT TxCmdError IO (Maybe Prices)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; LedgerProtocolParameters era -&gt; Maybe Prices
forall era.
CardanoEra era -&gt; LedgerProtocolParameters era -&gt; Maybe Prices
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getExecutionUnitPrices"><span class="hs-identifier hs-var">getExecutionUnitPrices</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681730240"><span class="hs-identifier hs-var">era'</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681730237"><span class="hs-identifier hs-var">pparams</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO (Maybe Prices)
-&gt; (ExceptT TxCmdError IO (Maybe Prices)
    -&gt; ExceptT TxCmdError IO Prices)
-&gt; ExceptT TxCmdError IO Prices
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT TxCmdError IO Prices
-&gt; ExceptT TxCmdError IO (Maybe Prices)
-&gt; ExceptT TxCmdError IO Prices
forall x (m :: * -&gt; *) a.
Monad m =&gt;
ExceptT x m a -&gt; ExceptT x m (Maybe a) -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">onNothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO Prices
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdPParamExecutionUnitsNotAvailable"><span class="hs-identifier hs-var">TxCmdPParamExecutionUnitsNotAvailable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1525"></span><span>
</span><span id="line-1526"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681730247"><span class="annot"><a href="#local-6989586621681730247"><span class="hs-identifier hs-var hs-var">scriptExecUnitsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1527"></span><span>            </span><span class="annot"><span class="annottext">CardanoEra era
-&gt; SystemStart
-&gt; LedgerEpochInfo
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; TxBody era
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
forall era.
CardanoEra era
-&gt; SystemStart
-&gt; LedgerEpochInfo
-&gt; LedgerProtocolParameters era
-&gt; UTxO era
-&gt; TxBody era
-&gt; Map
     ScriptWitnessIndex
     (Either
        ScriptExecutionError (EvalTxExecutionUnitsLog, ExecutionUnits))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#evaluateTransactionExecutionUnits"><span class="hs-identifier hs-var">evaluateTransactionExecutionUnits</span></a></span><span>
</span><span id="line-1528"></span><span>              </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681730240"><span class="hs-identifier hs-var">era'</span></a></span><span>
</span><span id="line-1529"></span><span>              </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681730235"><span class="hs-identifier hs-var">systemStart</span></a></span><span>
</span><span id="line-1530"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EraHistory -&gt; LedgerEpochInfo
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerEpochInfo"><span class="hs-identifier hs-var">toLedgerEpochInfo</span></a></span><span> </span><span class="annot"><span class="annottext">EraHistory
</span><a href="#local-6989586621681730236"><span class="hs-identifier hs-var">eraHistory</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1531"></span><span>              </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621681730237"><span class="hs-identifier hs-var">pparams</span></a></span><span>
</span><span id="line-1532"></span><span>              </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681730238"><span class="hs-identifier hs-var">txEraUtxo</span></a></span><span>
</span><span id="line-1533"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx era -&gt; TxBody era
forall era. Tx era -&gt; TxBody era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#getTxBody"><span class="hs-identifier hs-var">getTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681730239"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1534"></span><span>
</span><span id="line-1535"></span><span>      </span><span id="local-6989586621681730249"><span class="annot"><a href="#local-6989586621681730249"><span class="hs-identifier hs-var">scriptCostOutput</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1536"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdPlutusScriptCostErr"><span class="hs-identifier hs-type">TxCmdPlutusScriptCostErr</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1537"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">hoistEither</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1538"></span><span>            </span><span class="annot"><a href="Cardano.CLI.Type.Output.html#renderScriptCostsWithScriptHashesMap"><span class="hs-identifier hs-type">renderScriptCostsWithScriptHashesMap</span></a></span><span>
</span><span id="line-1539"></span><span>              </span><span class="annot"><a href="#local-6989586621681730243"><span class="hs-identifier hs-type">executionUnitPrices</span></a></span><span>
</span><span id="line-1540"></span><span>              </span><span class="annot"><a href="#local-6989586621681730241"><span class="hs-identifier hs-type">scriptHashes</span></a></span><span>
</span><span id="line-1541"></span><span>              </span><span class="annot"><a href="#local-6989586621681730247"><span class="hs-identifier hs-type">scriptExecUnitsMap</span></a></span><span>
</span><span id="line-1542"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span>
</span><span id="line-1543"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681730104"><span class="hs-identifier hs-type">outputFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1544"></span><span>              </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681730251"><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681730251"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ByteString -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier hs-var">LBS.writeFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">File () 'Out -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span> </span><span class="annot"><span class="annottext">File () 'Out
</span><a href="#local-6989586621681730251"><span class="hs-identifier hs-var">file</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1545"></span><span>              </span><span class="annot"><span class="annottext">Maybe (File () 'Out)
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
forall (m :: * -&gt; *). MonadIO m =&gt; ByteString -&gt; m ()
</span><span class="hs-identifier hs-var">putLByteString</span></span><span>
</span><span id="line-1546"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1547"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">encodePretty</span></span><span> </span><span class="annot"><a href="#local-6989586621681730249"><span class="hs-identifier hs-type">scriptCostOutput</span></a></span><span>
</span><span id="line-1548"></span><span>
</span><span id="line-1549"></span><span id="local-6989586621681727698"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#buildTransactionContext"><span class="hs-identifier hs-type">buildTransactionContext</span></a></span><span>
</span><span id="line-1550"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Exp.Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727698"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-1551"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#SystemStartOrGenesisFileSource"><span class="hs-identifier hs-type">SystemStartOrGenesisFileSource</span></a></span><span>
</span><span id="line-1552"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#MustExtendSafeZone"><span class="hs-identifier hs-type">MustExtendSafeZone</span></a></span><span>
</span><span id="line-1553"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-type">EraHistory</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span>
</span><span id="line-1554"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-data-1.2.4.1-fcbeb01ddeba0e6b36b7c8cbe60f15087992a6f6796d19597dee341593fd4e38/share/doc/html/src/Data.Universe.html#Some"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.UTxO.html#UTxO"><span class="hs-identifier hs-type">UTxO</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span>
</span><span id="line-1555"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#ProtocolParamsFile"><span class="hs-identifier hs-type">ProtocolParamsFile</span></a></span><span>
</span><span id="line-1556"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span>
</span><span id="line-1557"></span><span>       </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span>
</span><span id="line-1558"></span><span>       </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span>
</span><span id="line-1559"></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-slotting-0.2.0.1-12f785d361b267f840430cd9d7ca68dd8dba1d8b9d7aee7cacb3a1ef6f23575f/share/doc/html/src/Cardano.Slotting.Time.html#SystemStart"><span class="hs-identifier hs-type">SystemStart</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-type">EraHistory</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.UTxO.html#UTxO"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727698"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727698"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1560"></span><span id="buildTransactionContext"><span class="annot"><span class="annottext">buildTransactionContext :: forall era.
Era era
-&gt; SystemStartOrGenesisFileSource
-&gt; MustExtendSafeZone
-&gt; File EraHistory 'In
-&gt; File (Some UTxO) 'In
-&gt; ProtocolParamsFile
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#buildTransactionContext"><span class="hs-identifier hs-var hs-var">buildTransactionContext</span></a></span></span><span> </span><span id="local-6989586621681730253"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681730253"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681730254"><span class="annot"><span class="annottext">SystemStartOrGenesisFileSource
</span><a href="#local-6989586621681730254"><span class="hs-identifier hs-var">systemStartOrGenesisFileSource</span></a></span></span><span> </span><span id="local-6989586621681730255"><span class="annot"><span class="annottext">MustExtendSafeZone
</span><a href="#local-6989586621681730255"><span class="hs-identifier hs-var">mustUnsafeExtendSafeZone</span></a></span></span><span> </span><span id="local-6989586621681730256"><span class="annot"><span class="annottext">File EraHistory 'In
</span><a href="#local-6989586621681730256"><span class="hs-identifier hs-var">eraHistoryFile</span></a></span></span><span> </span><span id="local-6989586621681730257"><span class="annot"><span class="annottext">File (Some UTxO) 'In
</span><a href="#local-6989586621681730257"><span class="hs-identifier hs-var">utxoFile</span></a></span></span><span> </span><span id="local-6989586621681730258"><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681730258"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1561"></span><span>  </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681730253"><span class="hs-identifier hs-var">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt;
  ExceptT
    TxCmdError
    IO
    (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
     LedgerProtocolParameters era))
 -&gt; ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ExceptT
      TxCmdError
      IO
      (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
       LedgerProtocolParameters era))
-&gt; ExceptT
     TxCmdError
     IO
     (AnyCardanoEra, SystemStart, EraHistory, UTxO era,
      LedgerProtocolParameters era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1562"></span><span>    </span><span id="local-6989586621681730280"><span class="annot"><a href="#local-6989586621681730280"><span class="hs-identifier hs-var">ledgerPParams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1563"></span><span>      </span><span class="annot"><span class="annottext">(ProtocolParamsError -&gt; TxCmdError)
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
-&gt; ExceptT TxCmdError IO (PParams (ShelleyLedgerEra era))
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdProtocolParamsError"><span class="hs-identifier hs-var">TxCmdProtocolParamsError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
 -&gt; ExceptT TxCmdError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
-&gt; ExceptT TxCmdError IO (PParams (ShelleyLedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1564"></span><span>        </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681730253"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt;
  ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
 -&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; (EraCommonConstraints era =&gt;
    ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT ProtocolParamsError IO (PParams (ShelleyLedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1565"></span><span>          </span><span class="annot"><span class="annottext">ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
forall era.
IsEra era =&gt;
ProtocolParamsFile
-&gt; ExceptT ProtocolParamsError IO (PParams (LedgerEra era))
</span><a href="Cardano.CLI.EraBased.Genesis.Internal.Common.html#readProtocolParameters"><span class="hs-identifier hs-var">readProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParamsFile
</span><a href="#local-6989586621681730258"><span class="hs-identifier hs-var">protocolParamsFile</span></a></span><span>
</span><span id="line-1566"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-type">EraHistory</span></a></span><span> </span><span id="local-6989586621681730325"><span class="annot"><a href="#local-6989586621681730325"><span class="hs-identifier hs-var">interpreter</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1567"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1568"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1569"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Serialise.TextEnvelope.Internal.html#readFileTextEnvelope"><span class="hs-identifier hs-type">readFileTextEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730256"><span class="hs-identifier hs-type">eraHistoryFile</span></a></span><span>
</span><span id="line-1570"></span><span>    </span><span id="local-6989586621681730326"><span class="annot"><a href="#local-6989586621681730326"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681730254"><span class="hs-identifier hs-type">systemStartOrGenesisFileSource</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1571"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#SystemStartLiteral"><span class="hs-identifier hs-type">SystemStartLiteral</span></a></span><span> </span><span id="local-6989586621681730328"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681730328"><span class="hs-identifier hs-var">systemStart</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SystemStart -&gt; ExceptT TxCmdError IO SystemStart
forall a. a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621681730328"><span class="hs-identifier hs-var">systemStart</span></a></span><span>
</span><span id="line-1572"></span><span>      </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#SystemStartFromGenesisFile"><span class="hs-identifier hs-type">SystemStartFromGenesisFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#GenesisFile"><span class="hs-identifier hs-type">GenesisFile</span></a></span><span> </span><span id="local-6989586621681730331"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730331"><span class="hs-identifier hs-var">byronGenesisFile</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1573"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681730332"><span class="annot"><a href="#local-6989586621681730332"><span class="hs-identifier hs-var">byronGenesisData</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenesisDataError -&gt; TxCmdError)
-&gt; ExceptT GenesisDataError IO (GenesisData, GenesisHash)
-&gt; ExceptT TxCmdError IO (GenesisData, GenesisHash)
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">GenesisDataError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdGenesisDataError"><span class="hs-identifier hs-var">TxCmdGenesisDataError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT GenesisDataError IO (GenesisData, GenesisHash)
 -&gt; ExceptT TxCmdError IO (GenesisData, GenesisHash))
-&gt; ExceptT GenesisDataError IO (GenesisData, GenesisHash)
-&gt; ExceptT TxCmdError IO (GenesisData, GenesisHash)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ExceptT GenesisDataError IO (GenesisData, GenesisHash)
forall (m :: * -&gt; *).
(MonadError GenesisDataError m, MonadIO m) =&gt;
FilePath -&gt; m (GenesisData, GenesisHash)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-byron-1.2.0.0-584313d54dba56b7b6c8bfd4bf097b74f3b18bccf227d8008c637dfb31b13369/share/doc/html/src/Cardano.Chain.Genesis.Data.html#readGenesisData"><span class="hs-identifier hs-var">Byron.readGenesisData</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730331"><span class="hs-identifier hs-var">byronGenesisFile</span></a></span><span>
</span><span id="line-1574"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681730335"><span class="annot"><a href="#local-6989586621681730335"><span class="hs-identifier hs-var hs-var">systemStartUTCTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenesisData -&gt; UTCTime
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-byron-1.2.0.0-584313d54dba56b7b6c8bfd4bf097b74f3b18bccf227d8008c637dfb31b13369/share/doc/html/src/Cardano.Chain.Genesis.Data.html#gdStartTime"><span class="hs-identifier hs-var">Byron.gdStartTime</span></a></span><span> </span><span class="annot"><span class="annottext">GenesisData
</span><a href="#local-6989586621681730332"><span class="hs-identifier hs-var">byronGenesisData</span></a></span><span>
</span><span id="line-1575"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-slotting-0.2.0.1-12f785d361b267f840430cd9d7ca68dd8dba1d8b9d7aee7cacb3a1ef6f23575f/share/doc/html/src/Cardano.Slotting.Time.html#SystemStart"><span class="hs-identifier hs-type">SystemStart</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730335"><span class="hs-identifier hs-type">systemStartUTCTime</span></a></span><span>
</span><span id="line-1576"></span><span>    </span><span id="local-6989586621681730338"><span class="annot"><a href="#local-6989586621681730338"><span class="hs-identifier hs-var">utxosBytes</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-type">modifyError</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdUtxoFileError"><span class="hs-identifier hs-type">TxCmdUtxoFileError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.html#readByteStringFile"><span class="hs-identifier hs-type">readByteStringFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730257"><span class="hs-identifier hs-type">utxoFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1577"></span><span>    </span><span id="local-6989586621681730342"><span class="annot"><a href="#local-6989586621681730342"><span class="hs-identifier hs-var">utxos</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/mtl-2.3.1-inplace/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-type">liftEither</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/base-4.21.0.0-inplace/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-type">first</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdUtxoJsonError"><span class="hs-identifier hs-type">TxCmdUtxoJsonError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Aeson.eitherDecodeStrict'</span></span><span> </span><span class="annot"><a href="#local-6989586621681730338"><span class="hs-identifier hs-type">utxosBytes</span></a></span><span>
</span><span id="line-1578"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681730345"><span class="annot"><a href="#local-6989586621681730345"><span class="hs-identifier hs-var hs-var">eraHistory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interpreter xs -&gt; EraHistory
forall (xs :: [*]).
(CardanoBlock StandardCrypto ~ HardForkBlock xs) =&gt;
Interpreter xs -&gt; EraHistory
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#EraHistory"><span class="hs-identifier hs-var">EraHistory</span></a></span><span> </span><span class="annot"><span class="annottext">(Interpreter xs -&gt; EraHistory) -&gt; Interpreter xs -&gt; EraHistory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MustExtendSafeZone
</span><a href="#local-6989586621681730255"><span class="hs-identifier hs-var">mustUnsafeExtendSafeZone</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1579"></span><span>          </span><span class="annot"><span class="annottext">MustExtendSafeZone
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#MustExtendSafeZone"><span class="hs-identifier hs-var">MustExtendSafeZone</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interpreter xs -&gt; Interpreter xs
forall (xs :: [*]). Interpreter xs -&gt; Interpreter xs
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/ouroboros-consensus-0.30.0.1-885419ec23ef72db59789e28d68eae2af4f190cb157465e68cf6b196a2c4c20d/share/doc/html/src/Ouroboros.Consensus.HardFork.History.Qry.html#unsafeExtendSafeZone"><span class="hs-identifier hs-var">unsafeExtendSafeZone</span></a></span><span> </span><span class="annot"><span class="annottext">Interpreter xs
</span><a href="#local-6989586621681730325"><span class="hs-identifier hs-var">interpreter</span></a></span><span>
</span><span id="line-1580"></span><span>          </span><span class="annot"><span class="annottext">MustExtendSafeZone
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#DoNotExtendSafeZone"><span class="hs-identifier hs-var">DoNotExtendSafeZone</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Interpreter xs
</span><a href="#local-6989586621681730325"><span class="hs-identifier hs-var">interpreter</span></a></span><span>
</span><span id="line-1581"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span>
</span><span id="line-1582"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-type">convert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730253"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1583"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681730326"><span class="hs-identifier hs-type">systemStart</span></a></span><span>
</span><span id="line-1584"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681730345"><span class="hs-identifier hs-type">eraHistory</span></a></span><span>
</span><span id="line-1585"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681730342"><span class="hs-identifier hs-type">utxos</span></a></span><span>
</span><span id="line-1586"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730280"><span class="hs-identifier hs-type">ledgerPParams</span></a></span><span>
</span><span id="line-1587"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-1588"></span><span>
</span><span id="line-1589"></span><span id="local-6989586621681726840"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionPolicyIdCmd"><span class="hs-identifier hs-type">runTransactionPolicyIdCmd</span></a></span><span>
</span><span id="line-1590"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionPolicyIdCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionPolicyIdCmdArgs</span></a></span><span>
</span><span id="line-1591"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.Compatible.Exception.html#CIO"><span class="hs-identifier hs-type">CIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681726840"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1592"></span><span id="runTransactionPolicyIdCmd"><span class="annot"><span class="annottext">runTransactionPolicyIdCmd :: forall e. TransactionPolicyIdCmdArgs -&gt; CIO e ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionPolicyIdCmd"><span class="hs-identifier hs-var hs-var">runTransactionPolicyIdCmd</span></a></span></span><span>
</span><span id="line-1593"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionPolicyIdCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionPolicyIdCmdArgs</span></a></span><span>
</span><span id="line-1594"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">scriptFile :: TransactionPolicyIdCmdArgs -&gt; ScriptFile
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#scriptFile"><span class="hs-identifier hs-var">scriptFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681730360"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730360"><span class="hs-identifier hs-var">sFile</span></a></span></span><span>
</span><span id="line-1595"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1596"></span><span>    </span><span id="local-6989586621681730361"><span class="annot"><a href="#local-6989586621681730361"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1597"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) era.
(MonadIO m, IsEra era) =&gt;
FilePath -&gt; m (AnyScript (LedgerEra era))
</span><a href="Cardano.CLI.Read.html#readAnyScript"><span class="hs-identifier hs-var">readAnyScript</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730360"><span class="hs-identifier hs-var">sFile</span></a></span><span>
</span><span id="line-1598"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681730363"><span class="annot"><a href="#local-6989586621681730363"><span class="hs-identifier hs-var hs-var">hash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#fromShelleyScriptHash"><span class="hs-identifier hs-var">fromShelleyScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; ScriptHash) -&gt; ScriptHash -&gt; ScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AnyScript (LedgerEra ConwayEra) -&gt; ScriptHash
forall era. IsEra era =&gt; AnyScript (LedgerEra era) -&gt; ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Experimental.AnyScript.html#hashAnyScript"><span class="hs-identifier hs-var">Exp.hashAnyScript</span></a></span><span> </span><span class="annot"><span class="annottext">AnyScript (LedgerEra ConwayEra)
AnyScript ConwayEra
</span><a href="#local-6989586621681730361"><span class="hs-identifier hs-var">script</span></a></span><span>
</span><span id="line-1599"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/text-2.1.2-inplace/src/Data.Text.IO.html#putStrLn"><span class="hs-identifier hs-type">Text.putStrLn</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Serialise.Raw.html#serialiseToRawBytesHexText"><span class="hs-identifier hs-type">serialiseToRawBytesHexText</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730363"><span class="hs-identifier hs-type">hash</span></a></span><span>
</span><span id="line-1600"></span><span>
</span><span id="line-1601"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#partitionSomeWitnesses"><span class="hs-identifier hs-type">partitionSomeWitnesses</span></a></span><span>
</span><span id="line-1602"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.Read.html#ByronOrShelleyWitness"><span class="hs-identifier hs-type">ByronOrShelleyWitness</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1603"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.CLI.Read.html#ShelleyBootstrapWitnessSigningKeyData"><span class="hs-identifier hs-type">ShelleyBootstrapWitnessSigningKeyData</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1604"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyWitnessSigningKey"><span class="hs-identifier hs-type">ShelleyWitnessSigningKey</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1605"></span><span>     </span><span class="hs-special">)</span><span>
</span><span id="line-1606"></span><span id="partitionSomeWitnesses"><span class="annot"><span class="annottext">partitionSomeWitnesses :: [ByronOrShelleyWitness]
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#partitionSomeWitnesses"><span class="hs-identifier hs-var hs-var">partitionSomeWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([ShelleyBootstrapWitnessSigningKeyData],
 [ShelleyWitnessSigningKey])
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
forall {a} {a}. ([a], [a]) -&gt; ([a], [a])
</span><a href="#local-6989586621681730367"><span class="hs-identifier hs-var">reversePartitionedWits</span></a></span><span> </span><span class="annot"><span class="annottext">(([ShelleyBootstrapWitnessSigningKeyData],
  [ShelleyWitnessSigningKey])
 -&gt; ([ShelleyBootstrapWitnessSigningKeyData],
     [ShelleyWitnessSigningKey]))
-&gt; ([ByronOrShelleyWitness]
    -&gt; ([ShelleyBootstrapWitnessSigningKeyData],
        [ShelleyWitnessSigningKey]))
-&gt; [ByronOrShelleyWitness]
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(([ShelleyBootstrapWitnessSigningKeyData],
  [ShelleyWitnessSigningKey])
 -&gt; ByronOrShelleyWitness
 -&gt; ([ShelleyBootstrapWitnessSigningKeyData],
     [ShelleyWitnessSigningKey]))
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
-&gt; [ByronOrShelleyWitness]
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">Foldable.foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">([ShelleyBootstrapWitnessSigningKeyData],
 [ShelleyWitnessSigningKey])
-&gt; ByronOrShelleyWitness
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
</span><a href="#local-6989586621681730369"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">([ShelleyBootstrapWitnessSigningKeyData],
 [ShelleyWitnessSigningKey])
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-1607"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1608"></span><span>  </span><span id="local-6989586621681730367"><span class="annot"><span class="annottext">reversePartitionedWits :: ([a], [a]) -&gt; ([a], [a])
</span><a href="#local-6989586621681730367"><span class="hs-identifier hs-var hs-var">reversePartitionedWits</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681730370"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681730370"><span class="hs-identifier hs-var">bw</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730371"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681730371"><span class="hs-identifier hs-var">skw</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1609"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681730370"><span class="hs-identifier hs-var">bw</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681730371"><span class="hs-identifier hs-var">skw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1610"></span><span>
</span><span id="line-1611"></span><span>  </span><span id="local-6989586621681730369"><span class="annot"><span class="annottext">go :: ([ShelleyBootstrapWitnessSigningKeyData],
 [ShelleyWitnessSigningKey])
-&gt; ByronOrShelleyWitness
-&gt; ([ShelleyBootstrapWitnessSigningKeyData],
    [ShelleyWitnessSigningKey])
</span><a href="#local-6989586621681730369"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681730373"><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
</span><a href="#local-6989586621681730373"><span class="hs-identifier hs-var">byronAcc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730374"><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681730374"><span class="hs-identifier hs-var">shelleyKeyAcc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681730375"><span class="annot"><span class="annottext">ByronOrShelleyWitness
</span><a href="#local-6989586621681730375"><span class="hs-identifier hs-var">byronOrShelleyWit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1612"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByronOrShelleyWitness
</span><a href="#local-6989586621681730375"><span class="hs-identifier hs-var">byronOrShelleyWit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1613"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Read.html#AByronWitness"><span class="hs-identifier hs-type">AByronWitness</span></a></span><span> </span><span id="local-6989586621681730377"><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
</span><a href="#local-6989586621681730377"><span class="hs-identifier hs-var">byronWit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1614"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
</span><a href="#local-6989586621681730377"><span class="hs-identifier hs-var">byronWit</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
-&gt; [ShelleyBootstrapWitnessSigningKeyData]
-&gt; [ShelleyBootstrapWitnessSigningKeyData]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
</span><a href="#local-6989586621681730373"><span class="hs-identifier hs-var">byronAcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681730374"><span class="hs-identifier hs-var">shelleyKeyAcc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1615"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Read.html#AShelleyKeyWitness"><span class="hs-identifier hs-type">AShelleyKeyWitness</span></a></span><span> </span><span id="local-6989586621681730379"><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681730379"><span class="hs-identifier hs-var">shelleyKeyWit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1616"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ShelleyBootstrapWitnessSigningKeyData]
</span><a href="#local-6989586621681730373"><span class="hs-identifier hs-var">byronAcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681730379"><span class="hs-identifier hs-var">shelleyKeyWit</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
-&gt; [ShelleyWitnessSigningKey] -&gt; [ShelleyWitnessSigningKey]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[ShelleyWitnessSigningKey]
</span><a href="#local-6989586621681730374"><span class="hs-identifier hs-var">shelleyKeyAcc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1617"></span><span>
</span><span id="line-1618"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1619"></span><span class="hs-comment">-- Other misc small commands</span><span>
</span><span id="line-1620"></span><span class="hs-comment">--</span><span>
</span><span id="line-1621"></span><span>
</span><span id="line-1622"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionHashScriptDataCmd"><span class="hs-identifier hs-type">runTransactionHashScriptDataCmd</span></a></span><span>
</span><span id="line-1623"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1624"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionHashScriptDataCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionHashScriptDataCmdArgs</span></a></span><span>
</span><span id="line-1625"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1626"></span><span id="runTransactionHashScriptDataCmd"><span class="annot"><span class="annottext">runTransactionHashScriptDataCmd :: TransactionHashScriptDataCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionHashScriptDataCmd"><span class="hs-identifier hs-var hs-var">runTransactionHashScriptDataCmd</span></a></span></span><span>
</span><span id="line-1627"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionHashScriptDataCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionHashScriptDataCmdArgs</span></a></span><span>
</span><span id="line-1628"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681730381"><span class="annot"><span class="annottext">ScriptDataOrFile
scriptDataOrFile :: ScriptDataOrFile
scriptDataOrFile :: TransactionHashScriptDataCmdArgs -&gt; ScriptDataOrFile
</span><a href="#local-6989586621681730381"><span class="hs-identifier hs-var hs-var">scriptDataOrFile</span></a></span></span><span>
</span><span id="line-1629"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1630"></span><span>    </span><span id="local-6989586621681730383"><span class="annot"><a href="#local-6989586621681730383"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ScriptDataError -&gt; TxCmdError)
-&gt; ExceptT ScriptDataError IO HashableScriptData
-&gt; ExceptT TxCmdError IO HashableScriptData
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">ScriptDataError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdScriptDataError"><span class="hs-identifier hs-var">TxCmdScriptDataError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT ScriptDataError IO HashableScriptData
 -&gt; ExceptT TxCmdError IO HashableScriptData)
-&gt; ExceptT ScriptDataError IO HashableScriptData
-&gt; ExceptT TxCmdError IO HashableScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptDataOrFile -&gt; ExceptT ScriptDataError IO HashableScriptData
forall (m :: * -&gt; *).
MonadIO m =&gt;
ScriptDataOrFile -&gt; ExceptT ScriptDataError m HashableScriptData
</span><a href="Cardano.CLI.EraBased.Script.Read.Common.html#readScriptDataOrFile"><span class="hs-identifier hs-var">readScriptDataOrFile</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptDataOrFile
</span><a href="#local-6989586621681730381"><span class="hs-identifier hs-var">scriptDataOrFile</span></a></span><span>
</span><span id="line-1631"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Char8.html#putStrLn"><span class="hs-identifier hs-type">BS.putStrLn</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Serialise.Raw.html#serialiseToRawBytesHex"><span class="hs-identifier hs-type">serialiseToRawBytesHex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#hashScriptDataBytes"><span class="hs-identifier hs-type">hashScriptDataBytes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730383"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1632"></span><span>
</span><span id="line-1633"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionTxIdCmd"><span class="hs-identifier hs-type">runTransactionTxIdCmd</span></a></span><span>
</span><span id="line-1634"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1635"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionTxIdCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionTxIdCmdArgs</span></a></span><span>
</span><span id="line-1636"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1637"></span><span id="runTransactionTxIdCmd"><span class="annot"><span class="annottext">runTransactionTxIdCmd :: TransactionTxIdCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionTxIdCmd"><span class="hs-identifier hs-var hs-var">runTransactionTxIdCmd</span></a></span></span><span>
</span><span id="line-1638"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionTxIdCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionTxIdCmdArgs</span></a></span><span>
</span><span id="line-1639"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681730390"><span class="annot"><span class="annottext">InputTxBodyOrTxFile
inputTxBodyOrTxFile :: InputTxBodyOrTxFile
inputTxBodyOrTxFile :: TransactionTxIdCmdArgs -&gt; InputTxBodyOrTxFile
</span><a href="#local-6989586621681730390"><span class="hs-identifier hs-var hs-var">inputTxBodyOrTxFile</span></a></span></span><span>
</span><span id="line-1640"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730392"><span class="annot"><span class="annottext">Vary '[FormatJson, FormatText, FormatYaml]
outputFormat :: Vary '[FormatJson, FormatText, FormatYaml]
outputFormat :: TransactionTxIdCmdArgs
-&gt; Vary '[FormatJson, FormatText, FormatYaml]
</span><a href="#local-6989586621681730392"><span class="hs-identifier hs-var hs-var">outputFormat</span></a></span></span><span>
</span><span id="line-1641"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1642"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681730400"><span class="annot"><a href="#local-6989586621681730400"><span class="hs-identifier hs-var">_era</span></a></span></span><span> </span><span id="local-6989586621681730401"><span class="annot"><a href="#local-6989586621681730401"><span class="hs-identifier hs-var">txbody</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1643"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">InputTxBodyOrTxFile
</span><a href="#local-6989586621681730390"><span class="hs-identifier hs-var">inputTxBodyOrTxFile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1644"></span><span>        </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#InputTxBodyFile"><span class="hs-identifier hs-type">InputTxBodyFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681730402"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730402"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1645"></span><span>          </span><span id="local-6989586621681730403"><span class="annot"><a href="#local-6989586621681730403"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730402"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1646"></span><span>          </span><span id="local-6989586621681730404"><span class="annot"><a href="#local-6989586621681730404"><span class="hs-identifier hs-var">unwitnessed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1647"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">newExceptT</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1648"></span><span>              </span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-type">readFileTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730403"><span class="hs-identifier hs-type">txbodyFile</span></a></span><span>
</span><span id="line-1649"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html#unIncompleteTxBody"><span class="hs-identifier hs-var">unIncompleteTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730404"><span class="hs-identifier hs-type">unwitnessed</span></a></span><span>
</span><span id="line-1650"></span><span>        </span><span class="annot"><a href="Cardano.CLI.Type.Common.html#InputTxFile"><span class="hs-identifier hs-type">InputTxFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681730405"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730405"><span class="hs-identifier hs-var">txFilePath</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1651"></span><span>          </span><span id="local-6989586621681730406"><span class="annot"><a href="#local-6989586621681730406"><span class="hs-identifier hs-var">txFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730405"><span class="hs-identifier hs-var">txFilePath</span></a></span><span>
</span><span id="line-1652"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681730410"><span class="annot"><a href="#local-6989586621681730410"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681730411"><span class="annot"><a href="#local-6989586621681730411"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-type">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTx"><span class="hs-identifier hs-type">readFileTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730406"><span class="hs-identifier hs-type">txFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1653"></span><span>          </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-type">return</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730410"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#getTxBody"><span class="hs-identifier hs-type">getTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730411"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-1654"></span><span>
</span><span id="line-1655"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681730412"><span class="annot"><a href="#local-6989586621681730412"><span class="hs-identifier hs-var hs-var">txId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; TxId
forall era. TxBody era -&gt; TxId
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#getTxId"><span class="hs-identifier hs-var">getTxId</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681730401"><span class="hs-identifier hs-var">txbody</span></a></span><span>
</span><span id="line-1656"></span><span>
</span><span id="line-1657"></span><span>    </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-type">liftIO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1658"></span><span>      </span><span class="annot"><a href="#local-6989586621681730392"><span class="hs-identifier hs-type">outputFormat</span></a></span><span>
</span><span id="line-1659"></span><span>        </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-type">id</span></a></span><span>
</span><span id="line-1660"></span><span>              </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vary.on</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatJson
</span><a href="Cardano.CLI.Type.Common.html#FormatJson"><span class="hs-identifier hs-var">FormatJson</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxSubmissionResult -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeJson"><span class="hs-identifier hs-var">Json.encodeJson</span></a></span><span> </span><span class="annot"><span class="annottext">(TxSubmissionResult -&gt; ByteString)
-&gt; TxSubmissionResult -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxSubmissionResult
</span><a href="Cardano.CLI.Type.Common.html#TxSubmissionResult"><span class="hs-identifier hs-var">TxSubmissionResult</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681730412"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1661"></span><span>              </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vary.on</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatText
</span><a href="Cardano.CLI.Type.Common.html#FormatText"><span class="hs-identifier hs-var">FormatText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Char8.html#putStrLn"><span class="hs-identifier hs-var">BS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Serialise.Raw.html#serialiseToRawBytesHex"><span class="hs-identifier hs-var">serialiseToRawBytesHex</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681730412"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1662"></span><span>              </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vary.on</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">FormatYaml
</span><a href="Cardano.CLI.Type.Common.html#FormatYaml"><span class="hs-identifier hs-var">FormatYaml</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Lazy.Char8.html#putStrLn"><span class="hs-identifier hs-var">LBS.putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxSubmissionResult -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.CLI.Json.Encode.html#encodeYaml"><span class="hs-identifier hs-var">Json.encodeYaml</span></a></span><span> </span><span class="annot"><span class="annottext">(TxSubmissionResult -&gt; ByteString)
-&gt; TxSubmissionResult -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxSubmissionResult
</span><a href="Cardano.CLI.Type.Common.html#TxSubmissionResult"><span class="hs-identifier hs-var">TxSubmissionResult</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681730412"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1663"></span><span>              </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Vary.exhaustiveCase</span></span><span>
</span><span id="line-1664"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1665"></span><span>
</span><span id="line-1666"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-1667"></span><span class="hs-comment">-- Witness commands</span><span>
</span><span id="line-1668"></span><span class="hs-comment">--</span><span>
</span><span id="line-1669"></span><span>
</span><span id="line-1670"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionWitnessCmd"><span class="hs-identifier hs-type">runTransactionWitnessCmd</span></a></span><span>
</span><span id="line-1671"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1672"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionWitnessCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionWitnessCmdArgs</span></a></span><span>
</span><span id="line-1673"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1674"></span><span id="runTransactionWitnessCmd"><span class="annot"><span class="annottext">runTransactionWitnessCmd :: TransactionWitnessCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionWitnessCmd"><span class="hs-identifier hs-var hs-var">runTransactionWitnessCmd</span></a></span></span><span>
</span><span id="line-1675"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionWitnessCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionWitnessCmdArgs</span></a></span><span>
</span><span id="line-1676"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txBodyFile :: TransactionWitnessCmdArgs -&gt; File (TxBody ()) 'In
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txBodyFile"><span class="hs-identifier hs-var">txBodyFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681730415"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730415"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span>
</span><span id="line-1677"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730416"><span class="annot"><span class="annottext">WitnessSigningData
witnessSigningData :: WitnessSigningData
witnessSigningData :: TransactionWitnessCmdArgs -&gt; WitnessSigningData
</span><a href="#local-6989586621681730416"><span class="hs-identifier hs-var hs-var">witnessSigningData</span></a></span></span><span>
</span><span id="line-1678"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730418"><span class="annot"><span class="annottext">Maybe NetworkId
mNetworkId :: Maybe NetworkId
mNetworkId :: TransactionWitnessCmdArgs -&gt; Maybe NetworkId
</span><a href="#local-6989586621681730418"><span class="hs-identifier hs-var hs-var">mNetworkId</span></a></span></span><span>
</span><span id="line-1679"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730420"><span class="annot"><span class="annottext">File () 'Out
outFile :: File () 'Out
outFile :: TransactionWitnessCmdArgs -&gt; File () 'Out
</span><a href="#local-6989586621681730420"><span class="hs-identifier hs-var hs-var">outFile</span></a></span></span><span>
</span><span id="line-1680"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1681"></span><span>    </span><span id="local-6989586621681730422"><span class="annot"><a href="#local-6989586621681730422"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730415"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1682"></span><span>    </span><span id="local-6989586621681730423"><span class="annot"><a href="#local-6989586621681730423"><span class="hs-identifier hs-var">unwitnessed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1683"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">newExceptT</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1684"></span><span>        </span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-type">readFileTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730422"><span class="hs-identifier hs-type">txbodyFile</span></a></span><span>
</span><span id="line-1685"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621681730423"><span class="hs-identifier hs-type">unwitnessed</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1686"></span><span>      </span><span class="annot"><a href="Cardano.CLI.Read.html#IncompleteTxBody"><span class="hs-identifier hs-type">IncompleteTxBody</span></a></span><span> </span><span id="local-6989586621681730424"><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
</span><a href="#local-6989586621681730424"><span class="hs-identifier hs-var">anyTxBody</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1687"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681730433"><span class="annot"><a href="#local-6989586621681730433"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681730434"><span class="annot"><a href="#local-6989586621681730434"><span class="hs-identifier hs-var">txbody</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#ShelleyTxBody"><span class="hs-identifier hs-type">ShelleyTxBody</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681730435"><span class="annot"><a href="#local-6989586621681730435"><span class="hs-identifier hs-var">ledgerTxBody</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
-&gt; ExceptT TxCmdError IO (InAnyShelleyBasedEra TxBody)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyShelleyBasedEra TxBody
</span><a href="#local-6989586621681730424"><span class="hs-identifier hs-var">anyTxBody</span></a></span><span>
</span><span id="line-1688"></span><span>        </span><span id="local-6989586621681730436"><span class="annot"><a href="#local-6989586621681730436"><span class="hs-identifier hs-var">someWit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1689"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdReadWitnessSigningDataError"><span class="hs-identifier hs-type">TxCmdReadWitnessSigningDataError</span></a></span><span>
</span><span id="line-1690"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">newExceptT</span></span><span>
</span><span id="line-1691"></span><span>            </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html#readWitnessSigningData"><span class="hs-identifier hs-type">readWitnessSigningData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730416"><span class="hs-identifier hs-type">witnessSigningData</span></a></span><span>
</span><span id="line-1692"></span><span>        </span><span id="local-6989586621681730437"><span class="annot"><a href="#local-6989586621681730437"><span class="hs-identifier hs-var">witness</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1693"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Cardano.CLI.Read.html#categoriseSomeSigningWitness"><span class="hs-identifier hs-type">categoriseSomeSigningWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730436"><span class="hs-identifier hs-type">someWit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1694"></span><span>            </span><span class="hs-comment">-- Byron witnesses require the network ID. This can either be provided</span><span>
</span><span id="line-1695"></span><span>            </span><span class="hs-comment">-- directly or derived from a provided Byron address.</span><span>
</span><span id="line-1696"></span><span>            </span><span class="annot"><a href="Cardano.CLI.Read.html#AByronWitness"><span class="hs-identifier hs-type">AByronWitness</span></a></span><span> </span><span id="local-6989586621681730438"><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
</span><a href="#local-6989586621681730438"><span class="hs-identifier hs-var">bootstrapWitData</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1697"></span><span>              </span><span class="annot"><span class="annottext">(BootstrapWitnessError -&gt; TxCmdError)
-&gt; ExceptT BootstrapWitnessError IO (KeyWitness era)
-&gt; ExceptT TxCmdError IO (KeyWitness era)
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><span class="hs-identifier hs-var">firstExceptT</span></span><span> </span><span class="annot"><span class="annottext">BootstrapWitnessError -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdBootstrapWitnessError"><span class="hs-identifier hs-var">TxCmdBootstrapWitnessError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT BootstrapWitnessError IO (KeyWitness era)
 -&gt; ExceptT TxCmdError IO (KeyWitness era))
-&gt; (Either BootstrapWitnessError (KeyWitness era)
    -&gt; ExceptT BootstrapWitnessError IO (KeyWitness era))
-&gt; Either BootstrapWitnessError (KeyWitness era)
-&gt; ExceptT TxCmdError IO (KeyWitness era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either BootstrapWitnessError (KeyWitness era)
-&gt; ExceptT BootstrapWitnessError IO (KeyWitness era)
forall e (m :: * -&gt; *) a. MonadError e m =&gt; Either e a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/mtl-2.3.1-inplace/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-var">liftEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either BootstrapWitnessError (KeyWitness era)
 -&gt; ExceptT TxCmdError IO (KeyWitness era))
-&gt; Either BootstrapWitnessError (KeyWitness era)
-&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1698"></span><span>                </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; Maybe NetworkId
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
forall era.
ShelleyBasedEra era
-&gt; Maybe NetworkId
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; ShelleyBootstrapWitnessSigningKeyData
-&gt; Either BootstrapWitnessError (KeyWitness era)
</span><a href="Cardano.CLI.Read.html#mkShelleyBootstrapWitness"><span class="hs-identifier hs-var">mkShelleyBootstrapWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681730433"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe NetworkId
</span><a href="#local-6989586621681730418"><span class="hs-identifier hs-var">mNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody (ShelleyLedgerEra era)
</span><a href="#local-6989586621681730435"><span class="hs-identifier hs-var">ledgerTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBootstrapWitnessSigningKeyData
</span><a href="#local-6989586621681730438"><span class="hs-identifier hs-var">bootstrapWitData</span></a></span><span>
</span><span id="line-1699"></span><span>            </span><span class="annot"><a href="Cardano.CLI.Read.html#AShelleyKeyWitness"><span class="hs-identifier hs-type">AShelleyKeyWitness</span></a></span><span> </span><span id="local-6989586621681730439"><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681730439"><span class="hs-identifier hs-var">skShelley</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1700"></span><span>              </span><span class="annot"><span class="annottext">KeyWitness era -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyWitness era -&gt; ExceptT TxCmdError IO (KeyWitness era))
-&gt; KeyWitness era -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
forall era.
ShelleyBasedEra era
-&gt; TxBody era -&gt; ShelleyWitnessSigningKey -&gt; KeyWitness era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeShelleyKeyWitness"><span class="hs-identifier hs-var">makeShelleyKeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681730433"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681730434"><span class="hs-identifier hs-var">txbody</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681730439"><span class="hs-identifier hs-var">skShelley</span></a></span><span>
</span><span id="line-1701"></span><span>
</span><span id="line-1702"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">firstExceptT</span></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWriteFileError"><span class="hs-identifier hs-type">TxCmdWriteFileError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">newExceptT</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1703"></span><span>          </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxWitnessFileTextEnvelope"><span class="hs-identifier hs-type">writeTxWitnessFileTextEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730433"><span class="hs-identifier hs-type">sbe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730420"><span class="hs-identifier hs-type">outFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730437"><span class="hs-identifier hs-type">witness</span></a></span><span>
</span><span id="line-1704"></span><span>
</span><span id="line-1705"></span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignWitnessCmd"><span class="hs-identifier hs-type">runTransactionSignWitnessCmd</span></a></span><span>
</span><span id="line-1706"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1707"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignWitnessCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSignWitnessCmdArgs</span></a></span><span>
</span><span id="line-1708"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdError"><span class="hs-identifier hs-type">TxCmdError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1709"></span><span id="runTransactionSignWitnessCmd"><span class="annot"><span class="annottext">runTransactionSignWitnessCmd :: TransactionSignWitnessCmdArgs -&gt; ExceptT TxCmdError IO ()
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#runTransactionSignWitnessCmd"><span class="hs-identifier hs-var hs-var">runTransactionSignWitnessCmd</span></a></span></span><span>
</span><span id="line-1710"></span><span>  </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TransactionSignWitnessCmdArgs"><span class="hs-identifier hs-type">Cmd.TransactionSignWitnessCmdArgs</span></a></span><span>
</span><span id="line-1711"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txBodyFile :: TransactionSignWitnessCmdArgs -&gt; File (TxBody ()) 'In
</span><a href="Cardano.CLI.EraBased.Transaction.Command.html#txBodyFile"><span class="hs-identifier hs-var">txBodyFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621681730443"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730443"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span></span><span>
</span><span id="line-1712"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730444"><span class="annot"><span class="annottext">[WitnessFile]
witnessFiles :: [WitnessFile]
witnessFiles :: TransactionSignWitnessCmdArgs -&gt; [WitnessFile]
</span><a href="#local-6989586621681730444"><span class="hs-identifier hs-var hs-var">witnessFiles</span></a></span></span><span>
</span><span id="line-1713"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730446"><span class="annot"><span class="annottext">File () 'Out
outFile :: File () 'Out
outFile :: TransactionSignWitnessCmdArgs -&gt; File () 'Out
</span><a href="#local-6989586621681730446"><span class="hs-identifier hs-var hs-var">outFile</span></a></span></span><span>
</span><span id="line-1714"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681730448"><span class="annot"><span class="annottext">TxCborFormat
isCborOutCanonical :: TxCborFormat
isCborOutCanonical :: TransactionSignWitnessCmdArgs -&gt; TxCborFormat
</span><a href="#local-6989586621681730448"><span class="hs-identifier hs-var hs-var">isCborOutCanonical</span></a></span></span><span>
</span><span id="line-1715"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1716"></span><span>    </span><span id="local-6989586621681730450"><span class="annot"><a href="#local-6989586621681730450"><span class="hs-identifier hs-var">txbodyFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a. IO a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe)
-&gt; IO FileOrPipe -&gt; ExceptT TxCmdError IO FileOrPipe
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileOrPipe
</span><a href="Cardano.CLI.Read.html#fileOrPipe"><span class="hs-identifier hs-var">fileOrPipe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681730443"><span class="hs-identifier hs-var">txbodyFilePath</span></a></span><span>
</span><span id="line-1717"></span><span>    </span><span class="hs-comment">-- unwitnessed body</span><span>
</span><span id="line-1718"></span><span>    </span><span class="annot"><a href="Cardano.CLI.Read.html#IncompleteTxBody"><span class="hs-identifier hs-type">IncompleteTxBody</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681730468"><span class="annot"><a href="#local-6989586621681730468"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681730469"><span class="annot"><a href="#local-6989586621681730469"><span class="hs-identifier hs-var">txbody</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1719"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-type">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTxBody"><span class="hs-identifier hs-type">readFileTxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730450"><span class="hs-identifier hs-type">txbodyFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1720"></span><span>    </span><span id="local-6989586621681730470"><span class="annot"><a href="#local-6989586621681730470"><span class="hs-identifier hs-var">witnesses</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1721"></span><span>      </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Traversable.html#sequence"><span class="hs-identifier hs-type">sequence</span></a></span><span>
</span><span id="line-1722"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1723"></span><span>            </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#InAnyShelleyBasedEra"><span class="hs-identifier hs-type">InAnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621681730479"><span class="annot"><a href="#local-6989586621681730479"><span class="hs-identifier hs-var">era'</span></a></span></span><span> </span><span id="local-6989586621681730480"><span class="annot"><a href="#local-6989586621681730480"><span class="hs-identifier hs-var">witness</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1724"></span><span>              </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/transformers-0.6.1.2-inplace/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-type">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Read.html#readFileTxKeyWitness"><span class="hs-identifier hs-type">readFileTxKeyWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730482"><span class="hs-identifier hs-type">file</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1725"></span><span>                </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Function.html#%26"><span class="hs-operator hs-type">&amp;</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">onLeft</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-type">.</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdTextEnvError"><span class="hs-identifier hs-type">TxCmdTextEnvError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1726"></span><span>
</span><span id="line-1727"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#testEquality"><span class="hs-identifier hs-type">testEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730468"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730479"><span class="hs-identifier hs-type">era'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1728"></span><span>              </span><span class="annot"><span class="annottext">Maybe (era :~: era)
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1729"></span><span>                </span><span class="annot"><span class="annottext">TxCmdError -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall (m :: * -&gt; *) x a. Monad m =&gt; x -&gt; ExceptT x m a
</span><span class="hs-identifier hs-var">left</span></span><span> </span><span class="annot"><span class="annottext">(TxCmdError -&gt; ExceptT TxCmdError IO (KeyWitness era))
-&gt; TxCmdError -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1730"></span><span>                  </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; AnyCardanoEra -&gt; WitnessFile -&gt; TxCmdError
</span><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWitnessEraMismatch"><span class="hs-identifier hs-var">TxCmdWitnessEraMismatch</span></a></span><span>
</span><span id="line-1731"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; AnyCardanoEra
forall era. Typeable era =&gt; CardanoEra era -&gt; AnyCardanoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-var">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">(CardanoEra era -&gt; AnyCardanoEra)
-&gt; CardanoEra era -&gt; AnyCardanoEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681730468"><span class="hs-identifier hs-var">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1732"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra era -&gt; AnyCardanoEra
forall era. Typeable era =&gt; CardanoEra era -&gt; AnyCardanoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-var">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">(CardanoEra era -&gt; AnyCardanoEra)
-&gt; CardanoEra era -&gt; AnyCardanoEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681730479"><span class="hs-identifier hs-var">era'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1733"></span><span>                    </span><span class="annot"><span class="annottext">WitnessFile
</span><a href="#local-6989586621681730484"><span class="hs-identifier hs-var">witnessFile</span></a></span><span>
</span><span id="line-1734"></span><span>              </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">era :~: era
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Data.Type.Equality.html#Refl"><span class="hs-identifier hs-var">Refl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KeyWitness era -&gt; ExceptT TxCmdError IO (KeyWitness era)
forall a. a -&gt; ExceptT TxCmdError IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">KeyWitness era
KeyWitness era
</span><a href="#local-6989586621681730480"><span class="hs-identifier hs-var">witness</span></a></span><span>
</span><span id="line-1735"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681730484"><span class="annot"><a href="#local-6989586621681730484"><span class="hs-identifier hs-var">witnessFile</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.CLI.Type.Common.html#WitnessFile"><span class="hs-identifier hs-type">WitnessFile</span></a></span><span> </span><span id="local-6989586621681730482"><span class="annot"><a href="#local-6989586621681730482"><span class="hs-identifier hs-var">file</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621681730444"><span class="hs-identifier hs-type">witnessFiles</span></a></span><span>
</span><span id="line-1736"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1737"></span><span>
</span><span id="line-1738"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681730488"><span class="annot"><a href="#local-6989586621681730488"><span class="hs-identifier hs-var hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="annot"><span class="annottext">[KeyWitness era]
</span><a href="#local-6989586621681730470"><span class="hs-identifier hs-var">witnesses</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681730469"><span class="hs-identifier hs-var">txbody</span></a></span><span>
</span><span id="line-1739"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-type">modifyError</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.Type.Error.TxCmdError.html#TxCmdWriteFileError"><span class="hs-identifier hs-type">TxCmdWriteFileError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1740"></span><span>      </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Monad.Error.html#hoistIOEither"><span class="hs-identifier hs-type">hoistIOEither</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span>
</span><span id="line-1741"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621681730448"><span class="hs-identifier hs-type">isCborOutCanonical</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-prim-0.13.0-inplace/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-type">==</span></a></span><span> </span><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Command.html#TxCborCanonical"><span class="hs-identifier hs-type">TxCborCanonical</span></a></span><span>
</span><span id="line-1742"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelopeCanonical"><span class="hs-identifier hs-type">writeTxFileTextEnvelopeCanonical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730468"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730446"><span class="hs-identifier hs-type">outFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730488"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-1743"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Tx.Internal.Serialise.html#writeTxFileTextEnvelope"><span class="hs-identifier hs-type">writeTxFileTextEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730468"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730446"><span class="hs-identifier hs-type">outFile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681730488"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-1744"></span><span>
</span><span id="line-1745"></span><span id="local-6989586621681727705"><span class="annot"><a href="Cardano.CLI.EraBased.Transaction.Run.html#getExecutionUnitPrices"><span class="hs-identifier hs-type">getExecutionUnitPrices</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#CardanoEra"><span class="hs-identifier hs-type">CardanoEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727705"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681727705"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-core-1.18.0.0-8aea2308c7e78394f0fdb87d543374edc089ca9225bef647b2adca189999d215/share/doc/html/src/Cardano.Ledger.Plutus.ExUnits.html#Prices"><span class="hs-identifier hs-type">L.Prices</span></a></span></span><span>
</span><span id="line-1746"></span><span id="getExecutionUnitPrices"><span class="annot"><span class="annottext">getExecutionUnitPrices :: forall era.
CardanoEra era -&gt; LedgerProtocolParameters era -&gt; Maybe Prices
</span><a href="Cardano.CLI.EraBased.Transaction.Run.html#getExecutionUnitPrices"><span class="hs-identifier hs-var hs-var">getExecutionUnitPrices</span></a></span></span><span> </span><span id="local-6989586621681730490"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681730490"><span class="hs-identifier hs-var">cEra</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.ProtocolParameters.html#LedgerProtocolParameters"><span class="hs-identifier hs-type">LedgerProtocolParameters</span></a></span><span> </span><span id="local-6989586621681730491"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681730491"><span class="hs-identifier hs-var">pp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1747"></span><span>  </span><span class="annot"><span class="annottext">CardanoEra era -&gt; (AlonzoEraOnwards era -&gt; Prices) -&gt; Maybe Prices
forall (eon :: * -&gt; *) era a.
Eon eon =&gt;
CardanoEra era -&gt; (eon era -&gt; a) -&gt; Maybe a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#forEraInEonMaybe"><span class="hs-identifier hs-var">forEraInEonMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621681730490"><span class="hs-identifier hs-var">cEra</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwards era -&gt; Prices) -&gt; Maybe Prices)
-&gt; (AlonzoEraOnwards era -&gt; Prices) -&gt; Maybe Prices
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681730493"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681730493"><span class="hs-identifier hs-var">aeo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1748"></span><span>    </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; (AlonzoEraOnwardsConstraints era =&gt; Prices) -&gt; Prices
forall era a.
AlonzoEraOnwards era -&gt; (AlonzoEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-api-10.24.0.0-9488c0e5401ab0211f67cd2643c66c81c9f9ec5669a8c5e5e68971f0a0ff7f93/share/doc/html/src/Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#alonzoEraOnwardsConstraints"><span class="hs-identifier hs-var">alonzoEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681730493"><span class="hs-identifier hs-var">aeo</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwardsConstraints era =&gt; Prices) -&gt; Prices)
-&gt; (AlonzoEraOnwardsConstraints era =&gt; Prices) -&gt; Prices
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/n98w0ddppyhnl6qxdzd7dc3akbbdcvy2-ghc-9.12.2-doc/share/doc/ghc-9.12.2/html/libraries/ghc-internal-9.1202.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1749"></span><span>      </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621681730491"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
-&gt; Getting Prices (PParams (ShelleyLedgerEra era)) Prices -&gt; Prices
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Prices (PParams (ShelleyLedgerEra era)) Prices
forall era. AlonzoEraPParams era =&gt; Lens' (PParams era) Prices
Lens' (PParams (ShelleyLedgerEra era)) Prices
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.12.2-inplace/cardano-ledger-alonzo-1.14.0.0-d73ceb911243aab8a77f40c0742090dc8a815492f89d73573dabdaa0d1884273/share/doc/html/src/Cardano.Ledger.Alonzo.PParams.html#ppPricesL"><span class="hs-identifier hs-var">L.ppPricesL</span></a></span><span>
</span><span id="line-1750"></span></pre></body></html>